(window.wpATAJsonpFunction=window.wpATAJsonpFunction||[]).push([[3],{210:function(module,exports){window.__ATA_HB=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=198)}([function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t._each=W,t._map=function(e,t){if(z(e))return[];if(M(e.map))return e.map(t);var r=[];return W(e,(function(n,i){r.push(t(n,i,e))})),r},t._setEventEmitter=function(e){p=e},t.adUnitsFilter=function(e,t){return(0,o.includes)(e,t&&t.adUnitCode)},t.bind=void 0,t.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(b.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},t.callBurl=function(e){let{source:t,burl:r}=e;t===a.default.S2S.SRC&&r&&b.triggerPixel(r)},t.checkCookieSupport=ce,t.chunk=function(e,t){let r=[];for(let n=0;n<Math.ceil(e.length/t);n++){let i=n*t,o=i+t;r.push(e.slice(i,o))}return r},t.cleanObj=function(e){return Object.keys(e).reduce((t,r)=>(void 0!==e[r]&&(t[r]=e[r]),t),{})},t.compareOn=function(e){return function(t,r){return t[e]<r[e]?1:t[e]>r[e]?-1:0}},t.contains=function(e,t){if(z(e))return!1;if(M(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1},t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")},t.convertTypes=function(e,t){return Object.keys(e).forEach(r=>{var n,i;t[r]&&(M(e[r])?t[r]=e[r](t[r]):t[r]=(n=e[r],i=t[r],"string"===n?i&&i.toString():"number"===n?Number(i):i),isNaN(t[r])&&delete t.key)}),t},t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=S(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.createTrackPixelHtml=function(e){if(!e)return"";let t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>',t},t.createTrackPixelIframeHtml=X,t.cyrb53Hash=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(M(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},n=3735928559^t,i=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),n=r(n^t,2654435761),i=r(i^t,1597334677);return n=r(n^n>>>16,2246822507)^r(i^i>>>13,3266489909),i=r(i^i>>>16,2246822507)^r(n^n>>>13,3266489909),(4294967296*(2097151&i)+(n>>>0)).toString()},t.debugTurnedOn=U,Object.defineProperty(t,"deepAccess",{enumerable:!0,get:function(){return c.default}}),t.deepClone=se,t.deepEqual=me,Object.defineProperty(t,"deepSetValue",{enumerable:!0,get:function(){return d.dset}}),t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));let r=0;return function(){r++,r===t&&e.apply(this,arguments)}},t.escapeUnsafeChars=void 0,t.fill=function(e,t){let r=[];for(let n=0;n<t;n++){let t=F(e)?se(e):e;r.push(t)}return r},t.flatten=Z,t.formatQS=ge,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getAdUnitSizes=function(e){if(!e)return;let t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){let r=e.mediaTypes.banner.sizes;Array.isArray(r[0])?t=r:t.push(r)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.getBidRequest=function(e,t){if(!e)return;let r;return t.some(t=>{let n=(0,o.find)(t.bids,t=>["bidId","adId","bid_id"].some(r=>t[r]===e));return n&&(r=n),n}),r},t.getBidderCodes=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map(e=>e.bids.map(e=>e.bidder).reduce(Z,[])).reduce(Z,[]).filter($)},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.getDefinedParams=function(e,t){return t.filter(t=>e[t]).reduce((t,r)=>Object.assign(t,{[r]:e[r]}),{})},t.getGptSlotForAdUnitCode=le,t.getGptSlotInfoForAdUnitCode=function(e){const t=le(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}},t.getHighestCpm=void 0,t.getKeyByValue=function(e,t){for(let r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r},t.getKeys=ee,t.getLatestHighestCpmBid=void 0,t.getMaxValueFromArray=function(e){return Math.max(...e)},t.getMinValueFromArray=function(e){return Math.min(...e)},t.getOldestHighestCpmBid=void 0,t.getParameterByName=function(e){return fe(x().search)[e]||""},t.getPerformanceNow=function(){return window.performance&&window.performance.now&&window.performance.now()||0},t.getPrebidInternal=function(){return E},t.getUniqueIdentifierStr=S,t.getUserConfiguredParams=function(e,t,r){return e.filter(e=>e.code===t).map(e=>e.bids).reduce(Z,[]).filter(e=>e.bidder===r).map(e=>e.params||{})},t.getValue=te,t.getValueString=Q,t.getWindowFromDocument=function(e){return e?e.defaultView:null},t.getWindowLocation=x,t.getWindowSelf=R,t.getWindowTop=C,t.groupBy=function(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})},t.hasConsoleLogger=function(){return g},t.hasDeviceAccess=function(){return!1!==n.config.getConfig("deviceAccess")},t.hasOwn=G,t.inIframe=function(){try{return b.getWindowSelf()!==b.getWindowTop()}catch(e){return!0}},t.insertElement=H,t.insertHtmlIntoIframe=function(e){if(!e)return;let t=document.createElement("iframe");t.id=S(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",b.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()},t.insertUserSyncIframe=J,t.internal=void 0,t.isA=j,t.isAdUnitCodeMatchingSlot=function(e){return t=>de(e,t)},t.isApnGetTagDefined=function(){if(window.apntag&&M(window.apntag.getTag))return!0},t.isArray=L,t.isArrayOfNums=function(e,t){return L(e)&&(!t||e.length===t)&&e.every(e=>pe(e))},t.isBoolean=function(e){return j(e,"Boolean")},t.isEmpty=z,t.isEmptyStr=function(e){return q(e)&&(!e||0===e.length)},t.isFn=M,t.isGptPubadsDefined=re,t.isInteger=pe,t.isNumber=V,t.isPlainObject=F,t.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},t.isSlotMatchingAdUnitCode=ue,t.isStr=q,t.isValidMediaTypes=function(e){const t=["banner","native","video"];return!!Object.keys(e).every(e=>(0,o.includes)(t,e))&&(!e.video||!e.video.context||(0,o.includes)(["instream","outstream","adpod"],e.video.context))},t.logError=N,t.logInfo=k,t.logMessage=P,t.logWarn=D,t.memoize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};const r=new Map,n=function(){const n=t.apply(this,arguments);return r.has(n)||r.set(n,e.apply(this,arguments)),r.get(n)};return n.clear=r.clear.bind(r),n},t.mergeDeep=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(!n.length)return t;const o=n.shift();if(F(t)&&F(o))for(const r in o)F(o[r])?(t[r]||Object.assign(t,{[r]:{}}),e(t[r],o[r])):L(o[r])?t[r]?L(t[r])&&o[r].forEach(e=>{let n=1;for(let i=0;i<t[r].length;i++)if(me(t[r][i],e)){n=0;break}n&&t[r].push(e)}):Object.assign(t,{[r]:[...o[r]]}):Object.assign(t,{[r]:o[r]});return e(t,...n)},t.parseGPTSingleSizeArray=w,t.parseGPTSingleSizeArrayToRtbSize=function(e){if(O(e))return{w:e[0],h:e[1]}},t.parseQS=fe,t.parseQueryStringParameters=function(e){let t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t=t.replace(/&$/,""),t},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var i in r)G(r,i)&&r[i].match(n)&&t.push(r[i])}else if("object"==typeof e){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(w(e));else for(var a=0;a<o;a++)t.push(w(e[a]))}return t},t.parseUrl=function(e,t){let r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);let n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:n?r.search:b.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}},t.pick=function(e,t){return"object"!=typeof e?{}:t.reduce((r,n,i)=>{if("function"==typeof n)return r;let o=n,a=n.match(/^(.+?)\sas\s(.+?)$/i);a&&(n=a[1],o=a[2]);let s=e[n];return"function"==typeof t[i+1]&&(s=t[i+1](s,r)),void 0!==s&&(r[o]=s),r},{})},t.prefixLog=function(e){function t(t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t(e,...n)}}return{logError:t(N),logWarn:t(D),logMessage:t(P),logInfo:t(k)}},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.replaceClickThrough=function(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)},t.safeJSONParse=function(e){try{return JSON.parse(e)}catch(e){}},t.setScriptAttributes=function(e,t){for(let r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])},t.shuffle=function(e){let t=e.length;for(;t>0;){let r=Math.floor(Math.random()*t);t--;let n=e[t];e[t]=e[r],e[r]=n}return e},t.timestamp=function(){return(new Date).getTime()},t.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?ee(e).map(t=>"".concat(t,"=").concat(encodeURIComponent(te(e,t)))).join("&"):""},t.transformBidderParamKeywords=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",r=[];return W(e,(e,n)=>{if(L(e)){let r=[];W(e,e=>{((e=Q(t+"."+n,e))||""===e)&&r.push(e)}),e=r}else{if(!q(e=Q(t+"."+n,e)))return;e=[e]}r.push({key:n,value:e})}),r},t.triggerPixel=Y,t.tryAppendQueryString=function(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e},t.uniques=$,t.unsupportedBidderMessage=function(e,t){const r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(r," ad unit\n    containing bidders that don't support ").concat(r,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.waitForElementToLoad=K,r(4),r(13),r(30),r(246),r(248),r(256),r(257),r(258),r(259),r(260),r(261),r(262),r(265),r(268),r(1),r(128),r(16),r(35);var n=r(8),i=u(r(271)),o=r(12),a=u(r(25)),s=r(48),c=u(r(272)),d=r(273);function u(e){return e&&e.__esModule?e:{default:e}}var l=Object.prototype.toString;let p,f=Boolean(window.console),g=Boolean(f&&window.console.log),m=Boolean(f&&window.console.info),h=Boolean(f&&window.console.warn),y=Boolean(f&&window.console.error);function v(){null!=p&&p(...arguments)}const b={checkCookieSupport:ce,createTrackPixelIframeHtml:X,getWindowSelf:R,getWindowTop:C,getWindowLocation:x,insertUserSyncIframe:J,insertElement:H,isFn:M,triggerPixel:Y,logError:N,logWarn:D,logMessage:P,logInfo:k,parseQS:fe,formatQS:ge,deepEqual:me};t.internal=b;let E={};var A={};let I=function(e,t){return t}.bind(null,1,A)()===A?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}};t.bind=I;var T,_=(T=0,function(){return++T});function S(){return _()+Math.random().toString(16).substr(2)}function w(e){if(O(e))return e[0]+"x"+e[1]}function O(e){return L(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function C(){return window.top}function R(){return window.self}function x(){return window.location}function P(){U()&&g&&console.log.apply(console,B(arguments,"MESSAGE:"))}function k(){U()&&m&&console.info.apply(console,B(arguments,"INFO:"))}function D(){U()&&h&&console.warn.apply(console,B(arguments,"WARNING:")),v(a.default.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function N(){U()&&y&&console.error.apply(console,B(arguments,"ERROR:")),v(a.default.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function B(e,t){e=[].slice.call(e);let r=n.config.getCurrentBidder();return t&&e.unshift(t),r&&e.unshift(i("#aaa")),e.unshift(i("#3b88c3")),e.unshift("%cPrebid"+(r?"%c".concat(r):"")),e;function i(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function U(){return!!n.config.getConfig("debug")}function j(e,t){return l.call(e)==="[object "+t+"]"}function M(e){return j(e,"Function")}function q(e){return j(e,"String")}function L(e){return j(e,"Array")}function V(e){return j(e,"Number")}function F(e){return j(e,"Object")}function z(e){if(!e)return!0;if(L(e)||q(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function W(e,t){if(!z(e)){if(M(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(n>0)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function G(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function H(e,t,r,n){let i;t=t||document,i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if(i=i.length?i:t.getElementsByTagName("body"),i.length){i=i[0];let t=n?null:i.firstChild;return i.insertBefore(e,t)}}catch(e){}}function K(e,t){let r=null;return new s.GreedyPromise(n=>{const i=function(){e.removeEventListener("load",i),e.removeEventListener("error",i),null!=r&&window.clearTimeout(r),n()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(r=window.setTimeout(i,t))})}function Y(e,t,r){const n=new Image;t&&b.isFn(t)&&K(n,r).then(t),n.src=e}function J(e,t,r){let n=b.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=n;let o=i.firstChild;t&&b.isFn(t)&&K(o,r).then(t),b.insertElement(o,document,"html",!0)}function X(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'.concat(r,'"')),"<iframe ".concat(r,' id="').concat(S(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function Q(e,t,r){return null==t?r:q(t)?t:V(t)?t.toString():void b.logWarn("Unsuported type for param: "+e+" required type: String")}function $(e,t,r){return r.indexOf(e)===t}function Z(e,t){return e.concat(t)}function ee(e){return Object.keys(e)}function te(e,t){return e[t]}function re(){if(window.googletag&&M(window.googletag.pubads)&&M(window.googletag.pubads().getSlots))return!0}const ne=ae("timeToRespond",(e,t)=>e>t);t.getHighestCpm=ne;const ie=ae("responseTimestamp",(e,t)=>e>t);t.getOldestHighestCpmBid=ie;const oe=ae("responseTimestamp",(e,t)=>e<t);function ae(e,t){return(r,n)=>r.cpm===n.cpm?t(r[e],n[e])?n:r:r.cpm<n.cpm?n:r}function se(e){return(0,i.default)(e)}function ce(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}t.getLatestHighestCpmBid=oe;const de=(e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t;function ue(e){return t=>de(t,e)}function le(e){let t;return re()&&(t=(0,o.find)(window.googletag.pubads().getSlots(),ue(e))),t}function pe(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function fe(e){return e?e.replace(/^\?/,"").split("&").reduce((e,t)=>{let[r,n]=t.split("=");return/\[\]$/.test(r)?(r=r.replace("[]",""),e[r]=e[r]||[],e[r].push(n)):e[r]=n||"",e},{}):{}}function ge(e){return Object.keys(e).map(t=>Array.isArray(e[t])?e[t].map(e=>"".concat(t,"[]=").concat(e)).join("&"):"".concat(t,"=").concat(e[t])).join("&")}function me(e,t){let{checkTypes:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||r&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){if(!t.hasOwnProperty(n))return!1;if(!me(e[n],t[n],{checkTypes:r}))return!1}return!0}const he=(()=>{const e={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};return function(t){return t.replace(/[<>\b\f\n\r\t\0\u2028\u2029\\]/g,t=>e[t])}})();t.escapeUnsafeChars=he},function(e,t,r){"use strict";var n=r(7),i=r(21),o=r(15),a=r(144),s=r(110);n({target:"Array",proto:!0,arity:1,forced:r(2)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=o(t),n=arguments.length;s(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return a(t,r),r}})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(80),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);e.exports=n?a:function(e){return function(){return o.apply(e,arguments)}}},function(e,t,r){var n=r(5),i=r(227),o=r(228),a=r(157),s=r(26),c=r(11),d=c("iterator"),u=c("toStringTag"),l=a.values,p=function(e,t){if(e){if(e[d]!==l)try{s(e,d,l)}catch(t){e[d]=l}if(e[u]||s(e,u,t),i[t])for(var r in a)if(e[r]!==a[r])try{s(e,r,a[r])}catch(t){e[r]=a[r]}}};for(var f in i)p(n[f]&&n[f].prototype,f);p(o,"DOMTokenList")},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r(201))},function(e,t,r){var n=r(133),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},function(e,t,r){var n=r(5),i=r(79).f,o=r(26),a=r(34),s=r(102),c=r(107),d=r(109);e.exports=function(e,t){var r,u,l,p,f,g=e.target,m=e.global,h=e.stat;if(r=m?n:h?n[g]||s(g,{}):(n[g]||{}).prototype)for(u in t){if(p=t[u],l=e.dontCallGetSet?(f=i(r,u))&&f.value:r[u],!d(m?u:g+(h?".":"#")+u,e.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(e.sham||l&&l.sham)&&o(p,"sham",!0),a(r,u,p,e)}}},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.RANDOM=void 0,t.newConfig=l,r(16),r(4),r(35),r(1);var n,i=r(182),o=r(12),a=r(0),s=(n=r(25))&&n.__esModule?n:{default:n};const c="TRUE"===(0,a.getParameterByName)(s.default.DEBUG_MODE).toUpperCase();t.RANDOM="random";const d={random:!0,fixed:!0},u={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};function l(){let e,t,r,n=[],s=null;function l(){e={};let n={_debug:c,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:null,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){(0,a.logWarn)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),this._publisherDomain=e},_priceGranularity:u.MEDIUM,set priceGranularity(e){l(e)&&("string"==typeof e?this._priceGranularity=s(e)?e:u.MEDIUM:(0,a.isPlainObject)(e)&&(this._customPriceBucket=e,this._priceGranularity=u.CUSTOM,(0,a.logMessage)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){this._mediaTypePriceGranularity=Object.keys(e).reduce((t,r)=>(l(e[r])?"string"==typeof e?t[r]=s(e[r])?e[r]:this._priceGranularity:(0,a.isPlainObject)(e)&&(t[r]=e[r],(0,a.logMessage)("Using custom price granularity for ".concat(r))):(0,a.logWarn)("Invalid price granularity for media type: ".concat(r)),t),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:"random",get bidderSequence(){return this._bidderSequence},set bidderSequence(e){d[e]?this._bidderSequence=e:(0,a.logWarn)("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!(0,a.isPlainObject)(e))return(0,a.logWarn)("Auction Options must be an object"),!1;for(let t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return(0,a.logWarn)("Auction Options given an incorrect param: ".concat(t)),!1;if("secondaryBidders"===t){if(!(0,a.isArray)(e[t]))return(0,a.logWarn)("Auction Options ".concat(t," must be of type Array")),!1;if(!e[t].every(a.isStr))return(0,a.logWarn)("Auction Options ".concat(t," must be only string")),!1}else if("suppressStaleRender"===t&&!(0,a.isBoolean)(e[t]))return(0,a.logWarn)("Auction Options ".concat(t," must be of type boolean")),!1}return!0})(e)&&(this._auctionOptions=e)}};function s(e){return(0,o.find)(Object.keys(u),t=>e===u[t])}function l(e){if(!e)return(0,a.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)s(e)||(0,a.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,a.isPlainObject)(e)&&!(0,i.isValidPriceConfig)(e))return(0,a.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&b(Object.keys(t).reduce((e,r)=>(t[r]!==n[r]&&(e[r]=n[r]||{}),e),{})),t=n,r={}}function p(){if(s&&r&&(0,a.isPlainObject)(r[s])){let e=r[s];const n=new Set(Object.keys(t).concat(Object.keys(e)));return(0,o.arrayFrom)(n).reduce((r,n)=>(void 0===e[n]?r[n]=t[n]:void 0===t[n]?r[n]=e[n]:(0,a.isPlainObject)(e[n])?r[n]=(0,a.mergeDeep)({},t[n],e[n]):r[n]=e[n],r),{})}return Object.assign({},t)}const[f,g]=[p,function(){const e=p();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map(e=>function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){const t=arguments.length<=0?void 0:arguments[0];return t?(0,a.deepAccess)(e(),t):p()}return v(...arguments)}),[m,h]=[g,f].map(e=>function(){let t=e(...arguments);return t&&"object"==typeof t&&(t=(0,a.deepClone)(t)),t});function y(r){if(!(0,a.isPlainObject)(r))return void(0,a.logError)("setConfig options must be an object");let n=Object.keys(r),i={};n.forEach(n=>{let o=r[n];(0,a.isPlainObject)(e[n])&&(0,a.isPlainObject)(o)&&(o=Object.assign({},e[n],o));try{i[n]=t[n]=o}catch(e){(0,a.logWarn)("Cannot set config for property ".concat(n," : "),e)}}),b(i)}function v(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t;if("string"!=typeof e&&(i=e,e="*",r=t||{}),"function"!=typeof i)return void(0,a.logError)("listener must be a function");const o={topic:e,callback:i};return n.push(o),r.init&&i("*"===e?g():{[e]:g(e)}),function(){n.splice(n.indexOf(o),1)}}function b(e){const t=Object.keys(e);n.filter(e=>(0,o.includes)(t,e.topic)).forEach(t=>{t.callback({[t.topic]:e[t.topic]})}),n.filter(e=>"*"===e.topic).forEach(t=>t.callback(e))}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{n(e),e.bidders.forEach(n=>{r[n]||(r[n]={}),Object.keys(e.config).forEach(i=>{let o=e.config[i];if((0,a.isPlainObject)(o)){const e=t?a.mergeDeep:Object.assign;r[n][i]=e({},r[n][i]||{},o)}else r[n][i]=o})})}catch(e){(0,a.logError)(e)}function n(e){if(!(0,a.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,a.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"}}function A(e,t){s=e;try{return t()}finally{I()}}function I(){s=null}return l(),{getCurrentBidder:function(){return s},resetBidder:I,getConfig:g,getAnyConfig:f,readConfig:m,readAnyConfig:h,setConfig:y,mergeConfig:function(e){if(!(0,a.isPlainObject)(e))return void(0,a.logError)("mergeConfig input must be an object");const t=(0,a.mergeDeep)(p(),e);return y({...t}),t},setDefaults:function(r){(0,a.isPlainObject)(e)?(Object.assign(e,r),Object.assign(t,r)):(0,a.logError)("defaults must be an object")},resetConfig:l,runWithBidder:A,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return A(e,a.bind.call(t,this,...n))}(0,a.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:E,getBidderConfig:function(){return r},mergeBidderConfig:function(e){return E(e,!0)}}}const p=l();t.config=p},function(e,t,r){var n=r(2);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){var n=r(80),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},function(e,t,r){var n=r(5),i=r(100),o=r(14),a=r(103),s=r(99),c=r(134),d=n.Symbol,u=i("wks"),l=c?d.for||d:d&&d.withoutSetter||a;e.exports=function(e){return o(u,e)||(u[e]=s&&o(d,e)?d[e]:l("Symbol."+e)),u[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayFrom=function(){return Array.from.apply(Array,arguments)},t.find=function(e,t,r){return e&&e.find(t,r)},t.findIndex=function(e,t,r){return e&&e.findIndex(t,r)},t.includes=function(e,t,r){return e&&e.includes(t,r)||!1},r(17)},function(e,t,r){"use strict";var n=r(7),i=r(121);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,r){var n=r(3),i=r(21),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},function(e,t,r){var n=r(54);e.exports=function(e){return n(e.length)}},function(e,t,r){"use strict";var n=r(7),i=r(239).left,o=r(165),a=r(63);n({target:"Array",proto:!0,forced:!r(64)&&a>79&&a<83||!o("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(7),i=r(139).includes,o=r(2),a=r(119);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,r){var n=r(6),i=r(133),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===o}:function(e){return"object"==typeof e?null!==e:n(e)}},function(e,t,r){var n=r(18),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not an object")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO=t.NATIVE=t.BANNER=t.ADPOD=void 0,t.NATIVE="native",t.VIDEO="video",t.BANNER="banner",t.ADPOD="adpod"},function(e,t,r){var n=r(61),i=Object;e.exports=function(e){return i(n(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.registerAliasesForPrebidAdapter=function(e,t){e.forEach(e=>{g(e,(0,s.default)(e,t))})},r(24),r(1),r(4);var n=u(r(71)),i=u(r(163)),o=u(r(231)),a=u(r(164)),s=u(r(238)),c=u(r(300)),d=u(r(301));function u(e){return e&&e.__esModule?e:{default:e}}let l={},p={};const f=(0,i.default)();function g(e,t){l[e]=t}var m={getBids:function(e,t){const r=[],i=e.partners.map(e=>{let{code:t}=e;return t}),o=new d.default(i);function a(e){if(!o.didAdapterFinished(e.code)&&(o.setStatusFinished(e.code),r.push(e),o.didAllAdaptersFinished())){r.forEach(e=>{let{code:t,response:r}=e;r&&r.forEach(e=>{const r=f();e.bidId=r,p[r]={code:t,bid:e}})});const e=(0,c.default)(r);t(e)}}if(e&&e.partners&&e.partners.length){const t=[],r=(e,r,n)=>{t.push(n?{error:n,code:e,request:r}:{code:e,request:r})};e.partners.forEach(t=>{const{code:i}=t,o=l[i];if(!o)return a({code:i,error:n.default.UNKNOWN_BIDDER}),void r(i,t,n.default.UNKNOWN_BIDDER);try{!function(t,r){let{code:i,timeout:o,params:s,tries:c,slots:d,schain:u}=r;if(c){let r,l=[],p=0;const f=n=>{const i=n.code,o=n.response,m=n.error,h=n.stats;m?(clearTimeout(g),a({code:i,error:m,stats:h})):(p++,l=[...l,...o],r||(r=h),p===c?(clearTimeout(g),a({code:i,response:l,stats:r})):t.getBids(d,s,e.gdpr,u,e.usPrivacy,f))},g=setTimeout(()=>{0===l.length?a({code:i,error:n.default.BIDDER_TIMEOUT}):a({code:i,response:l,stats:r})},o);t.getBids(d,s,e.gdpr,u,e.usPrivacy,f)}else{const r=setTimeout(()=>{a({code:i,error:n.default.BIDDER_TIMEOUT})},o);t.getBids(d,s,e.gdpr,u,e.usPrivacy,e=>{clearTimeout(r),a(e)})}}(o,t),r(i,t)}catch(e){a({code:i,error:n.default.ADAPTER_ERROR}),r(i,t,n.default.ADAPTER_ERROR)}}),e.events&&e.events.allBidRequestsSent&&e.events.allBidRequestsSent(t)}else t(r)},renderAd:function(e,t){const r=p[e];l[r.code].renderAd(r.bid,t)},logAd:function(e,t){const r=p[e],n=(0,a.default)({bid:JSON.stringify(r.bid)});(0,o.default)({url:t,method:"POST",data:n,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},registerAdapter:g,unregisterAllAdapters:function(){l={}},getCreativeByBidId:function(e){const t=p[e];return t&&t.bid&&t.bid.ad}};t.default=m},function(e,t,r){var n=r(6),i=r(53),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not a function")}},function(e,t,r){var n=r(7),i=r(37),o=r(88),a=r(10),s=r(3),c=r(2),d=r(6),u=r(82),l=r(149),p=r(226),f=r(99),g=String,m=i("JSON","stringify"),h=s(/./.exec),y=s("".charAt),v=s("".charCodeAt),b=s("".replace),E=s(1..toString),A=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,T=/^[\uDC00-\uDFFF]$/,_=!f||c((function(){var e=i("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),S=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),w=function(e,t){var r=l(arguments),n=p(t);if(d(n)||void 0!==e&&!u(e))return r[1]=function(e,t){if(d(n)&&(t=a(n,this,g(e),t)),!u(t))return t},o(m,null,r)},O=function(e,t,r){var n=y(r,t-1),i=y(r,t+1);return h(I,e)&&!h(T,i)||h(T,e)&&!h(I,n)?"\\u"+E(v(e,0),16):e};m&&n({target:"JSON",stat:!0,arity:3,forced:_||S},{stringify:function(e,t,r){var n=l(arguments),i=o(_?w:m,null,n);return S&&"string"==typeof i?b(i,A,O):i}})},function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","FLOOR_NOT_MET":"Bid does not meet price floor","CANNOT_CONVERT_CURRENCY":"Unable to convert currency"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')},function(e,t,r){var n=r(9),i=r(27),o=r(45);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(9),i=r(135),o=r(136),a=r(19),s=r(81),c=TypeError,d=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=n?o?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=u(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return d(e,t,r)}:d:function(e,t,r){if(a(e),t=s(t),a(r),i)try{return d(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n,i,o,a=r(203),s=r(5),c=r(18),d=r(26),u=r(14),l=r(101),p=r(105),f=r(106),g=s.TypeError,m=s.WeakMap;if(a||l.state){var h=l.state||(l.state=new m);h.get=h.get,h.has=h.has,h.set=h.set,n=function(e,t){if(h.has(e))throw g("Object already initialized");return t.facade=e,h.set(e,t),t},i=function(e){return h.get(e)||{}},o=function(e){return h.has(e)}}else{var y=p("state");f[y]=!0,n=function(e,t){if(u(e,y))throw g("Object already initialized");return t.facade=e,d(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},o=function(e){return u(e,y)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){var n=r(46),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,r){"use strict";var n=r(88),i=r(10),o=r(3),a=r(241),s=r(2),c=r(19),d=r(6),u=r(62),l=r(38),p=r(54),f=r(29),g=r(61),m=r(242),h=r(83),y=r(243),v=r(244),b=r(11)("replace"),E=Math.max,A=Math.min,I=o([].concat),T=o([].push),_=o("".indexOf),S=o("".slice),w="$0"==="a".replace(/./,"$0"),O=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,r){var o=O?"$":"$0";return[function(e,r){var n=g(this),o=u(e)?void 0:h(e,b);return o?i(o,e,n,r):i(t,f(n),e,r)},function(e,i){var a=c(this),s=f(e);if("string"==typeof i&&-1===_(i,o)&&-1===_(i,"$<")){var u=r(t,a,s,i);if(u.done)return u.value}var g=d(i);g||(i=f(i));var h=a.global;if(h){var b=a.unicode;a.lastIndex=0}for(var w=[];;){var O=v(a,s);if(null===O)break;if(T(w,O),!h)break;""===f(O[0])&&(a.lastIndex=m(s,p(a.lastIndex),b))}for(var C,R="",x=0,P=0;P<w.length;P++){for(var k=f((O=w[P])[0]),D=E(A(l(O.index),s.length),0),N=[],B=1;B<O.length;B++)T(N,void 0===(C=O[B])?C:String(C));var U=O.groups;if(g){var j=I([k],N,D,s);void 0!==U&&T(j,U);var M=f(n(i,void 0,j))}else M=y(k,s,D,N,U,i);D>=x&&(R+=S(s,x,D)+M,x=D+k.length)}return R+S(s,x)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!w||O)},function(e,t,r){"use strict";var n,i,o,a=r(170),s=r(9),c=r(5),d=r(6),u=r(18),l=r(14),p=r(46),f=r(53),g=r(26),m=r(34),h=r(47),y=r(42),v=r(94),b=r(50),E=r(11),A=r(103),I=r(28),T=I.enforce,_=I.get,S=c.Int8Array,w=S&&S.prototype,O=c.Uint8ClampedArray,C=O&&O.prototype,R=S&&v(S),x=w&&v(w),P=Object.prototype,k=c.TypeError,D=E("toStringTag"),N=A("TYPED_ARRAY_TAG"),B=a&&!!b&&"Opera"!==p(c.opera),U=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},q=function(e){var t=v(e);if(u(t)){var r=_(t);return r&&l(r,"TypedArrayConstructor")?r.TypedArrayConstructor:q(t)}},L=function(e){if(!u(e))return!1;var t=p(e);return l(j,t)||l(M,t)};for(n in j)(o=(i=c[n])&&i.prototype)?T(o).TypedArrayConstructor=i:B=!1;for(n in M)(o=(i=c[n])&&i.prototype)&&(T(o).TypedArrayConstructor=i);if((!B||!d(R)||R===Function.prototype)&&(R=function(){throw k("Incorrect invocation")},B))for(n in j)c[n]&&b(c[n],R);if((!B||!x||x===P)&&(x=R.prototype,B))for(n in j)c[n]&&b(c[n].prototype,x);if(B&&v(C)!==x&&b(C,x),s&&!l(x,D))for(n in U=!0,h(x,D,{configurable:!0,get:function(){return u(this)?this[N]:void 0}}),j)c[n]&&g(c[n],N,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:U&&N,aTypedArray:function(e){if(L(e))return e;throw k("Target is not a typed array")},aTypedArrayConstructor:function(e){if(d(e)&&(!b||y(R,e)))return e;throw k(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in j){var o=c[i];if(o&&l(o.prototype,e))try{delete o.prototype[e]}catch(r){try{o.prototype[e]=t}catch(e){}}}x[e]&&!r||m(x,e,r?t:B&&w[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(b){if(r)for(n in j)if((i=c[n])&&l(i,e))try{delete i[e]}catch(e){}if(R[e]&&!r)return;try{return m(R,e,r?t:B&&R[e]||t)}catch(e){}}for(n in j)!(i=c[n])||i[e]&&!r||m(i,e,t)}},getTypedArrayConstructor:q,isView:function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||l(j,t)||l(M,t)},isTypedArray:L,TypedArray:R,TypedArrayPrototype:x}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addComponentAuction=void 0,t.getIabSubCategory=function(e,t){let r=i.default.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){let n=r.getSpec().getMappingFileInfo(),i=n.localStorageKey?n.localStorageKey:r.getBidderCode(),o=I.getDataFromLocalStorage(i);if(o){try{o=JSON.parse(o)}catch(t){(0,g.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return o.mapping[t]?o.mapping[t]:null}}},t.isValid=x,t.newBidder=_,t.preloadBidderMappingFile=C,t.processBidderRequests=void 0,t.registerBidder=function(e){const t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function r(e){const r=_(e);i.default.registerBidAdapter(r,e.code,t)}r(e),Array.isArray(e.aliases)&&e.aliases.forEach(t=>{let n,o,a=t;(0,g.isPlainObject)(t)&&(a=t.code,n=t.gvlid,o=t.skipPbsAliasing),i.default.aliasRegistry[a]=e.code,r(Object.assign({},e,{code:a,gvlid:n,skipPbsAliasing:o}))})},t.storage=t.registerSyncInner=void 0,r(1),r(97),r(17),r(24),r(16),r(4);var n=A(r(285)),i=A(r(75)),o=r(8),a=r(98),s=r(74),c=r(36),d=r(130),u=A(r(25)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(57)),p=r(12),f=r(95),g=r(0),m=r(20),h=r(44),y=r(52),v=r(40),b=r(58),E=r(76);function A(e){return e&&e.__esModule?e:{default:e}}const I=(0,y.getCoreStorageManager)("bidderFactory");t.storage=I;const T=["cpm","ttl","creativeId","netRevenue","currency"];function _(e){return Object.assign(new n.default(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(n,s,c,d,p,f){if(!Array.isArray(n.bids))return;const m={},h=[];function y(){c(),o.config.runWithBidder(e.code,()=>{l.emit(u.default.EVENTS.BIDDER_DONE,n),t(h,n.gdprConsent,n.uspConsent,n.gppConsent)})}const v=P(n).measureTime("validate",()=>n.bids.filter(r));if(0===v.length)return void y();const A={};v.forEach(e=>{A[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)}),S(e,v,n,d,f,{onRequest:e=>l.emit(u.default.EVENTS.BEFORE_BIDDER_HTTP,n,e),onResponse:t=>{p(e.code),h.push(t)},onFledgeAuctionConfigs:e=>{e.forEach(e=>{const t=A[e.bidId];t&&O(t,e)})},onError:(t,r)=>{p(e.code),i.default.callBidderError(e.code,r,n),l.emit(u.default.EVENTS.BIDDER_ERROR,{error:r,bidderRequest:n}),(0,g.logError)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(r.status,". Continuing without bids."))},onBid:t=>{const r=A[t.requestId];if(r){if(t.adapterCode=r.bidder,function(e,t){let r=b.bidderSettings.get(t,"allowAlternateBidderCodes")||!1,n=b.bidderSettings.get(t,"allowedAlternateBidderCodes");return!!(e&&t&&t!==e&&(n=(0,g.isArray)(n)?n.map(e=>e.trim().toLowerCase()).filter(e=>!!e).filter(g.uniques):n,!r||(0,g.isArray)(n)&&"*"!==n[0]&&!n.includes(e)))}(t.bidderCode,r.bidder))return(0,g.logWarn)("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(r.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void s.reject(r.adUnitCode,t,u.default.REJECTION_REASON.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[r.bidder]);const e=Object.assign((0,a.createBid)(u.default.STATUS.GOOD,r),t);!function(e,t){const r=(0,E.useMetrics)(t.metrics);r.checkpoint("addBidResponse"),m[e]=!0,r.measureTime("addBidResponse.validate",()=>x(e,t))?s(e,t):s.reject(e,t,u.default.REJECTION_REASON.INVALID)}(r.adUnitCode,e)}else(0,g.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),s.reject(null,t,u.default.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:y})}});function t(t,r,n,i){w(e,t,r,n,i)}function r(t){return!!e.isBidRequestValid(t)||((0,g.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}const S=(0,h.hook)("sync",(function(e,t,r,n,i,o){let{onRequest:a,onResponse:s,onFledgeAuctionConfigs:c,onError:d,onBid:u,onCompletion:l}=o;const p=P(r);l=p.startTiming("total").stopBefore(l);let f=p.measureTime("buildRequests",()=>e.buildRequests(t,r));if(!f||0===f.length)return void l();Array.isArray(f)||(f=[f]);const m=(0,g.delayExecution)(l,f.length);f.forEach(t=>{const r=p.fork();function o(e){null!=e&&(e.metrics=r.fork().renameWith()),u(e)}const l=i((function(n,i){h();try{n=JSON.parse(n)}catch(e){}n={body:n,headers:{get:i.getResponseHeader.bind(i)}},s(n);try{n=r.measureTime("interpretResponse",()=>e.interpretResponse(n,t))}catch(t){return(0,g.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void m()}let a;n&&(0,g.isArray)(n.fledgeAuctionConfigs)?(c(n.fledgeAuctionConfigs),a=n.bids):a=n,a&&((0,g.isArray)(a)?a.forEach(o):o(a)),m()})),f=i((function(e,t){h(),d(e,t),m()}));a(t);const h=r.startTiming("net");switch(t.method){case"GET":n("".concat(t.url).concat(function(e){return e?"?".concat("object"==typeof e?(0,g.parseQueryStringParameters)(e):e):""}(t.data)),{success:l,error:f},void 0,Object.assign({method:"GET",withCredentials:!0},t.options));break;case"POST":n(t.url,{success:l,error:f},"string"==typeof t.data?t.data:JSON.stringify(t.data),Object.assign({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,g.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),m()}})}),"processBidderRequests");t.processBidderRequests=S;const w=(0,h.hook)("async",(function(e,t,r,n,a){const c=o.config.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(c||!i.default.aliasRegistry[e.code])){let i=o.config.getConfig("userSync.filterSettings"),c=e.getUserSyncs({iframeEnabled:!(!i||!i.iframe&&!i.all),pixelEnabled:!(!i||!i.image&&!i.all)},t,r,n,a);c&&(Array.isArray(c)||(c=[c]),c.forEach(t=>{s.userSync.registerSync(t.type,e.code,t.url)}))}}),"registerSyncs");t.registerSyncInner=w;const O=(0,h.hook)("sync",(e,t)=>{(0,g.logInfo)("bidderFactory.addComponentAuction",t)},"addComponentAuction");function C(e,t){if(!o.config.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(e=>(0,g.deepAccess)(e,"mediaTypes.video.context")===m.ADPOD).map(e=>e.bids.map(e=>e.bidder)).reduce(g.flatten,[]).filter(g.uniques).forEach(e=>{let t=i.default.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){let r=t.getSpec().getMappingFileInfo(),n=r.refreshInDays?r.refreshInDays:1,i=r.localStorageKey?r.localStorageKey:t.getSpec().code,o=I.getDataFromLocalStorage(i);try{o=o?JSON.parse(o):void 0,(!o||(0,g.timestamp)()>o.lastUpdated+24*n*60*60*1e3)&&(0,f.ajax)(r.url,{success:t=>{try{t=JSON.parse(t);let e={lastUpdated:(0,g.timestamp)(),mapping:t.mapping};I.setDataInLocalStorage(i,JSON.stringify(e))}catch(t){(0,g.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:()=>{(0,g.logError)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){(0,g.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}}}),e.call(this,t)}function R(e,t){let{index:r=v.auctionManager.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;const n=r.getBidRequest(t),i=r.getMediaTypes(t),o=n&&n.sizes||i&&i.banner&&i.banner.sizes,a=(0,g.parseSizesInput)(o);if(1===a.length){const[e,r]=a[0].split("x");return t.width=parseInt(e,10),t.height=parseInt(r,10),!0}return!1}function x(e,t){let{index:r=v.auctionManager.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function n(){let e=Object.keys(t);return T.every(r=>(0,p.includes)(e,r)&&!(0,p.includes)([void 0,null],t[r]))}function i(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?n()?"native"!==t.mediaType||(0,c.nativeBidIsValid)(t,{index:r})?"video"!==t.mediaType||(0,d.isValidVideoBid)(t,{index:r})?!("banner"===t.mediaType&&!R(e,t,{index:r})&&((0,g.logError)(i("Banner bids require a width and height")),1)):((0,g.logError)(i("Video bid does not have required vastUrl or renderer property")),!1):((0,g.logError)(i("Native bid missing some required properties.")),!1):((0,g.logError)(i("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):((0,g.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,g.logWarn)("No adUnitCode was supplied to addBidResponse."),!1)}function P(e){return(0,E.useMetrics)(e.metrics).renameWith(t=>["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)])}t.addComponentAuction=O,(0,h.getHook)("checkAdUnitSetup").before(C)},function(e,t){e.exports=!1},function(e,t,r){var n=r(6),i=r(27),o=r(137),a=r(102);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,d=void 0!==s.name?s.name:t;if(n(r)&&o(r,d,s),s.global)c?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},function(e,t,r){var n=r(7),i=r(5),o=r(88),a=r(207),s=i.WebAssembly,c=7!==Error("e",{cause:7}).cause,d=function(e,t){var r={};r[e]=a(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},u=function(e,t){if(s&&s[e]){var r={};r[e]=a("WebAssembly."+e,t,c),n({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},r)}};d("Error",(function(e){return function(t){return o(e,this,arguments)}})),d("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),d("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),d("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),d("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),d("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),d("URIError",(function(e){return function(t){return o(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NATIVE_TARGETING_KEYS=t.IMAGE=void 0,t.convertOrtbRequestToProprietaryNative=function(e){{if(!e||!(0,i.isArray)(e))return e;if(!e.some(e=>{var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[c.NATIVE])||void 0===t?void 0:t.ortb}))return e;let t=(0,i.deepClone)(e);for(const e of t)e.mediaTypes&&e.mediaTypes[c.NATIVE]&&e.mediaTypes[c.NATIVE].ortb&&(e.mediaTypes[c.NATIVE]=Object.assign((0,i.pick)(e.mediaTypes[c.NATIVE],h),k(e.mediaTypes[c.NATIVE].ortb)),e.nativeParams=I(e.mediaTypes[c.NATIVE]));return t}},t.decorateAdUnitsWithNativeParams=function(e){e.forEach(e=>{const t=e.nativeParams||(0,i.deepAccess)(e,"mediaTypes.native");t&&(e.nativeParams=I(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||P(e.nativeParams))})},t.fireClickTrackers=O,t.fireImpressionTrackers=w,t.fireNativeTrackers=function(e,t){const r=t.native.ortb||D(t.native);return"click"===e.action?O(r,null==e?void 0:e.assetId):w(r),e.action},t.fromOrtbNativeRequest=k,t.getAllAssetsMessage=function(e,t){return C(e,t,null)},t.getAssetMessage=function(e,t){const r=e.assets.map(e=>(0,i.getKeyByValue)(s.default.NATIVE_KEYS,e));return C(e,t,r)},t.getNativeTargeting=function(e){let{index:t=a.auctionManager.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};const n=t.getAdUnit(e);(0,i.deepAccess)(n,"nativeParams.rendererUrl")?e.native.rendererUrl=R(n.nativeParams.rendererUrl):(0,i.deepAccess)(n,"nativeParams.adTemplate")&&(e.native.adTemplate=R(n.nativeParams.adTemplate));const o=!1!==(0,i.deepAccess)(n,"nativeParams.sendTargetingKeys"),s=x(n),c={...e.native,...e.native.ext};return delete c.ext,Object.keys(c).forEach(t=>{const a=s[t];let c=R(e.native[t])||R((0,i.deepAccess)(e,"native.ext.".concat(t)));if("adTemplate"===t||!a||!c)return;let d=(0,i.deepAccess)(n,"nativeParams.".concat(t,".sendId"));"boolean"!=typeof d&&(d=(0,i.deepAccess)(n,"nativeParams.ext.".concat(t,".sendId"))),d&&(c="".concat(a,":").concat(e.adId));let u=(0,i.deepAccess)(n,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=(0,i.deepAccess)(n,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:o)&&(r[a]=c)}),r},t.hasNonNativeBidder=void 0,t.isNativeOpenRTBBidValid=S,t.isOpenRTBBidRequestValid=T,t.legacyPropertiesToOrtbNative=D,t.nativeAdapters=t.nativeAdUnit=void 0,t.nativeBidIsValid=function(e){var t;let{index:r=a.auctionManager.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.getAdUnit(e);if(!n)return!1;let i=n.nativeOrtbRequest,o=(null===(t=e.native)||void 0===t?void 0:t.ortb)||N(e.native,i);return S(o,i)},t.nativeBidder=void 0,t.processNativeAdUnitParams=I,t.toLegacyResponse=function(e,t){const r={},n=(null==t?void 0:t.assets)||[];r.clickUrl=e.link.url,r.privacyLink=e.privacy;for(const t of(null==e?void 0:e.assets)||[]){const e=n.find(e=>t.id===e.id);t.title?r.title=t.title.text:t.img?r[e.img.type===g.MAIN?"image":"icon"]=t.img.url:t.data&&(r[v[b[e.data.type]]]=t.data.value)}r.impressionTrackers=[];let i=[];null!=t&&t.imptrackers&&r.impressionTrackers.push(...t.imptrackers);for(const t of(null==e?void 0:e.eventtrackers)||[])t.event===A&&t.method===E.img&&r.impressionTrackers.push(t.url),t.event===A&&t.method===E.js&&i.push(t.url);return i=i.map(e=>'<script async src="'.concat(e,'"><\/script>')),null!=e&&e.jstracker&&i.push(e.jstracker),i.length&&(r.javascriptTrackers=i.join("\n")),r},t.toOrtbNativeRequest=P,t.toOrtbNativeResponse=N,r(4),r(16),r(1),r(17);var n,i=r(0),o=r(12),a=r(40),s=(n=r(25))&&n.__esModule?n:{default:n},c=r(20);const d=[];t.nativeAdapters=d;const u=Object.keys(s.default.NATIVE_KEYS).map(e=>s.default.NATIVE_KEYS[e]);t.NATIVE_TARGETING_KEYS=u;const l={ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}};t.IMAGE=l;const p={image:l},{NATIVE_ASSET_TYPES:f,NATIVE_IMAGE_TYPES:g,PREBID_NATIVE_DATA_KEYS_TO_ORTB:m,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:h,NATIVE_KEYS:y}=s.default,v=B(m),b=B(f),E={img:1,js:2,1:"img",2:"js"},A=1;function I(e){if(e&&e.type&&function(e){return!(!e||!(0,o.includes)(Object.keys(p),e))||((0,i.logError)("".concat(e," nativeParam is not supported")),!1)}(e.type)&&(e=p[e.type]),!e||!e.ortb||T(e.ortb))return e}function T(e){const t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,i.logError)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;const r=t.map(e=>e.id);return t.length!==new Set(r).size||r.some(e=>e!==parseInt(e,10))?((0,i.logError)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,i.logError)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every(e=>function(e){if(!(0,i.isPlainObject)(e))return(0,i.logError)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,i.isNumber)(e.img.w)&&!(0,i.isNumber)(e.img.wmin))return(0,i.logError)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,i.isNumber)(e.img.h)&&!(0,i.isNumber)(e.img.hmin))return(0,i.logError)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,i.isNumber)(e.title.len))return(0,i.logError)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,i.isNumber)(e.data.type))return(0,i.logError)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,i.isNumber)(e.video.minduration)&&(0,i.isNumber)(e.video.maxduration)))return(0,i.logError)("video asset is not properly configured"),!1;return!0}(e))}t.nativeAdUnit=e=>{const t="native"===e.mediaType,r=(0,i.deepAccess)(e,"mediaTypes.native");return t||r};const _=e=>(0,o.includes)(d,e.bidder);function S(e,t){if(!(0,i.deepAccess)(e,"link.url"))return(0,i.logError)("native response doesn't have 'link' property. Ortb response: ",e),!1;let r=t.assets.filter(e=>1===e.required).map(e=>e.id),n=e.assets.map(e=>e.id);const a=r.every(e=>(0,o.includes)(n,e));return a||(0,i.logError)("didn't receive a bid with all required assets. Required ids: ".concat(r,", but received ids in response: ").concat(n)),a}function w(e){let{runMarkup:t=(e=>(0,i.insertHtmlIntoIframe)(e)),fetchURL:r=i.triggerPixel}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(e.eventtrackers||[]).filter(e=>e.event===A);let{img:o,js:a}=n.reduce((e,t)=>(E.hasOwnProperty(t.method)&&e[E[t.method]].push(t.url),e),{img:[],js:[]});e.imptrackers&&(o=o.concat(e.imptrackers)),o.forEach(e=>r(e)),a=a.map(e=>'<script async src="'.concat(e,'"><\/script>')),e.jstracker&&(a=a.concat([e.jstracker])),a.length&&t(a.join("\n"))}function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{fetchURL:r=i.triggerPixel}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var n;const i=(e.assets||[]).filter(e=>e.link).reduce((e,t)=>(e[t.id]=t.link,e),{}),o=(null===(n=e.link)||void 0===n?void 0:n.clicktrackers)||[];let a=i[t],s=o;a&&(s=a.clicktrackers||[]),s.forEach(e=>r(e))}else{var o;((null===(o=e.link)||void 0===o?void 0:o.clicktrackers)||[]).forEach(e=>r(e))}}function C(e,t,r){const n={message:"assetResponse",adId:e.adId};let i=t.native;return t.native.ortb&&(n.ortb=t.native.ortb),n.assets=[],(null==r?Object.keys(i):r).forEach((function(e){if("adTemplate"===e&&i[e])n.adTemplate=R(i[e]);else if("rendererUrl"===e&&i[e])n.rendererUrl=R(i[e]);else if("ext"===e)Object.keys(i[e]).forEach(t=>{if(i[e][t]){const r=R(i[e][t]);n.assets.push({key:t,value:r})}});else if(i[e]&&s.default.NATIVE_KEYS.hasOwnProperty(e)){const t=R(i[e]);n.assets.push({key:e,value:t})}})),n}function R(e){return(null==e?void 0:e.url)||e}function x(e){const t={};return(0,i.deepAccess)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach(e=>{t[e]="hb_native_".concat(e)}),{...s.default.NATIVE_KEYS,...t}}function P(e){if(!e&&!(0,i.isPlainObject)(e))return void(0,i.logError)("Native assets object is empty or not an object: ",e);const t={ver:"1.2",assets:[]};for(let r in e){if(h.includes(r))continue;if(!y.hasOwnProperty(r)){(0,i.logError)("Unrecognized native asset code: ".concat(r,". Asset will be ignored."));continue}const n=e[r];let o=0;n.required&&(0,i.isBoolean)(n.required)&&(o=Number(n.required));const a={id:t.assets.length,required:o};if(r in m)a.data={type:f[m[r]]},n.len&&(a.data.len=n.len);else if("icon"===r||"image"===r){if(a.img={type:"icon"===r?g.ICON:g.MAIN},n.aspect_ratios)if((0,i.isArray)(n.aspect_ratios))if(n.aspect_ratios.length){const{min_width:e,min_height:t}=n.aspect_ratios[0];(0,i.isInteger)(e)&&(0,i.isInteger)(t)?(a.img.wmin=e,a.img.hmin=t):(0,i.logError)("image.aspect_ratios min_width or min_height are invalid: ",e,t);const r=n.aspect_ratios.filter(e=>e.ratio_width&&e.ratio_height).map(e=>"".concat(e.ratio_width,":").concat(e.ratio_height));r.length>0&&(a.img.ext={aspectratios:r})}else(0,i.logError)("image.aspect_ratios was passed, but it's empty:",n.aspect_ratios);else(0,i.logError)("image.aspect_ratios was passed, but it's not a an array:",n.aspect_ratios);n.sizes&&(2===n.sizes.length&&(0,i.isInteger)(n.sizes[0])&&(0,i.isInteger)(n.sizes[1])?(a.img.w=n.sizes[0],a.img.h=n.sizes[1],delete a.img.hmin,delete a.img.wmin):(0,i.logError)("image.sizes was passed, but its value is not an array of integers:",n.sizes))}else"title"===r?a.title={len:n.len||140}:"ext"===r&&(a.ext=n,delete a.required);t.assets.push(a)}return t}function k(e){if(!T(e))return;const t={};for(const r of e.assets)if(r.title){const e={required:!!r.required&&Boolean(r.required),len:r.title.len};t.title=e}else if(r.img){const e={required:!!r.required&&Boolean(r.required)};r.img.w&&r.img.h?e.sizes=[r.img.w,r.img.h]:r.img.wmin&&r.img.hmin&&(e.aspect_ratios={min_width:r.img.wmin,min_height:r.img.hmin,ratio_width:r.img.wmin,ratio_height:r.img.hmin}),r.img.type===g.MAIN?t.image=e:t.icon=e}else if(r.data){let e=Object.keys(f).find(e=>f[e]===r.data.type),n=Object.keys(m).find(t=>m[t]===e);t[n]={required:!!r.required&&Boolean(r.required)},r.data.len&&(t[n].len=r.data.len)}return t}function D(e){const t={link:{},eventtrackers:[]};return Object.entries(e).forEach(e=>{let[r,n]=e;switch(r){case"clickUrl":t.link.url=n;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(n)?n:[n];break;case"impressionTrackers":(Array.isArray(n)?n:[n]).forEach(e=>{t.eventtrackers.push({event:A,method:E.img,url:e})});break;case"javascriptTrackers":t.jstracker=Array.isArray(n)?n.join(""):n}}),t}function N(e,t){const r={...D(e),assets:[]};function n(e,n){let o=t.assets.find(e);null!=o&&(o=(0,i.deepClone)(o),n(o),r.assets.push(o))}return Object.keys(e).filter(t=>!!e[t]).forEach(t=>{const r=e[t];switch(t){case"title":n(e=>null!=e.title,e=>{e.title={text:r}});break;case"image":case"icon":const e="image"===t?g.MAIN:g.ICON;n(t=>null!=t.img&&t.img.type===e,e=>{e.img={url:r}});break;default:t in m&&n(e=>null!=e.data&&e.data.type===f[m[t]],e=>{e.data={value:r}})}}),r}function B(e){var t={};for(var r in e)t[e[r]]=r;return t}t.nativeBidder=_,t.hasNonNativeBidder=e=>e.bids.filter(e=>!_(e)).length},function(e,t,r){var n=r(5),i=r(6),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},function(e,t,r){var n=r(205);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},function(e,t,r){var n=r(90),i=r(23),o=r(80),a=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auctionManager=void 0,t.newAuctionManager=u,r(16),r(1);var n,i=r(0),o=r(277),a=r(12),s=r(295),c=(n=r(25))&&n.__esModule?n:{default:n},d=r(76);function u(){const e=[],t={addWinningBid:function(t){const r=(0,d.useMetrics)(t.metrics);r.checkpoint("bidWon"),r.timeBetween("auctionEnd","bidWon","render.pending"),r.timeBetween("requestBids","bidWon","render.e2e");const n=(0,a.find)(e,e=>e.getAuctionId()===t.auctionId);n?(t.status=c.default.BID_STATUS.RENDERED,n.addWinningBid(t)):(0,i.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map(e=>e.getWinningBids()).reduce(i.flatten,[])},getBidsRequested:function(){return e.map(e=>e.getBidRequests()).reduce(i.flatten,[])},getNoBids:function(){return e.map(e=>e.getNoBids()).reduce(i.flatten,[])},getBidsReceived:function(){return e.map(e=>{if(e.getAuctionStatus()===o.AUCTION_COMPLETED)return e.getBidsReceived()}).reduce(i.flatten,[]).filter(e=>e)},getAllBidsForAdUnitCode:function(t){return e.map(e=>e.getBidsReceived()).reduce(i.flatten,[]).filter(e=>e&&e.adUnitCode===t)},getAdUnits:function(){return e.map(e=>e.getAdUnits()).reduce(i.flatten,[])},getAdUnitCodes:function(){return e.map(e=>e.getAdUnitCodes()).reduce(i.flatten,[]).filter(i.uniques)},createAuction:function(t){const r=(0,o.newAuction)(t);return function(t){e.push(t)}(r),r},findBidByAdId:function(t){return(0,a.find)(e.map(e=>e.getBidsReceived()).reduce(i.flatten,[]),e=>e.adId===t)},getStandardBidderAdServerTargeting:function(){return(0,o.getStandardBidderSettings)()[c.default.JSON_MAPPING.ADSERVER_TARGETING]},setStatusForBids:function(r,n){let i=t.findBidByAdId(r);if(i&&(i.status=n),i&&n===c.default.BID_STATUS.BID_TARGETING_SET){const t=(0,a.find)(e,e=>e.getAuctionId()===i.auctionId);t&&t.setBidTargeting(i)}},getLastAuctionId:function(){return e.length&&e[e.length-1].getAuctionId()},clearAllAuctions:function(){e.length=0}};return t.index=new s.AuctionIndex(()=>e),t}const l=u();t.auctionManager=l},function(e,t,r){var n=r(3),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},function(e,t,r){var n=r(3);e.exports=n({}.isPrototypeOf)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=a,t.executeRenderer=function(e,t,r){let n=null;e.config&&e.config.documentResolver&&(n=e.config.documentResolver(t,document,r)),n||(n=document),e.documentContext=n,e.render(t,e.documentContext)},t.isRendererRequired=function(e){return!(!e||!e.url)},r(1),r(128);var n=r(129),i=r(0),o=r(12);function a(e){const{url:t,config:r,id:o,callback:a,loaded:c,adUnitCode:d,renderNow:u}=e;this.url=t,this.config=r,this.handlers={},this.id=o,this.loaded=c,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):(0,i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||(()=>{this.loaded=!0,this.process()}),this.render=function(){const e=arguments,r=()=>{this._render?this._render.apply(this,e):(0,i.logWarn)("No render function was provided, please use .setRender on the renderer")};s(d)?((0,i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(d)),r()):u?r():(this.cmd.unshift(r),(0,n.loadExternalScript)(t,"outstream",this.callback,this.documentContext))}.bind(this)}function s(e){const t=pbjs.adUnits,r=(0,o.find)(t,t=>t.code===e);if(!r)return!1;const n=(0,i.deepAccess)(r,"renderer"),a=!!(n&&n.url&&n.render),s=(0,i.deepAccess)(r,"mediaTypes.video.renderer"),c=!!(s&&s.url&&s.render);return!!(a&&!0!==n.backupOnly||c&&!0!==s.backupOnly)}a.install=function(e){let{url:t,config:r,id:n,callback:i,loaded:o,adUnitCode:s,renderNow:c}=e;return new a({url:t,config:r,id:n,callback:i,loaded:o,adUnitCode:s,renderNow:c})},a.prototype.getConfig=function(){return this.config},a.prototype.setRender=function(e){this._render=e},a.prototype.setEventHandlers=function(e){this.handlers=e},a.prototype.handleVideoEvent=function(e){let{id:t,eventName:r}=e;"function"==typeof this.handlers[r]&&this.handlers[r](),(0,i.logMessage)("Prebid Renderer event for id ".concat(t," type ").concat(r))},a.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,i.logError)("Error processing Renderer command: ",e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hook=t.getHook=void 0,t.module=function(e,t){let{postInstallAllowed:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a("async",(function(n){n.forEach(e=>t(...e)),r&&(u[e]=t)}),e)([])},t.ready=void 0,t.setupBeforeHookFnOnce=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,n=e.getHooks({hook:t});0===n.length&&e.before(t,r)},t.submodule=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i=u[e];if(i)return i(...r);d(e).before((e,t)=>{t.push(r),e(t)})},t.wrapHook=function(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map(t=>[t,{get:()=>e[t]}]))),t},r(4),r(1),r(72);var n,i=(n=r(279))&&n.__esModule?n:{default:n},o=r(48);let a=(0,i.default)({ready:i.default.SYNC|i.default.ASYNC|i.default.QUEUE});t.hook=a;const s=(0,o.defer)();a.ready=(()=>{const e=a.ready;return function(){try{return e.apply(a,arguments)}finally{s.resolve()}}})();const c=s.promise;t.ready=c;const d=a.get;t.getHook=d;const u={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(210),i=r(6),o=r(41),a=r(11)("toStringTag"),s=Object,c="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?r:c?o(t):"Object"==(n=o(t))&&i(t.callee)?"Arguments":n}},function(e,t,r){var n=r(137),i=r(27);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GreedyPromise=void 0,t.defer=function(){let e,t,{promiseFactory:r=(e=>new l(e))}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function n(e){return t=>e(t)}return{promise:r((r,n)=>{e=r,t=n}),resolve:n(e),reject:n(t)}},r(1),r(4),r(78),r(35);var n=r(73);function i(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function o(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,s(e,t,"get"))}function a(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,s(e,t,"set"),r),r}function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var c=new WeakMap,d=new WeakMap,u=new WeakMap;class l extends((0,n.getGlobal)().Promise||Promise){static timeout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new l(t=>{0===e?t():setTimeout(t,e)})}constructor(e){const t=[],r=[];function n(e,n){return function(i){if(!t.length){for(t.push(e,i);r.length;)r.shift()();n(i)}}}super("function"!=typeof e?e:(t,r)=>{const i=n(1,r),o=(()=>{const e=n(0,t);return t=>"function"==typeof(null==t?void 0:t.then)?t.then(e,i):e(t)})();try{e(o,i)}catch(e){i(e)}}),i(this,c,{writable:!0,value:void 0}),i(this,d,{writable:!0,value:void 0}),i(this,u,{writable:!0,value:null}),a(this,c,t),a(this,d,r)}then(e,t){if("function"==typeof t){let e=this;for(;e;){super.then.call(e,null,()=>null);const t=o(e,u);a(e,u,null),e=t}}const r=o(this,c),n=new l((n,i)=>{const a=()=>{let o=r[1],[a,s]=0===r[0]?[e,n]:[t,i];if("function"==typeof a){try{o=a(o)}catch(e){return void i(e)}s=n}s(o)};r.length?a():o(this,d).push(a)});return a(n,u,this),n}static resolve(e){return new this(t=>t(e))}static reject(e){return new this((t,r)=>r(e))}}t.GreedyPromise=l},function(e,t){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(e,t,r){var n=r(208),i=r(19),o=r(209);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),o(n),t?e(r,n):r.__proto__=n,r}}():void 0)},function(e,t,r){var n=r(27).f,i=r(14),o=r(11)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCoreStorageManager=function(e){return d({moduleName:e,moduleType:"core"})},t.getStorageManager=function(){let{gvlid:e,moduleName:t,bidderCode:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(arguments.length>1||arguments.length>0&&!(0,i.isPlainObject)(arguments[0]))throw new Error("Invalid invocation for getStorageManager");return d({gvlid:e,moduleName:t,bidderCode:r})},t.newStorageManager=d,t.resetData=function(){t.storageCallbacks=c=[]},t.validateStorageEnforcement=t.storageCallbacks=void 0,r(17),r(1),r(13),r(30),r(35);var n=r(44),i=r(0),o=r(58),a=r(184);const s=["core","prebid-module"];let c=[];function d(){let{gvlid:e,moduleName:t,bidderCode:r,moduleType:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{bidderSettings:d=o.bidderSettings}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function l(){if(null==r)return!0;const e=d.get(r,"storageAllowed");return null!=e&&e}function p(n){if(l()){let o;return u(e,r||t,{hasEnforcementHook:!1},(function(e){if(e&&e.hasEnforcementHook)o=n(e);else{let e={hasEnforcementHook:!1,valid:(0,i.hasDeviceAccess)()};o=n(e)}})),o}return(0,i.logInfo)("bidderSettings denied access to device storage for bidder '".concat(r,"'")),n({valid:!1})}s.includes(n)&&(e=e||a.VENDORLESS_GVLID);const f=function(e,t,r,n,i,o){let a=function(o){if(o&&o.valid){const o=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",a=r&&""!==r?" ;expires=".concat(r):"",s=null!=n&&"none"==n.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(a,"; path=/").concat(o).concat(n?"; SameSite=".concat(n):"").concat(s)}};if(!o||"function"!=typeof o)return p(a);c.push((function(){let e=p(a);o(e)}))},g=function(e,t){let r=function(t){if(t&&t.valid){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null};if(!t||"function"!=typeof t)return p(r);c.push((function(){let e=p(r);t(e)}))},m=function(e){let t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return p(t);c.push((function(){let r=p(t);e(r)}))},h=function(e){let t=function(e){return!(!e||!e.valid)&&(0,i.checkCookieSupport)()};if(!e||"function"!=typeof e)return p(t);c.push((function(){let r=p(t);e(r)}))},y=function(e,t,r){let n=function(r){r&&r.valid&&E()&&window.localStorage.setItem(e,t)};if(!r||"function"!=typeof r)return p(n);c.push((function(){let e=p(n);r(e)}))},v=function(e,t){let r=function(t){return t&&t.valid&&E()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return p(r);c.push((function(){let e=p(r);t(e)}))},b=function(e,t){let r=function(t){t&&t.valid&&E()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return p(r);c.push((function(){let e=p(r);t(e)}))},E=function(e){let t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,i.logError)("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return p(t);c.push((function(){let r=p(t);e(r)}))},A=function(e,t){let r=function(t){if(t&&t.valid){const t=[];if((0,i.hasDeviceAccess)()){const r=document.cookie.split(";");for(;r.length;){const n=r.pop();let i=n.indexOf("=");i=i<0?n.length:i,decodeURIComponent(n.slice(0,i).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(n.slice(i+1)))}}return t}};if(!t||"function"!=typeof t)return p(r);c.push((function(){let e=p(r);t(e)}))};return{setCookie:f,getCookie:g,localStorageIsEnabled:m,cookiesAreEnabled:h,setDataInLocalStorage:y,getDataFromLocalStorage:v,removeDataFromLocalStorage:b,hasLocalStorage:E,findSimilarCookies:A}}t.storageCallbacks=c;const u=(0,n.hook)("async",(function(e,t,r,n){n(r)}),"validateStorageEnforcement");t.validateStorageEnforcement=u},function(e,t){var r=String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},function(e,t,r){var n=r(38),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(42),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw i("Incorrect invocation")}},function(e,t,r){var n,i=r(19),o=r(229),a=r(108),s=r(106),c=r(148),d=r(84),u=r(105)("IE_PROTO"),l=function(){},p=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;g="undefined"!=typeof document?document.domain&&n?f(n):((t=d("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):f(n);for(var r=a.length;r--;)delete g.prototype[a[r]];return g()};s[u]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(l.prototype=i(e),r=new l,l.prototype=null,r[u]=e):r=g(),void 0===t?r:o.f(r,t)}},function(e,t,r){"use strict";r(4),Object.defineProperty(t,"__esModule",{value:!0}),t.addEvents=void 0,t.clearEvents=function(){u.length=0},t.on=t.off=t.getEvents=t.get=t.emit=void 0,r(1);var n,i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(0)),o=(n=r(25))&&n.__esModule?n:{default:n};var a=Array.prototype.slice,s=Array.prototype.push,c=i._map(o.default.EVENTS,(function(e){return e})),d=o.default.EVENT_ID_PATHS,u=[];const l=function(){var e={},t={};function r(t,r){i.logMessage("Emitting event for: "+t);var n=r[0]||{},o=n[d[t]],a=e[t]||{que:[]},c=i._map(a,(function(e,t){return t})),l=[];u.push({eventType:t,args:n,id:o,elapsedTime:i.getPerformanceNow()}),o&&i.contains(c,o)&&s.apply(l,a[o].que),s.apply(l,a.que),i._each(l,(function(e){if(e)try{e.apply(null,r)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,r,n){if(function(e){return i.contains(c,e)}(t)){var o=e[t]||{que:[]};n?(o[n]=o[n]||{que:[]},o[n].que.push(r)):o.que.push(r),e[t]=o}else i.logError("Wrong event name : "+t+" Valid event names :"+c)},t.emit=function(e){var t=a.call(arguments,1);r(e,t)},t.off=function(t,r,n){var o=e[t];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[n])||n&&(i.isEmpty(o[n])||i.isEmpty(o[n].que))||(n?i._each(o[n].que,(function(e){var t=o[n].que;e===r&&t.splice(t.indexOf(e),1)})):i._each(o.que,(function(e){var t=o.que;e===r&&t.splice(t.indexOf(e),1)})),e[t]=o)},t.get=function(){return e},t.addEvents=function(e){c=c.concat(e)},t.getEvents=function(){var e=[];return i._each(u,(function(t){var r=Object.assign({},t);e.push(r)})),e},t}();i._setEventEmitter(l.emit.bind(l));const{on:p,off:f,get:g,getEvents:m,emit:h,addEvents:y}=l;t.addEvents=y,t.emit=h,t.getEvents=m,t.get=g,t.off=f,t.on=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidderSettings=t.ScopedSettings=void 0,r(35),r(4);var n,i=r(0),o=r(73),a=(n=r(25))&&n.__esModule?n:{default:n};function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var c=new WeakSet;class d{constructor(e,t){(function(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)})(this,c),this.getSettings=e,this.defaultScope=t}get(e,t){let r=this.getOwn(e,t);return void 0===r&&(r=this.getOwn(null,t)),r}getOwn(e,t){return e=s(this,c,u).call(this,e),(0,i.deepAccess)(this.getSettings(),"".concat(e,".").concat(t))}getScopes(){return Object.keys(this.getSettings()).filter(e=>e!==this.defaultScope)}settingsFor(e){return(0,i.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=s(this,c,u).call(this,e),this.getSettings()[e]||{}}}function u(e){return null==e?this.defaultScope:e}t.ScopedSettings=d;const l=new d(()=>(0,o.getGlobal)().bidderSettings||{},a.default.JSON_MAPPING.BD_SETTING_STANDARD);t.bidderSettings=l},function(e,t,r){var n=r(60),i=r(61);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(3),i=r(2),o=r(41),a=Object,s=n("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},function(e,t,r){var n=r(62),i=TypeError;e.exports=function(e){if(n(e))throw i("Can't call method on "+e);return e}},function(e,t){e.exports=function(e){return null==e}},function(e,t,r){var n,i,o=r(5),a=r(49),s=o.process,c=o.Deno,d=s&&s.versions||c&&c.version,u=d&&d.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},function(e,t,r){(function(t){var n=r(41);e.exports=void 0!==t&&"process"==n(t)}).call(this,r(206))},function(e,t,r){var n=r(41);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(5);e.exports=n.Promise},function(e,t,r){var n=r(5),i=r(66),o=r(6),a=r(109),s=r(104),c=r(11),d=r(218),u=r(152),l=r(33),p=r(63),f=i&&i.prototype,g=c("species"),m=!1,h=o(n.PromiseRejectionEvent),y=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===p)return!0;if(l&&(!f.catch||!f.finally))return!0;if(!p||p<51||!/native code/.test(e)){var r=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[g]=n,!(m=r.then((function(){}))instanceof n))return!0}return!t&&(d||u)&&!h}));e.exports={CONSTRUCTOR:y,REJECTION_EVENT:h,SUBCLASSING:m}},function(e,t,r){"use strict";var n=r(23),i=TypeError,o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw i("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},function(e,t){e.exports={}},function(e,t,r){var n=r(46),i=r(83),o=r(62),a=r(69),s=r(11)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[n(e)]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={LOAD:"LOAD",RUNTIME:"RUNTIME",REQUEST:"REQUEST",WRONG_PARAMS:"WRONG_PARAMS",UNKNOWN_BIDDER:"UNKNOWN_BIDDER",ADAPTER_ERROR:"ADAPTER_ERROR",BIDDER_TIMEOUT:"BIDDER_TIMEOUT"}},function(e,t,r){var n=r(7),i=r(115),o=r(120);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){o(t,e,r)}),{AS_ENTRIES:!0}),t}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return window.pbjs},r(1),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.USERSYNC_DEFAULT_CONFIG=void 0,t.newUserSync=d,t.userSync=void 0,r(4),r(1);var n=r(0),i=r(8),o=r(12),a=r(52);const s={syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0};t.USERSYNC_DEFAULT_CONFIG=s,i.config.setDefaults({userSync:(0,n.deepClone)(s)});const c=(0,a.getCoreStorageManager)("usersync");function d(e){let t={},r={image:[],iframe:[]},a=new Set,s={},c={image:!0,iframe:!1},d=e.config;function u(){if(d.syncEnabled&&e.browserSupportsCookies){try{c.iframe&&l(r.iframe,e=>{let[t,i]=e;(0,n.logMessage)("Invoking iframe user sync for bidder: ".concat(t)),(0,n.insertUserSyncIframe)(i),function(e,t){e.image=e.image.filter(e=>e[0]!==t)}(r,t)}),c.image&&l(r.image,e=>{let[t,r]=e;(0,n.logMessage)("Invoking image pixel user sync for bidder: ".concat(t)),(0,n.triggerPixel)(r)})}catch(e){return(0,n.logError)("Error firing user syncs",e)}r={image:[],iframe:[]}}}function l(e,t){(0,n.shuffle)(e).forEach(e=>{t(e),a.add(e[0])})}return i.config.getConfig("userSync",e=>{if(e.userSync){let t=e.userSync.filterSettings;(0,n.isPlainObject)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}d=Object.assign(d,e.userSync)}),t.registerSync=(e,i,o)=>a.has(i)?(0,n.logMessage)('already fired syncs for "'.concat(i,'", ignoring registerSync call')):d.syncEnabled&&(0,n.isArray)(r[e])?i?0!==d.syncsPerBidder&&Number(s[i])>=d.syncsPerBidder?(0,n.logWarn)('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(r[e].push([i,o]),void(s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,i))):(0,n.logWarn)('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):(0,n.logWarn)("Bidder is required for registering sync"):(0,n.logWarn)('User sync type "'.concat(e,'" not supported')),t.syncUsers=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(u,Number(e));u()},t.triggerUserSyncs=()=>{d.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=(e,t)=>!d.filterSettings||!function(e,t){let r=d.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,n.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;let r=e.all?e.all:e[t],i=e.all?"all":t;if(!r)return!1;let o=r.filter,a=r.bidders;return o&&"include"!==o&&"exclude"!==o?((0,n.logWarn)('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(o,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===a||Array.isArray(a)&&a.length>0&&a.every(e=>(0,n.isStr)(e)&&"*"!==e))||((0,n.logWarn)('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(r,e)){c[e]=!0;let n=r.all?r.all:r[e],i="*"===n.bidders?[t]:n.bidders;return{include:(e,t)=>!(0,o.includes)(e,t),exclude:(e,t)=>(0,o.includes)(e,t)}[n.filter||"include"](i,t)}return!c[e]}(e,t),t}const u=d(Object.defineProperties({config:i.config.getConfig("userSync")},{browserSupportsCookies:{get:function(){return!(0,n.isSafariBrowser)()&&c.cookiesAreEnabled()}}}));t.userSync=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PARTITIONS=void 0,t._filterBidsForAdUnit=w,t._partitionBidders=U,t.gdprDataHandler=t.filterBidsForAdUnit=t.default=t.coppaDataHandler=void 0,t.getS2SBidderSet=B,t.uspDataHandler=t.setupAdUnitMediaTypes=t.partitionBidders=t.gppDataHandler=void 0,r(16),r(1),r(4),r(186),r(187),r(17);var n,i=r(0),o=r(282),a=r(36),s=r(32),c=r(95),d=r(8),u=r(44),l=r(12),p=r(189),f=r(77),g=r(184),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(57)),h=(n=r(25))&&n.__esModule?n:{default:n},y=r(76),v=r(40);const b={CLIENT:"client",SERVER:"server"};t.PARTITIONS=b;let E={},A=E.bidderRegistry={},I=E.aliasRegistry={},T=[];d.config.getConfig("s2sConfig",e=>{e&&e.s2sConfig&&(T=(0,i.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])});var _={};const S=(0,u.hook)("sync",(function(e){let{bidderCode:t,auctionId:r,bidderRequestId:n,adUnits:o,src:a,metrics:s}=e;return o.reduce((e,o)=>(e.push(o.bids.filter(e=>e.bidder===t).reduce((e,t)=>{const c=null==(t=Object.assign({},t,(0,i.getDefinedParams)(o,["nativeParams","nativeOrtbRequest","ortb2Imp","mediaType","renderer"]))).mediaTypes?o.mediaTypes:t.mediaTypes;return(0,i.isValidMediaTypes)(c)?t=Object.assign({},t,{mediaTypes:c}):(0,i.logError)("mediaTypes is not correctly configured for adunit ".concat(o.code)),e.push(Object.assign({},t,{adUnitCode:o.code,transactionId:o.transactionId,sizes:(0,i.deepAccess)(c,"banner.sizes")||(0,i.deepAccess)(c,"video.playerSize")||[],bidId:t.bid_id||(0,i.getUniqueIdentifierStr)(),bidderRequestId:n,auctionId:r,src:a,metrics:s,bidRequestsCount:p.adunitCounter.getRequestsCounter(o.code),bidderRequestsCount:p.adunitCounter.getBidderRequestsCounter(o.code,t.bidder),bidderWinsCount:p.adunitCounter.getBidderWinsCounter(o.code,t.bidder)})),e},[])),e),[]).reduce(i.flatten,[]).filter(e=>""!==e)}),"getBids");function w(e,t){let{getS2SBidders:r=B}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return e;{const n=r(t);return e.filter(e=>n.has(e.bidder))}}const O=(0,u.hook)("sync",w,"filterBidsForAdUnit");function C(e,t){let r=(0,i.deepClone)(e);return r.forEach(e=>{e.bids=O(e.bids,t).map(e=>(e.bid_id=(0,i.getUniqueIdentifierStr)(),e))}),r=r.filter(e=>0!==e.bids.length),r}function R(e){let t=(0,i.deepClone)(e);return t.forEach(e=>{e.bids=O(e.bids,null)}),t=t.filter(e=>0!==e.bids.length),t}t.filterBidsForAdUnit=O;let x=new g.GdprConsentHandler;t.gdprDataHandler=x;let P=new g.UspConsentHandler;t.uspDataHandler=P;let k=new g.GppConsentHandler;t.gppDataHandler=k;let D={getCoppa:function(){return!!d.config.getConfig("coppa")}};t.coppaDataHandler=D;const N=(0,u.hook)("sync",(e,t)=>(0,o.processAdUnitsForLabels)(e,t),"setupAdUnitMediaTypes");function B(e){(0,i.isArray)(e)||(e=[e]);const t=new Set([null]);return e.filter(e=>e&&e.enabled).flatMap(e=>e.bidders).forEach(e=>t.add(e)),t}function U(e,t){let{getS2SBidders:r=B}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=r(t);return(0,i.getBidderCodes)(e).reduce((e,t)=>(e[n.has(t)?b.SERVER:b.CLIENT].push(t),e),{[b.CLIENT]:[],[b.SERVER]:[]})}t.setupAdUnitMediaTypes=N;const j=(0,u.hook)("sync",U,"partitionBidders");function M(e,t){const r=A[e],n=(null==r?void 0:r.getSpec)&&r.getSpec();if(n&&n[t]&&"function"==typeof n[t])return[n,n[t]]}function q(e,t,r,n){try{(0,i.logInfo)("Invoking ".concat(e,".").concat(t));for(var o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];d.config.runWithBidder(e,n.bind(r,...a))}catch(r){(0,i.logWarn)("Error calling ".concat(t," of ").concat(e))}}function L(e,t,r){const n=M(e,t);null!=n&&q(e,t,...n,r)}function V(e){const t=new Set;for(;I.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=I[e];return e}t.partitionBidders=j,E.makeBidRequests=(0,u.hook)("sync",(function(e,t,r,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0;c=(0,y.useMetrics)(c),m.emit(h.default.EVENTS.BEFORE_REQUEST_BIDS,e),(0,a.decorateAdUnitsWithNativeParams)(e),e=N(e,o);let{[b.CLIENT]:u,[b.SERVER]:p}=j(e,T);d.config.getConfig("bidderSequence")===d.RANDOM&&(u=(0,i.shuffle)(u));const g=(0,f.getRefererInfo)();let v=[];const E=s.global||{},I=s.bidder||{};function _(e){const t=Object.freeze((0,i.mergeDeep)({},E,I[e.bidderCode]));return e.ortb2=t,e.bids.forEach(e=>e.ortb2=t),e}T.forEach(n=>{if(n&&n.enabled){let o=C(e,n),a=(0,i.generateUUID)();p.forEach(e=>{const s=(0,i.getUniqueIdentifierStr)(),d=c.fork(),u=_({bidderCode:e,auctionId:r,bidderRequestId:s,uniquePbsTid:a,bids:S({bidderCode:e,auctionId:r,bidderRequestId:s,adUnits:(0,i.deepClone)(o),src:h.default.S2S.SRC,metrics:d}),auctionStart:t,timeout:n.timeout,src:h.default.S2S.SRC,refererInfo:g,metrics:d});0!==u.bids.length&&v.push(u)}),o.forEach(e=>{let t=e.bids.filter(e=>(0,l.find)(v,t=>(0,l.find)(t.bids,t=>t.bidId===e.bid_id)));e.bids=t}),v.forEach(e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter(e=>e.bids.length>0))})}});let w=R(e);return u.forEach(e=>{const a=(0,i.getUniqueIdentifierStr)(),s=c.fork(),d=_({bidderCode:e,auctionId:r,bidderRequestId:a,bids:S({bidderCode:e,auctionId:r,bidderRequestId:a,adUnits:(0,i.deepClone)(w),labels:o,src:"client",metrics:s}),auctionStart:t,timeout:n,refererInfo:g,metrics:s}),u=A[e];u||(0,i.logError)("Trying to make a request for bidder that does not exist: ".concat(e)),u&&d.bids&&0!==d.bids.length&&v.push(d)}),v.forEach(e=>{x.getConsentData()&&(e.gdprConsent=x.getConsentData()),P.getConsentData()&&(e.uspConsent=P.getConsentData()),k.getConsentData()&&(e.gppConsent=k.getConsentData())}),v.forEach(e=>{d.config.runWithBidder(e.bidderCode,()=>{const t=d.config.getConfig("fledgeEnabled");e.fledgeEnabled=navigator.runAdAuction&&t})}),v}),"makeBidRequests"),E.callBids=function(e,t,r,n,o,a,s){let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!t.length)return void(0,i.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[l,p]=t.reduce((e,t)=>(e[Number(void 0!==t.src&&t.src===h.default.S2S.SRC)].push(t),e),[[],[]]);var f=[];p.forEach(e=>{for(var t=-1,r=0;r<f.length;++r)if(e.uniquePbsTid===f[r].uniquePbsTid){t=r;break}t<=-1&&f.push(e)});let g=0;T.forEach(e=>{if(e&&f[g]&&B(e).has(f[g].bidderCode)){const t=(0,c.ajaxBuilder)(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0);let s=e.bidders;const d=A[e.adapter];let l=f[g].uniquePbsTid,y=f[g].adUnitsS2SCopy,v=p.filter(e=>e.uniquePbsTid===l);if(d){let o={ad_units:y,s2sConfig:e,ortb2Fragments:u};if(o.ad_units.length){let e=v.map(e=>(e.start=(0,i.timestamp)(),n.bind(e)));const a=(0,i.getBidderCodes)(o.ad_units).filter(e=>s.includes(e));(0,i.logMessage)("CALLING S2S HEADER BIDDERS ==== ".concat(a.length>0?a.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),v.forEach(e=>{m.emit(h.default.EVENTS.BID_REQUESTED,{...e,tid:e.auctionId})}),d.callBids(o,p,r,()=>e.forEach(e=>e()),t)}}else(0,i.logError)("missing "+e.adapter);g++}}),l.forEach(e=>{e.start=(0,i.timestamp)();const t=A[e.bidderCode];d.config.runWithBidder(e.bidderCode,()=>{(0,i.logMessage)("CALLING BIDDER"),m.emit(h.default.EVENTS.BID_REQUESTED,e)});let u=(0,c.ajaxBuilder)(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0);const l=n.bind(e);try{d.config.runWithBidder(e.bidderCode,i.bind.call(t.callBids,t,e,r,l,u,s,d.config.callbackWithBidder(e.bidderCode)))}catch(t){(0,i.logError)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),l()}})},E.videoAdapters=[],E.registerBidAdapter=function(e,t){let{supportedMediaTypes:r=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&t?"function"==typeof e.callBids?(A[t]=e,(0,l.includes)(r,"video")&&E.videoAdapters.push(t),(0,l.includes)(r,"native")&&a.nativeAdapters.push(t)):(0,i.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,i.logError)("bidAdapter or bidderCode not specified")},E.aliasBidAdapter=function(e,t,r){if(void 0===A[t]){let n=A[e];if(void 0===n){const r=[];T.forEach(n=>{if(n.bidders&&n.bidders.length){const i=n&&n.bidders;n&&(0,l.includes)(i,t)?I[t]=e:r.push(e)}}),r.forEach(e=>{(0,i.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")})}else try{let i,o=function(e){let t=[];return(0,l.includes)(E.videoAdapters,e)&&t.push("video"),(0,l.includes)(a.nativeAdapters,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)i=new n.constructor,i.setBidderCode(t);else{let o=n.getSpec(),a=r&&r.gvlid,c=r&&r.skipPbsAliasing;i=(0,s.newBidder)(Object.assign({},o,{code:t,gvlid:a,skipPbsAliasing:c})),I[t]=e}E.registerBidAdapter(i,t,{supportedMediaTypes:o})}catch(t){(0,i.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,i.logMessage)('alias name "'+t+'" has been already specified.')},E.registerAnalyticsAdapter=function(e){let{adapter:t,code:r,gvlid:n}=e;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,_[r]={adapter:t,gvlid:n}):(0,i.logError)('Prebid Error: Analytics adaptor error for analytics "'.concat(r,'"\n        analytics adapter must implement an enableAnalytics() function')):(0,i.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},E.enableAnalytics=function(e){(0,i.isArray)(e)||(e=[e]),(0,i._each)(e,e=>{const t=_[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):(0,i.logError)("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))})},E.getBidAdapter=function(e){return A[e]},E.getAnalyticsAdapter=function(e){return _[e]},E.callTimedOutBidders=function(e,t,r){t=t.map(t=>(t.params=(0,i.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=r,t)),t=(0,i.groupBy)(t,"bidder"),Object.keys(t).forEach(e=>{L(e,"onTimeout",t[e])})},E.callBidWonBidder=function(e,t,r){t.params=(0,i.getUserConfiguredParams)(r,t.adUnitCode,t.bidder),p.adunitCounter.incrementBidderWinsCounter(t.adUnitCode,t.bidder),L(e,"onBidWon",t)},E.callSetTargetingBidder=function(e,t){L(e,"onSetTargeting",t)},E.callBidViewableBidder=function(e,t){L(e,"onBidViewable",t)},E.callBidderError=function(e,t,r){L(e,"onBidderError",{error:t,bidderRequest:r})},E.callDataDeletionRequest=(0,u.hook)("sync",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n="onDataDeletionRequest";Object.keys(A).filter(e=>!I.hasOwnProperty(e)).forEach(e=>{const r=M(e,n);if(null!=r){const i=v.auctionManager.getBidsRequested().filter(t=>V(t.bidderCode)===e);q(e,n,...r,i,...t)}}),Object.entries(_).forEach(e=>{var r;let[o,a]=e;const s=null==a||null===(r=a.adapter)||void 0===r?void 0:r[n];if("function"==typeof s)try{s.apply(a.adapter,t)}catch(e){(0,i.logError)("error calling ".concat(n," of ").concat(o),e)}})}));var F=E;t.default=F},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG_TOGGLE=void 0,t.hookTimer=g,t.metricsFactory=a,t.timedBidResponseHook=t.timedAuctionHook=t.newMetrics=void 0,t.useMetrics=p,r(4),r(1),r(72);var n=r(8);t.CONFIG_TOGGLE="performanceMetrics";const i=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),o=new WeakMap;function a(){let{now:e=i,mkNode:t=d,mkTimer:r=c,mkRenamer:n=(e=>e),nodes:a=o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){return function i(o){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>({forEach(t){t(e)}});function c(e){return function(t){return o.dfWalk({visit(r,n){const i=n[e];if(i.hasOwnProperty(t))return i[t]}})}}s=n(s);const d=c("timestamps");function u(e,t){const r=s(e);o.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,n){r.forEach(r=>{null==e?n.metrics[r]=t:(n.groups.hasOwnProperty(r)||(n.groups[r]=[]),n.groups[r].push(t))})}})}function l(t){o.timestamps[t]=e()}function p(t,r){const n=d(t),i=null!=n?e()-n:null;return null!=r&&u(r,i),i}function f(e,t,r){const n=d(e),i=d(t),o=null!=n&&null!=i?i-n:null;return null!=r&&u(r,o),o}function g(t){return r(e,e=>u(t,e))}function m(e,t){return g(e).stopAfter(t)()}function h(e,t,r){const n=g(e);return r(function(e){const t=n.stopBefore(e);return t.bail=e.bail&&n.stopBefore(e.bail),t.stopTiming=n,t.untimed=e,t}(t))}function y(){let e={};return o.dfWalk({visit(t,r){e=Object.assign({},!t||t.includeGroups?r.groups:null,r.metrics,e)}}),e}function v(){let{propagate:e=!0,stopPropagation:r=!1,includeGroups:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(t([[o,{propagate:e,stopPropagation:r,includeGroups:n}]]),s)}function b(e){let{propagate:t=!0,stopPropagation:r=!1,includeGroups:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a.get(e);null!=i&&i.addParent(o,{propagate:t,stopPropagation:r,includeGroups:n})}function E(e){return i(o,e)}function A(){return i(o.newSibling(),s)}const I={startTiming:g,measureTime:m,measureHookTime:h,checkpoint:l,timeSince:p,timeBetween:f,setMetric:u,getMetrics:y,fork:v,join:b,newMetrics:A,renameWith:E,toJSON:()=>y()};return a.set(I,o),I}(t([]))}}function s(e,t,r){return function(){t&&t();try{return e.apply(this,arguments)}finally{r&&r()}}}function c(e,t){const r=e();let n=!1;function i(){n||(t(e()-r),n=!0)}return i.stopBefore=e=>s(e,i),i.stopAfter=e=>s(e,null,i),i}function d(e){return{metrics:{},timestamps:{},groups:{},addParent(t,r){e.push([t,r])},newSibling:()=>d(e.slice()),dfWalk(){let t,{visit:r,follow:n=(()=>!0),visited:i=new Set,inEdge:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i.has(this)){if(i.add(this),t=r(o,this),null!=t)return t;for(const[a,s]of e)if(n(o,s)&&(t=a.dfWalk({visit:r,follow:n,visited:i,inEdge:s}),null!=t))return t}}}}const u=(()=>{const e=function(){},t=()=>({}),r={forEach:e},n=()=>null;n.stopBefore=e=>e,n.stopAfter=e=>e;const i=Object.defineProperties({dfWalk:e,newSibling:()=>i,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map(e=>[e,{get:t}])));return a({now:()=>0,mkNode:()=>i,mkRenamer:()=>()=>r,mkTimer:()=>n,nodes:{get:e,set:e}})()})();let l=!0;function p(e){return l&&e||u}n.config.getConfig("performanceMetrics",e=>{l=!!e.performanceMetrics});const f=(()=>{const e=a();return function(){return l?e():u}})();function g(e,t){return function(r,n){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];const c=this;return p(t.apply(c,a)).measureHookTime(e+r,i,(function(e){return n.call(c,e,...a)}))}}}t.newMetrics=f;const m=g("requestBids.",e=>e.metrics);t.timedAuctionHook=m;const h=g("addBidResponse.",(e,t)=>t.metrics);t.timedBidResponseHook=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectReferer=s,t.ensureProtocol=o,t.getRefererInfo=void 0,t.parseDomain=a,r(13),r(4),r(286),r(293),r(1),r(294);var n=r(8),i=r(0);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;let r=t.location.protocol;try{r=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?r+e:"".concat(r,"//").concat(e)}function a(e){let{noLeadingWww:t=!1,noPort:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=new URL(o(e))}catch(e){return}return e=r?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}function s(e){function t(e){try{const t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}return function(){const r=[],s=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),c=n.config.getConfig("maxNestedIframes");let d,u,l,p,f=!1,g=0,m=!1,h=!1,y=!1;do{const n=d,o=h;let a,c=!1,p=null;h=!1,d=d?d.parent:e;try{a=d.location.href||null}catch(e){c=!0}if(c)if(o){const t=n.context;try{p=t.sourceUrl,u=p,y=!0,m=!0,d===e.top&&(f=!0),t.canonicalUrl&&(l=t.canonicalUrl)}catch(e){}}else{(0,i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{const t=n.document.referrer;t&&(p=t,d===e.top&&(f=!0))}catch(e){}!p&&s&&s[g-1]&&(p=s[g-1],d===e.top&&(y=!0)),p&&!m&&(u=p)}else{if(a&&(p=a,u=p,m=!1,d===e.top)){f=!0;const e=t(d.document);e&&(l=e)}d.context&&d.context.sourceUrl&&(h=!0)}r.push(p),g++}while(d!==e.top&&g<c);r.reverse();try{p=e.top.document.referrer}catch(e){}const v=f||y?u:null,b=n.config.getConfig("pageUrl")||l||null;let E=n.config.getConfig("pageUrl")||v||o(b,e);return v&&v.indexOf("?")>-1&&-1===E.indexOf("?")&&(E="".concat(E).concat(v.substring(v.indexOf("?")))),{reachedTop:f,isAmp:m,numIframes:g-1,stack:r,topmostLocation:u||null,location:v,canonicalUrl:b,page:E,domain:a(E)||null,ref:p||null,legacy:{reachedTop:f,isAmp:m,numIframes:g-1,stack:r,referer:u||null,canonicalUrl:b}}}}const c=s(window);t.getRefererInfo=c},function(e,t,r){r(200),r(219),r(220),r(221),r(222),r(223)},function(e,t,r){var n=r(9),i=r(10),o=r(131),a=r(45),s=r(59),c=r(81),d=r(14),u=r(135),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=s(e),t=c(t),u)try{return l(e,t)}catch(e){}if(d(e,t))return a(!i(o.f,e,t),e[t])}},function(e,t,r){var n=r(2);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,r){var n=r(132),i=r(82);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},function(e,t,r){var n=r(37),i=r(6),o=r(42),a=r(134),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,s(e))}},function(e,t,r){var n=r(23),i=r(62);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},function(e,t,r){var n=r(5),i=r(18),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,r){var n=r(9),i=r(14),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,d=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:d}},function(e,t,r){var n=r(138),i=r(108).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(38),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},function(e,t,r){var n=r(80),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},function(e,t,r){var n=r(6),i=r(18),o=r(50);e.exports=function(e,t,r){var a,s;return o&&n(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(e,s),e}},function(e,t,r){var n=r(41),i=r(3);e.exports=function(e){if("Function"===n(e))return i(e)}},function(e,t,r){var n=r(10),i=r(23),o=r(19),a=r(53),s=r(70),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return o(n(r,e));throw c(a(e)+" is not iterable")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SUCCESS:"SUCCESS",NO_BID:"NO_BID",ERROR:"ERROR"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={LOAD:"l",REQUEST:"r"}},function(e,t,r){var n=r(14),i=r(6),o=r(21),a=r(105),s=r(230),c=a("IE_PROTO"),d=Object,u=d.prototype;e.exports=s?d.getPrototypeOf:function(e){var t=o(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof d?u:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ajax=void 0,t.ajaxBuilder=a,r(13);var n=r(8),i=r(0);const o=a();function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:t,done:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(o,a,s){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{let d,u=c.method||(s?"POST":"GET"),l=document.createElement("a");l.href=o;let p="object"==typeof a&&null!==a?a:{success:function(){(0,i.logMessage)("xhr success")},error:function(e){(0,i.logError)("xhr error",null,e)}};if("function"==typeof a&&(p.success=a),d=new window.XMLHttpRequest,d.onreadystatechange=function(){if(4===d.readyState){"function"==typeof r&&r(l.origin);let e=d.status;e>=200&&e<300||304===e?p.success(d.responseText,d):p.error(d.statusText,d)}},n.config.getConfig("disableAjaxTimeout")||(d.ontimeout=function(){(0,i.logError)("  xhr timeout after ",d.timeout,"ms")}),"GET"===u&&s){let e=(0,i.parseUrl)(o,c);Object.assign(e.search,s),o=(0,i.buildUrl)(e)}d.open(u,o,!0),n.config.getConfig("disableAjaxTimeout")||(d.timeout=e),c.withCredentials&&(d.withCredentials=!0),(0,i._each)(c.customHeaders,(e,t)=>{d.setRequestHeader(t,e)}),c.preflight&&d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.setRequestHeader("Content-Type",c.contentType||"text/plain"),"function"==typeof t&&t(l.origin),"POST"===u&&s?d.send(s):d.send()}catch(e){(0,i.logError)("xhr construction",e),"object"==typeof a&&null!==a&&a.error(e)}}}t.ajax=o},function(e,t,r){"use strict";var n=r(7),i=r(3),o=r(23),a=r(21),s=r(15),c=r(181),d=r(29),u=r(2),l=r(127),p=r(165),f=r(178),g=r(179),m=r(63),h=r(180),y=[],v=i(y.sort),b=i(y.push),E=u((function(){y.sort(void 0)})),A=u((function(){y.sort(null)})),I=p("sort"),T=!u((function(){if(m)return m<70;if(!(f&&f>3)){if(g)return!0;if(h)return h<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:t+n,v:r})}for(y.sort((function(e,t){return t.v-e.v})),n=0;n<y.length;n++)t=y[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:E||!A||!I||!T},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(T)return void 0===e?v(t):v(t,e);var r,n,i=[],u=s(t);for(n=0;n<u;n++)n in t&&b(i,t[n]);for(l(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:d(t)>d(r)?1:-1}}(e)),r=s(i),n=0;n<r;)t[n]=i[n++];for(;n<u;)c(t,n++);return t}})},function(e,t,r){"use strict";var n=r(7),i=r(283).trim;n({target:"String",proto:!0,forced:r(284)("trim")},{trim:function(){return i(this)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBid=function(e,t){return new i(e,t)};var n=r(0);function i(e){let{src:t="client",bidder:r="",bidId:i,transactionId:o,auctionId:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s=t,c=e||0;function d(){switch(c){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=r,this.width=0,this.height=0,this.statusMessage=d(),this.adId=(0,n.getUniqueIdentifierStr)(),this.requestId=i,this.transactionId=o,this.auctionId=a,this.mediaType="banner",this.source=s,this.getStatusCode=function(){return c},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}},function(e,t,r){var n=r(63),i=r(2);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(e,t,r){var n=r(33),i=r(101);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.0",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,r){var n=r(5),i=r(102),o=n["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,r){var n=r(5),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(3),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},function(e,t,r){var n=r(3),i=r(6),o=r(101),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},function(e,t,r){var n=r(100),i=r(103),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t,r){var n=r(14),i=r(204),o=r(79),a=r(27);e.exports=function(e,t,r){for(var s=i(t),c=a.f,d=o.f,u=0;u<s.length;u++){var l=s[u];n(e,l)||r&&n(r,l)||c(e,l,d(t,l))}}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var n=r(2),i=r(6),o=/#|\.prototype\./,a=function(e,t){var r=c[s(e)];return r==u||r!=d&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},d=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},function(e,t){var r=TypeError;e.exports=function(e){if(e>9007199254740991)throw r("Maximum allowed index exceeded");return e}},function(e,t,r){"use strict";var n=r(37),i=r(47),o=r(11),a=r(9),s=o("species");e.exports=function(e){var t=n(e);a&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(3),i=r(2),o=r(6),a=r(46),s=r(37),c=r(104),d=function(){},u=[],l=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=n(p.exec),g=!p.exec(d),m=function(e){if(!o(e))return!1;try{return l(d,u,e),!0}catch(e){return!1}},h=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!f(p,c(e))}catch(e){return!0}};h.sham=!0,e.exports=!l||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?h:m},function(e,t){var r=TypeError;e.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){var n=r(39),i=r(10),o=r(19),a=r(53),s=r(116),c=r(15),d=r(42),u=r(91),l=r(70),p=r(153),f=TypeError,g=function(e,t){this.stopped=e,this.result=t},m=g.prototype;e.exports=function(e,t,r){var h,y,v,b,E,A,I,T=r&&r.that,_=!(!r||!r.AS_ENTRIES),S=!(!r||!r.IS_RECORD),w=!(!r||!r.IS_ITERATOR),O=!(!r||!r.INTERRUPTED),C=n(t,T),R=function(e){return h&&p(h,"normal",e),new g(!0,e)},x=function(e){return _?(o(e),O?C(e[0],e[1],R):C(e[0],e[1])):O?C(e,R):C(e)};if(S)h=e.iterator;else if(w)h=e;else{if(!(y=l(e)))throw f(a(e)+" is not iterable");if(s(y)){for(v=0,b=c(e);b>v;v++)if((E=x(e[v]))&&d(m,E))return E;return new g(!1)}h=u(e,y)}for(A=S?e.next:h.next;!(I=i(A,h)).done;){try{E=x(I.value)}catch(e){p(h,"throw",e)}if("object"==typeof E&&E&&d(m,E))return E}return new g(!1)}},function(e,t,r){var n=r(11),i=r(69),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,r){"use strict";r(35);var n=function(){function e(e,t){void 0===t&&(t=Date.now),this.now=t,this.result={marks:{},total:0};var r=this.now();this.start=r,this.markStart=r,this.mark=e,this.stopped=!1}return e.prototype.lap=function(e){if(this.stopped)throw new Error("StopWatch has been stoped");if(this.mark===e)throw new Error("Marks can not be the same");var t=this.now();this.result.marks[this.mark]=t-this.markStart,this.markStart=t,this.mark=e},e.prototype.stop=function(){if(this.stopped)return this.result;this.stopped=!0;var e=this.now();return this.result.marks[this.mark]=e-this.markStart,this.result.total=e-this.start,this.result},e}();e.exports=n},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){var n=r(11),i=r(56),o=r(27).f,a=n("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,r){"use strict";var n=r(81),i=r(27),o=r(45);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},function(e,t,r){"use strict";var n,i,o=r(10),a=r(3),s=r(29),c=r(166),d=r(167),u=r(100),l=r(56),p=r(28).get,f=r(122),g=r(168),m=u("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,y=h,v=a("".charAt),b=a("".indexOf),E=a("".replace),A=a("".slice),I=(i=/b*/g,o(h,n=/a/,"a"),o(h,i,"a"),0!==n.lastIndex||0!==i.lastIndex),T=d.BROKEN_CARET,_=void 0!==/()??/.exec("")[1];(I||_||T||f||g)&&(y=function(e){var t,r,n,i,a,d,u,f=this,g=p(f),S=s(e),w=g.raw;if(w)return w.lastIndex=f.lastIndex,t=o(y,w,S),f.lastIndex=w.lastIndex,t;var O=g.groups,C=T&&f.sticky,R=o(c,f),x=f.source,P=0,k=S;if(C&&(R=E(R,"y",""),-1===b(R,"g")&&(R+="g"),k=A(S,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==v(S,f.lastIndex-1))&&(x="(?: "+x+")",k=" "+k,P++),r=new RegExp("^(?:"+x+")",R)),_&&(r=new RegExp("^"+x+"$(?!\\s)",R)),I&&(n=f.lastIndex),i=o(h,C?r:f,k),C?i?(i.input=A(i.input,P),i[0]=A(i[0],P),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:I&&i&&(f.lastIndex=f.global?i.index+i[0].length:n),_&&i&&i.length>1&&o(m,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&O)for(i.groups=d=l(null),a=0;a<O.length;a++)d[(u=O[a])[0]]=i[u[1]];return i}),e.exports=y},function(e,t,r){var n=r(2),i=r(5).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,r){var n=r(3),i=r(38),o=r(29),a=r(61),s=n("".charAt),c=n("".charCodeAt),d=n("".slice),u=function(e){return function(t,r){var n,u,l=o(a(t)),p=i(r),f=l.length;return p<0||p>=f?e?"":void 0:(n=c(l,p))<55296||n>56319||p+1===f||(u=c(l,p+1))<56320||u>57343?e?s(l,p):n:e?d(l,p,p+2):u-56320+(n-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={DISPLAY:"d",VIDEO:"v",NATIVE:"n"}},function(e,t,r){var n=r(87),i=r(15),o=r(120),a=Array,s=Math.max;e.exports=function(e,t,r){for(var c=i(e),d=n(t,c),u=n(void 0===r?c:r,c),l=a(s(u-d,0)),p=0;d<u;d++,p++)o(l,p,e[d]);return l.length=p,l}},function(e,t,r){var n=r(132),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},function(e,t,r){var n=r(125),i=Math.floor,o=function(e,t){var r=e.length,c=i(r/2);return r<8?a(e,t):s(e,o(n(e,0,c),t),o(n(e,c),t),t)},a=function(e,t){for(var r,n,i=e.length,o=1;o<i;){for(n=o,r=e[o];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==o++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?n(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++];return e};e.exports=o},function(e,t,r){"use strict";var n=r(7),i=r(21),o=r(15),a=r(144),s=r(181),c=r(110);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=o(t),n=arguments.length;if(n){c(r+n);for(var d=r;d--;){var u=d+n;d in t?t[u]=t[d]:s(t,u)}for(var l=0;l<n;l++)t[l]=arguments[l]}return a(t,r+n)}})},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.loadExternalScript=function(e,t,r,s,c){if(!t||!e)return void(0,i.logError)("cannot load external script without url and moduleCode");if(!(0,n.includes)(a,t))return void(0,i.logError)("".concat(t," not whitelisted for loading external JavaScript"));s||(s=document);const d=p(s,e);if(d)return r&&"function"==typeof r&&(d.loaded?r():d.callbacks.push(r)),d.tag;const u=o.get(s)||{},l={loaded:!1,tag:null,callbacks:[]};return u[e]=l,o.set(s,u),r&&"function"==typeof r&&l.callbacks.push(r),(0,i.logWarn)("module ".concat(t," is loading external JavaScript")),function(t,r,n,o){n||(n=document);var a=n.createElement("script");a.type="text/javascript",a.async=!0;const s=p(n,e);return s&&(s.tag=a),a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,r())}:a.onload=function(){r()},a.src=t,o&&(0,i.setScriptAttributes)(a,o),(0,i.insertElement)(a,n),a}(e,(function(){l.loaded=!0;try{for(let e=0;e<l.callbacks.length;e++)l.callbacks[e]()}catch(e){(0,i.logError)("Error executing callback","adloader.js:loadExternalScript",e)}}),s,c);function p(e,t){const r=o.get(e);return r&&r[t]?r[t]:null}},r(4),r(1);var n=r(12),i=r(0);const o=new WeakMap,a=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant"]},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonVideoBidder=t.checkVideoBidSetup=t.OUTSTREAM=t.INSTREAM=void 0,t.isValidVideoBid=function(e){let{index:t=d.auctionManager.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,o.deepAccess)(t.getMediaTypes(e),"video"),n=r&&(0,o.deepAccess)(r,"context"),i=r&&(0,o.deepAccess)(r,"useCacheKey"),a=t.getAdUnit(e);return l(e,a,r,n,i)},t.videoBidder=t.videoAdUnit=void 0;var n,i=(n=r(75))&&n.__esModule?n:{default:n},o=r(0),a=r(8),s=r(12),c=r(44),d=r(40);t.OUTSTREAM="outstream",t.INSTREAM="instream",t.videoAdUnit=e=>{const t="video"===e.mediaType,r=(0,o.deepAccess)(e,"mediaTypes.video");return t||r};const u=e=>(0,s.includes)(i.default.videoAdapters,e.bidder);t.videoBidder=u,t.hasNonVideoBidder=e=>e.bids.filter(e=>!u(e)).length;const l=(0,c.hook)("sync",(function(e,t,r,n,i){return r&&(i||"outstream"!==n)?a.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,o.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!("outstream"===n&&!i&&!(e.renderer||t&&t.renderer||r.renderer))}),"checkVideoBidSetup");t.checkVideoBidSetup=l},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(10),i=r(18),o=r(82),a=r(83),s=r(202),c=r(11),d=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,c=a(e,u);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||o(r))return r;throw d("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t){var r="object"==typeof document&&document.all,n=void 0===r&&void 0!==r;e.exports={all:r,IS_HTMLDDA:n}},function(e,t,r){var n=r(99);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(9),i=r(2),o=r(84);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(9),i=r(2);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,r){var n=r(3),i=r(2),o=r(6),a=r(14),s=r(9),c=r(85).CONFIGURABLE,d=r(104),u=r(28),l=u.enforce,p=u.get,f=String,g=Object.defineProperty,m=n("".slice),h=n("".replace),y=n([].join),v=s&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),b=String(String).split("String"),E=e.exports=function(e,t,r){"Symbol("===m(f(t),0,7)&&(t="["+h(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?g(e,"name",{value:t,configurable:!0}):e.name=t),v&&r&&a(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return a(n,"source")||(n.source=y(b,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return o(this)&&p(this).source||d(this)}),"toString")},function(e,t,r){var n=r(3),i=r(14),o=r(59),a=r(139).indexOf,s=r(106),c=n([].push);e.exports=function(e,t){var r,n=o(e),d=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&c(u,r);for(;t.length>d;)i(n,r=t[d++])&&(~a(u,r)||c(u,r));return u}},function(e,t,r){var n=r(59),i=r(87),o=r(15),a=function(e){return function(t,r,a){var s,c=n(t),d=o(c),u=i(a,d);if(e&&r!=r){for(;d>u;)if((s=c[u++])!=s)return!0}else for(;d>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(27).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},function(e,t,r){var n=r(29);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},function(e,t,r){var n=r(3),i=Error,o=n("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},function(e,t,r){"use strict";var n=r(9),i=r(65),o=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},function(e,t,r){var n=r(19),i=r(146),o=r(62),a=r(11)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||o(r=n(s)[a])?t:i(r)}},function(e,t,r){var n=r(112),i=r(53),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not a constructor")}},function(e,t,r){var n,i,o,a,s=r(5),c=r(88),d=r(39),u=r(6),l=r(14),p=r(2),f=r(148),g=r(149),m=r(84),h=r(113),y=r(150),v=r(64),b=s.setImmediate,E=s.clearImmediate,A=s.process,I=s.Dispatch,T=s.Function,_=s.MessageChannel,S=s.String,w=0,O={};p((function(){n=s.location}));var C=function(e){if(l(O,e)){var t=O[e];delete O[e],t()}},R=function(e){return function(){C(e)}},x=function(e){C(e.data)},P=function(e){s.postMessage(S(e),n.protocol+"//"+n.host)};b&&E||(b=function(e){h(arguments.length,1);var t=u(e)?e:T(e),r=g(arguments,1);return O[++w]=function(){c(t,void 0,r)},i(w),w},E=function(e){delete O[e]},v?i=function(e){A.nextTick(R(e))}:I&&I.now?i=function(e){I.now(R(e))}:_&&!y?(a=(o=new _).port2,o.port1.onmessage=x,i=d(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(P)?(i=P,s.addEventListener("message",x,!1)):i="onreadystatechange"in m("script")?function(e){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),C(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:b,clear:E}},function(e,t,r){var n=r(37);e.exports=n("document","documentElement")},function(e,t,r){var n=r(3);e.exports=n([].slice)},function(e,t,r){var n=r(49);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},function(e,t){var r=function(){this.head=null,this.tail=null};r.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=r},function(e,t){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},function(e,t,r){var n=r(10),i=r(19),o=r(83);e.exports=function(e,t,r){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw r;return r}a=n(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return i(a),r}},function(e,t,r){var n=r(66),i=r(155),o=r(67).CONSTRUCTOR;e.exports=o||!i((function(e){n.all(e).then(void 0,(function(){}))}))},function(e,t,r){var n=r(11)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";var n=r(59),i=r(119),o=r(69),a=r(28),s=r(27).f,c=r(159),d=r(162),u=r(33),l=r(9),p=a.set,f=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){p(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,d(void 0,!0)):d("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var g=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==g.name)try{s(g,"name",{value:"values"})}catch(e){}},function(e,t,r){var n=r(138),i=r(108);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){"use strict";var n=r(7),i=r(10),o=r(33),a=r(85),s=r(6),c=r(160),d=r(94),u=r(50),l=r(51),p=r(26),f=r(34),g=r(11),m=r(69),h=r(161),y=a.PROPER,v=a.CONFIGURABLE,b=h.IteratorPrototype,E=h.BUGGY_SAFARI_ITERATORS,A=g("iterator"),I=function(){return this};e.exports=function(e,t,r,a,g,h,T){c(r,t,a);var _,S,w,O=function(e){if(e===g&&k)return k;if(!E&&e in x)return x[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},C=t+" Iterator",R=!1,x=e.prototype,P=x[A]||x["@@iterator"]||g&&x[g],k=!E&&P||O(g),D="Array"==t&&x.entries||P;if(D&&(_=d(D.call(new e)))!==Object.prototype&&_.next&&(o||d(_)===b||(u?u(_,b):s(_[A])||f(_,A,I)),l(_,C,!0,!0),o&&(m[C]=I)),y&&"values"==g&&P&&"values"!==P.name&&(!o&&v?p(x,"name","values"):(R=!0,k=function(){return i(P,this)})),g)if(S={values:O("values"),keys:h?k:O("keys"),entries:O("entries")},T)for(w in S)(E||R||!(w in x))&&f(x,w,S[w]);else n({target:t,proto:!0,forced:E||R},S);return o&&!T||x[A]===k||f(x,A,k,{name:g}),m[t]=k,S}},function(e,t,r){"use strict";var n=r(161).IteratorPrototype,i=r(56),o=r(45),a=r(51),s=r(69),c=function(){return this};e.exports=function(e,t,r,d){var u=t+" Iterator";return e.prototype=i(n,{next:o(+!d,r)}),a(e,u,!1,!0),s[u]=c,e}},function(e,t,r){"use strict";var n,i,o,a=r(2),s=r(6),c=r(18),d=r(56),u=r(94),l=r(34),p=r(11),f=r(33),g=p("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(n=i):m=!0),!c(n)||a((function(){var e={};return n[g].call(e)!==e}))?n={}:f&&(n=d(n)),s(n[g])||l(n,g,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},function(e,t){e.exports=function(e,t){return{value:e,done:t}}},function(e,t,r){"use strict";e.exports=function(){var e=0;return function(){return""+e++}}},function(e,t,r){"use strict";r(1);var n=r(236),i=r(237);e.exports=function(e){var t=Object.keys(e),r=[];return t.forEach((function(t){var o=e[t];n(o)||i(o)||r.push(t+"="+encodeURIComponent(e[t]))})),r.join("&")}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},function(e,t,r){"use strict";var n=r(19);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(2),i=r(5).RegExp,o=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||n((function(){return!i("a","y").sticky})),s=o||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},function(e,t,r){var n=r(2),i=r(5).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,r){"use strict";var n=r(5),i=r(3),o=r(9),a=r(170),s=r(85),c=r(26),d=r(47),u=r(171),l=r(2),p=r(55),f=r(38),g=r(54),m=r(172),h=r(247),y=r(94),v=r(50),b=r(86).f,E=r(173),A=r(125),I=r(51),T=r(28),_=s.PROPER,S=s.CONFIGURABLE,w=T.getterFor("ArrayBuffer"),O=T.getterFor("DataView"),C=T.set,R=n.ArrayBuffer,x=R,P=x&&x.prototype,k=n.DataView,D=k&&k.prototype,N=Object.prototype,B=n.Array,U=n.RangeError,j=i(E),M=i([].reverse),q=h.pack,L=h.unpack,V=function(e){return[255&e]},F=function(e){return[255&e,e>>8&255]},z=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},G=function(e){return q(e,23,4)},H=function(e){return q(e,52,8)},K=function(e,t,r){d(e.prototype,t,{configurable:!0,get:function(){return r(this)[t]}})},Y=function(e,t,r,n){var i=m(r),o=O(e);if(i+t>o.byteLength)throw U("Wrong index");var a=o.bytes,s=i+o.byteOffset,c=A(a,s,s+t);return n?c:M(c)},J=function(e,t,r,n,i,o){var a=m(r),s=O(e);if(a+t>s.byteLength)throw U("Wrong index");for(var c=s.bytes,d=a+s.byteOffset,u=n(+i),l=0;l<t;l++)c[d+l]=u[o?l:t-l-1]};if(a){var X=_&&"ArrayBuffer"!==R.name;if(l((function(){R(1)}))&&l((function(){new R(-1)}))&&!l((function(){return new R,new R(1.5),new R(NaN),1!=R.length||X&&!S})))X&&S&&c(R,"name","ArrayBuffer");else{(x=function(e){return p(this,P),new R(m(e))}).prototype=P;for(var Q,$=b(R),Z=0;$.length>Z;)(Q=$[Z++])in x||c(x,Q,R[Q]);P.constructor=x}v&&y(D)!==N&&v(D,N);var ee=new k(new x(2)),te=i(D.setInt8);ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||u(D,{setInt8:function(e,t){te(this,e,t<<24>>24)},setUint8:function(e,t){te(this,e,t<<24>>24)}},{unsafe:!0})}else P=(x=function(e){p(this,P);var t=m(e);C(this,{type:"ArrayBuffer",bytes:j(B(t),0),byteLength:t}),o||(this.byteLength=t,this.detached=!1)}).prototype,D=(k=function(e,t,r){p(this,D),p(e,P);var n=w(e),i=n.byteLength,a=f(t);if(a<0||a>i)throw U("Wrong offset");if(a+(r=void 0===r?i-a:g(r))>i)throw U("Wrong length");C(this,{type:"DataView",buffer:e,byteLength:r,byteOffset:a,bytes:n.bytes}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=a)}).prototype,o&&(K(x,"byteLength",w),K(k,"buffer",O),K(k,"byteLength",O),K(k,"byteOffset",O)),u(D,{getInt8:function(e){return Y(this,1,e)[0]<<24>>24},getUint8:function(e){return Y(this,1,e)[0]},getInt16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W(Y(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W(Y(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(Y(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(Y(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,V,t)},setUint8:function(e,t){J(this,1,e,V,t)},setInt16:function(e,t){J(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,H,t,arguments.length>2?arguments[2]:void 0)}});I(x,"ArrayBuffer"),I(k,"DataView"),e.exports={ArrayBuffer:x,DataView:k}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,r){var n=r(34);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){var n=r(38),i=r(54),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw o("Wrong length or index");return r}},function(e,t,r){"use strict";var n=r(21),i=r(87),o=r(15);e.exports=function(e){for(var t=n(this),r=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,d=void 0===c?r:i(c,r);d>s;)t[s++]=e;return t}},function(e,t,r){var n=r(252),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw i("Wrong offset");return r}},function(e,t,r){var n=r(46);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},function(e,t,r){var n=r(255);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},function(e,t,r){var n=r(39),i=r(60),o=r(21),a=r(15),s=function(e){var t=1==e;return function(r,s,c){for(var d,u=o(r),l=i(u),p=n(s,c),f=a(l);f-- >0;)if(p(d=l[f],f,u))switch(e){case 0:return d;case 1:return f}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},function(e,t,r){var n=r(49).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},function(e,t,r){var n=r(49);e.exports=/MSIE|Trident/.test(n)},function(e,t,r){var n=r(49).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},function(e,t,r){"use strict";var n=r(53),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+n(t)+" of "+n(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceBucketString=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":l(e,a,r),med:""===n?"":l(e,s,r),high:""===n?"":l(e,c,r),auto:""===n?"":l(e,u,r),dense:""===n?"":l(e,d,r),custom:""===n?"":l(e,t,r)}},t.isValidPriceConfig=p,r(16);var n=r(12),i=r(0),o=r(8);const a={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},d={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},u={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t,r){let a="";if(!p(t))return a;const s=t.buckets.reduce((e,t)=>e.max>t.max?e:t,{max:0});let c=0,d=(0,n.find)(t.buckets,t=>{if(e>s.max*r){let e=t.precision;void 0===e&&(e=2),a=(t.max*r).toFixed(e)}else{if(e<=t.max*r&&e>=c*r)return t.min=c,t;c=t.max}});return d&&(a=function(e,t,r){const n=void 0!==t.precision?t.precision:2,a=t.increment*r,s=t.min*r;let c=Math.floor,d=o.config.getConfig("cpmRoundingFunction");"function"==typeof d&&(c=d);let u,l,p=Math.pow(10,n+2),f=(e*p-s*p)/(a*p);try{u=c(f)*a+s}catch(e){l=!0}return(l||"number"!=typeof u)&&((0,i.logWarn)("Invalid rounding function passed in config"),u=Math.floor(f)*a+s),u=Number(u.toFixed(10)),u.toFixed(n)}(e,d,r)),a}function p(e){if((0,i.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach(e=>{e.max&&e.increment||(t=!1)}),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.checkAdUnitSetup=t.adUnitSetupChecks=void 0,t.executeCallbacks=$,t.startAuction=void 0,r(16),r(1),r(17),r(72),r(4),r(78);var n,i=r(73),o=r(0),a=r(276),s=r(74),c=r(8),d=r(40),u=r(296),l=r(44),p=r(297),f=r(12),g=r(189),m=r(43),h=r(98),y=r(52),v=r(192),b=w(r(75)),E=(n=r(25))&&n.__esModule?n:{default:n},A=w(r(57)),I=r(76),T=r(48),_=r(193);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}const O=(0,i.getGlobal)(),{triggerUserSyncs:C}=s.userSync,{ADD_AD_UNITS:R,BID_WON:x,REQUEST_BIDS:P,SET_TARGETING:k,STALE_RENDER:D}=E.default.EVENTS,{PREVENT_WRITING_ON_MAIN_DOCUMENT:N,NO_AD:B,EXCEPTION:U,CANNOT_FIND_AD:j,MISSING_DOC_OR_ADID:M}=E.default.AD_RENDER_FAILED_REASON,q={bidWon:function(e){var t=d.auctionManager.getBidsRequested().map(e=>e.bids.map(e=>e.adUnitCode)).reduce(o.flatten).filter(o.uniques);if((0,o.contains)(t,e))return!0;(0,o.logError)('The "'+e+'" placement is not defined.')}};function L(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function V(e,t){let r=[];return(0,o.isArray)(e)&&(t?e.length===t:e.length>0)&&(e.every(e=>(0,o.isArrayOfNums)(e,2))?r=e:(0,o.isArrayOfNums)(e,2)&&r.push(e)),r}function F(e){const t=(0,o.deepClone)(e),r=t.mediaTypes.banner,n=V(r.sizes);return n.length>0?(r.sizes=n,t.sizes=n):((0,o.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function z(e){const t=(0,o.deepClone)(e),r=t.mediaTypes.video;if(r.playerSize){let e="number"==typeof r.playerSize[0]?2:1;const n=V(r.playerSize,e);n.length>0?(2===e&&(0,o.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=n,t.sizes=n):((0,o.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function W(e){const t=(0,o.deepClone)(e),r=t.mediaTypes.native;if(r.ortb){const e=Object.keys(E.default.NATIVE_KEYS).filter(e=>E.default.NATIVE_KEYS[e].includes("hb_native_")),n=Object.keys(r).filter(t=>e.includes(t));n.length>0&&((0,o.logError)("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(n," keys from request.")),n.forEach(e=>delete t.mediaTypes.native[e]))}return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&((0,o.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&((0,o.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&((0,o.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function G(e,t){let r=(0,o.deepAccess)(e,"mediaTypes.".concat(t,".pos"));if(!(0,o.isNumber)(r)||isNaN(r)||!isFinite(r)){let r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");(0,o.logWarn)(r),A.emit(E.default.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}function H(e){const t=t=>"adUnit.code '".concat(e.code,"' ").concat(t),r=e.mediaTypes,n=e.bids;return null==n||(0,o.isArray)(n)?null==n&&null==e.ortb2Imp?((0,o.logError)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):r&&0!==Object.keys(r).length?(null==e.ortb2Imp||null!=n&&0!==n.length||(e.bids=[{bidder:null}],(0,o.logMessage)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,o.logError)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,o.logError)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}(0,p.loadSession)(),O.bidderSettings=O.bidderSettings||{},O.libLoaded=!0,O.version="v7.33.0",(0,o.logInfo)("Prebid.js v7.33.0 loaded"),O.installedModules=O.installedModules||[],O.adUnits=O.adUnits||[],O.triggerUserSyncs=C;const K={validateAdUnit:H,validateBannerMediaType:F,validateVideoMediaType:z,validateSizes:V};t.adUnitSetupChecks=K,Object.assign(K,{validateNativeMediaType:W});const Y=(0,l.hook)("sync",(function(e){const t=[];return e.forEach(e=>{if(null==(e=H(e)))return;const r=e.mediaTypes;let n,i,o;r.banner&&(n=F(e),r.banner.hasOwnProperty("pos")&&(n=G(n,"banner"))),r.video&&(i=z(n||e),r.video.hasOwnProperty("pos")&&(i=G(i,"video"))),r.native&&(o=W(i||n||e));const a=Object.assign({},n,i,o);t.push(a)}),t}),"checkAdUnitSetup");function J(e){const t=d.auctionManager[e]().filter(o.bind.call(o.adUnitsFilter,this,d.auctionManager.getAdUnitCodes())),r=d.auctionManager.getLastAuctionId();return t.map(e=>e.adUnitCode).filter(o.uniques).map(e=>t.filter(t=>t.auctionId===r&&t.adUnitCode===e)).filter(e=>e&&e[0]&&e[0].adUnitCode).map(e=>({[e[0].adUnitCode]:{bids:e}})).reduce((e,t)=>Object.assign(e,t),{})}function X(e,t,r){const n=t.querySelector(r);e.parentNode&&e.parentNode===n||(0,o.insertElement)(e,t,r)}t.checkAdUnitSetup=Y,O.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,o.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=O.getAdserverTargetingForAdUnitCode(e);return(0,o.transformAdServerTargetingObj)(t)}(0,o.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},O.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){const t=d.auctionManager.getAllBidsForAdUnitCode(e).filter(u.isBidUsable);return t.length?t.reduce(o.getHighestCpm):{}}(0,o.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},O.getAdserverTargetingForAdUnitCode=function(e){return O.getAdserverTargeting(e)[e]},O.getAdserverTargeting=function(e){return(0,o.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),u.targeting.getAllTargeting(e)},O.getConsentMetadata=function(){return(0,o.logInfo)("Invoking pbjs.getConsentMetadata"),{gdpr:b.gdprDataHandler.getConsentMeta(),usp:b.uspDataHandler.getConsentMeta(),gpp:b.gppDataHandler.getConsentMeta(),coppa:!!c.config.getConfig("coppa")}},O.getNoBids=function(){return(0,o.logInfo)("Invoking pbjs.getNoBids",arguments),J("getNoBids")},O.getNoBidsForAdUnitCode=function(e){return{bids:d.auctionManager.getNoBids().filter(t=>t.adUnitCode===e)}},O.getBidResponses=function(){return(0,o.logInfo)("Invoking pbjs.getBidResponses",arguments),J("getBidsReceived")},O.getBidResponsesForAdUnitCode=function(e){return{bids:d.auctionManager.getBidsReceived().filter(t=>t.adUnitCode===e)}},O.setTargetingForGPTAsync=function(e,t){if((0,o.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),!(0,o.isGptPubadsDefined)())return void(0,o.logError)("window.googletag is not defined on the page");let r=u.targeting.getAllTargeting(e);u.targeting.resetPresetTargeting(e,t),u.targeting.setTargetingForGPT(r,t),Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(t=>{"hb_adid"===t&&d.auctionManager.setStatusForBids(r[e][t],E.default.BID_STATUS.BID_TARGETING_SET)})}),A.emit(k,r)},O.setTargetingForAst=function(e){(0,o.logInfo)("Invoking pbjs.setTargetingForAn",arguments),u.targeting.isApntagDefined()?(u.targeting.setTargetingForAst(e),A.emit(k,u.targeting.getAllTargeting())):(0,o.logError)("window.apntag is not defined on the page")},O.renderAd=(0,l.hook)("async",(function(e,t,r){if((0,o.logInfo)("Invoking pbjs.renderAd",arguments),(0,o.logMessage)("Calling renderAd with adId :"+t),t)try{const n=d.auctionManager.findBidByAdId(t);if(!n){const e="Error trying to write ad. Cannot find ad by given id : ".concat(t);return void(0,v.emitAdRenderFail)({reason:j,message:e,id:t})}if(n.status===E.default.BID_STATUS.RENDERED&&((0,o.logWarn)("Ad id ".concat(n.adId," has been rendered before")),A.emit(D,n),(0,o.deepAccess)(c.config.getConfig("auctionOptions"),"suppressStaleRender")))return;if(n.ad=(0,o.replaceAuctionPrice)(n.ad,n.originalCpm||n.cpm),n.adUrl=(0,o.replaceAuctionPrice)(n.adUrl,n.originalCpm||n.cpm),r&&r.clickThrough){const{clickThrough:e}=r;n.ad=(0,o.replaceClickThrough)(n.ad,e),n.adUrl=(0,o.replaceClickThrough)(n.adUrl,e)}d.auctionManager.addWinningBid(n),A.emit(x,n);const{height:i,width:a,ad:s,mediaType:u,adUrl:l,renderer:p}=n,f=n.adUnitCode,g=O.adUnits.filter(e=>e.code===f),h=O.videoModule;if(g.video&&h)return void h.renderBid(g.video.divId,n);if(!e){const e="Error trying to write ad Id :".concat(t," to the page. Missing document");return void(0,v.emitAdRenderFail)({reason:M,message:e,id:t})}const y=document.createComment("Creative ".concat(n.creativeId," served by ").concat(n.bidder," Prebid.js Header Bidding"));if((0,o.insertElement)(y,e,"html"),(0,m.isRendererRequired)(p))(0,m.executeRenderer)(p,n,e),X(y,e,"html"),(0,v.emitAdRenderSucceeded)({doc:e,bid:n,id:t});else if(e===document&&!(0,o.inIframe)()||"video"===u){const e="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");(0,v.emitAdRenderFail)({reason:N,message:e,bid:n,id:t})}else if(s)e.write(s),e.close(),L(e,a,i),X(y,e,"html"),(0,o.callBurl)(n),(0,v.emitAdRenderSucceeded)({doc:e,bid:n,id:t});else if(l){const r=(0,o.createInvisibleIframe)();r.height=i,r.width=a,r.style.display="inline",r.style.overflow="hidden",r.src=l,(0,o.insertElement)(r,e,"body"),L(e,a,i),X(y,e,"html"),(0,o.callBurl)(n),(0,v.emitAdRenderSucceeded)({doc:e,bid:n,id:t})}else{const e="Error trying to write ad. No ad for bid response id: ".concat(t);(0,v.emitAdRenderFail)({reason:B,message:e,bid:n,id:t})}}catch(e){const r="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);(0,v.emitAdRenderFail)({reason:U,message:r,id:t})}else{const e="Error trying to write ad Id :".concat(t," to the page. Missing adId");(0,v.emitAdRenderFail)({reason:M,message:e,id:t})}})),O.removeAdUnit=function(e){if((0,o.logInfo)("Invoking pbjs.removeAdUnit",arguments),!e)return void(O.adUnits=[]);let t;t=(0,o.isArray)(e)?e:[e],t.forEach(e=>{for(let t=O.adUnits.length-1;t>=0;t--)O.adUnits[t].code===e&&O.adUnits.splice(t,1)})},O.requestBids=function(){const e=(0,l.hook)("async",(function(){let{bidsBackHandler:e,timeout:t,adUnits:r,adUnitCodes:n,labels:i,auctionId:a,ttlBuffer:s,ortb2:d,metrics:u,defer:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A.emit(P);const p=t||c.config.getConfig("bidderTimeout");(0,o.logInfo)("Invoking pbjs.requestBids",arguments),n&&n.length?r=r.filter(e=>(0,f.includes)(n,e.code)):n=r&&r.map(e=>e.code);const g={global:(0,o.mergeDeep)({},c.config.getAnyConfig("ortb2")||{},d||{}),bidder:Object.fromEntries(Object.entries(c.config.getBidderConfig()).map(e=>{let[t,r]=e;return[t,r.ortb2]}).filter(e=>{let[t,r]=e;return null!=r}))};return(0,_.enrichFPD)(T.GreedyPromise.resolve(g.global)).then(t=>(g.global=t,Q({bidsBackHandler:e,timeout:p,adUnits:r,adUnitCodes:n,labels:i,auctionId:a,ttlBuffer:s,ortb2Fragments:g,metrics:u,defer:l})))}),"requestBids");return(0,l.wrapHook)(e,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.adUnits||O.adUnits;return t.adUnits=(0,o.isArray)(r)?r.slice():[r],t.metrics=(0,I.newMetrics)(),t.metrics.checkpoint("requestBids"),t.defer=(0,T.defer)({promiseFactory:e=>new Promise(e)}),e.call(this,t),t.defer.promise}))}();const Q=(0,l.hook)("async",(function(){let{bidsBackHandler:e,timeout:t,adUnits:r,ttlBuffer:n,adUnitCodes:i,labels:a,auctionId:s,ortb2Fragments:l,metrics:p,defer:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const h=(0,b.getS2SBidderSet)(c.config.getConfig("s2sConfig")||[]);function y(t,r,n){if("function"==typeof e)try{e(t,r,n)}catch(e){(0,o.logError)("Error executing bidsBackHandler",null,e)}m.resolve({bids:t,timedOut:r,auctionId:n})}if(r=(0,I.useMetrics)(p).measureTime("requestBids.validate",()=>Y(r)),r.forEach(e=>{var t,r;const i=Object.keys(e.mediaTypes||{banner:"banner"}),a=e.bids.map(e=>e.bidder),s=b.default.bidderRegistry,c=a.filter(e=>!h.has(e)),d=(null===(t=e.ortb2Imp)||void 0===t||null===(r=t.ext)||void 0===r?void 0:r.tid)||(0,o.generateUUID)();e.transactionId=d,null==n||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=n),(0,o.deepSetValue)(e,"ortb2Imp.ext.tid",d),c.forEach(t=>{const r=s[t],n=r&&r.getSpec&&r.getSpec(),a=n&&n.supportedMediaTypes||["banner"];i.some(e=>(0,f.includes)(a,e))?g.adunitCounter.incrementBidderRequestsCounter(e.code,t):((0,o.logWarn)((0,o.unsupportedBidderMessage)(e,t)),e.bids=e.bids.filter(e=>e.bidder!==t))}),g.adunitCounter.incrementRequestsCounter(e.code)}),r&&0!==r.length){const e=d.auctionManager.createAuction({adUnits:r,adUnitCodes:i,callback:y,cbTimeout:t,labels:a,auctionId:s,ortb2Fragments:l,metrics:p});let n=r.length;n>15&&(0,o.logInfo)("Current auction ".concat(e.getAuctionId()," contains ").concat(n," adUnits."),r),i.forEach(t=>u.targeting.setLatestAuctionForAdUnit(t,e.getAuctionId())),e.callBids()}else(0,o.logMessage)("No adUnits configured. No bids requested."),y()}),"startAuction");function $(e,t){function r(e){for(var t;t=e.shift();)t()}r(y.storageCallbacks),r(Z),e.call(this,t)}t.startAuction=Q,O.requestBids.before($,49),O.addAdUnits=function(e){(0,o.logInfo)("Invoking pbjs.addAdUnits",arguments),O.adUnits.push.apply(O.adUnits,(0,o.isArray)(e)?e:[e]),A.emit(R)},O.onEvent=function(e,t,r){(0,o.logInfo)("Invoking pbjs.onEvent",arguments),(0,o.isFn)(t)?!r||q[e].call(null,r)?A.on(e,t,r):(0,o.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,o.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},O.offEvent=function(e,t,r){(0,o.logInfo)("Invoking pbjs.offEvent",arguments),r&&!q[e].call(null,r)||A.off(e,t,r)},O.getEvents=function(){return(0,o.logInfo)("Invoking pbjs.getEvents"),A.getEvents()},O.registerBidAdapter=function(e,t){(0,o.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{b.default.registerBidAdapter(e(),t)}catch(e){(0,o.logError)("Error registering bidder adapter : "+e.message)}},O.registerAnalyticsAdapter=function(e){(0,o.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{b.default.registerAnalyticsAdapter(e)}catch(e){(0,o.logError)("Error registering analytics adapter : "+e.message)}},O.createBid=function(e){return(0,o.logInfo)("Invoking pbjs.createBid",arguments),(0,h.createBid)(e)};const Z=[],ee=(0,l.hook)("async",(function(e){e&&!(0,o.isEmpty)(e)?((0,o.logInfo)("Invoking pbjs.enableAnalytics for: ",e),b.default.enableAnalytics(e)):(0,o.logError)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function te(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,o.logError)("Error processing command :","prebid.js",e)}}))}O.enableAnalytics=function(e){Z.push(ee.bind(this,e))},O.aliasBidder=function(e,t,r){(0,o.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&t?b.default.aliasBidAdapter(e,t,r):(0,o.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},O.getAllWinningBids=function(){return d.auctionManager.getAllWinningBids()},O.getAllPrebidWinningBids=function(){return d.auctionManager.getBidsReceived().filter(e=>e.status===E.default.BID_STATUS.BID_TARGETING_SET)},O.getHighestCpmBids=function(e){return u.targeting.getWinningBids(e)},O.markWinningBidAsUsed=function(e){let t=[];e.adUnitCode&&e.adId?t=d.auctionManager.getBidsReceived().filter(t=>t.adId===e.adId&&t.adUnitCode===e.adUnitCode):e.adUnitCode?t=u.targeting.getWinningBids(e.adUnitCode):e.adId?t=d.auctionManager.getBidsReceived().filter(t=>t.adId===e.adId):(0,o.logWarn)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=E.default.BID_STATUS.RENDERED)},O.getConfig=c.config.getAnyConfig,O.readConfig=c.config.readAnyConfig,O.mergeConfig=c.config.mergeConfig,O.mergeBidderConfig=c.config.mergeBidderConfig,O.setConfig=c.config.setConfig,O.setBidderConfig=c.config.setBidderConfig,O.que.push(()=>(0,a.listenMessagesFromCreative)()),O.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,o.logError)("Error processing command :",e.message,e.stack)}else(0,o.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},O.que.push=O.cmd.push,O.processQueue=function(){l.hook.ready(),te(O.que),te(O.cmd)};var re=O;t.default=re},function(e,t,r){"use strict";r(185),Object.defineProperty(t,"__esModule",{value:!0}),t.VENDORLESS_GVLID=t.UspConsentHandler=t.GppConsentHandler=t.GdprConsentHandler=t.ConsentHandler=void 0,r(35),r(4);var n=r(0),i=r(48);function o(e,t,r){a(e,t),t.set(e,r)}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function c(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,u(e,t,"get"))}function d(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,u(e,t,"set"),r),r}function u(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}const l=Object.freeze({});t.VENDORLESS_GVLID=l;var p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,h=new WeakSet;class y{constructor(){var e;a(this,e=h),e.add(this),o(this,p,{writable:!0,value:void 0}),o(this,f,{writable:!0,value:void 0}),o(this,g,{writable:!0,value:void 0}),o(this,m,{writable:!0,value:void 0}),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"generatedTime",void 0),this.reset()}reset(){d(this,g,(0,i.defer)()),d(this,p,!1),d(this,f,null),d(this,m,!1),this.generatedTime=null}enable(){d(this,p,!0)}get enabled(){return c(this,p)}get ready(){return c(this,m)}get promise(){return c(this,m)?i.GreedyPromise.resolve(c(this,f)):(c(this,p)||s(this,h,v).call(this,null),c(this,g).promise)}setConsentData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,n.timestamp)();this.generatedTime=t,s(this,h,v).call(this,e)}getConsentData(){return c(this,f)}}function v(e){d(this,m,!0),d(this,f,e),c(this,g).resolve(e)}t.ConsentHandler=y,t.UspConsentHandler=class extends y{getConsentMeta(){const e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}},t.GdprConsentHandler=class extends y{getConsentMeta(){const e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,n.isStr)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}},t.GppConsentHandler=class extends y{getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}},function(e,t,r){"use strict";var n=r(7),i=r(9),o=r(5),a=r(3),s=r(14),c=r(6),d=r(42),u=r(29),l=r(47),p=r(107),f=o.Symbol,g=f&&f.prototype;if(i&&c(f)&&(!("description"in g)||void 0!==f().description)){var m={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=d(g,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};p(h,f),h.prototype=g,g.constructor=h;var y="Symbol(test)"==String(f("test")),v=a(g.valueOf),b=a(g.toString),E=/^Symbol\((.*)\)[^)]+$/,A=a("".replace),I=a("".slice);l(g,"description",{configurable:!0,get:function(){var e=v(this);if(s(m,e))return"";var t=b(e),r=y?I(t,7,-1):A(t,E,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:h})}},function(e,t,r){"use strict";var n=r(7),i=r(281),o=r(23),a=r(21),s=r(15),c=r(176);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=a(this),n=s(r);return o(e),(t=c(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,r){r(119)("flatMap")},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adunitCounter=void 0;var n=r(0);let i={};function o(e,t,r){let n=function(e,t){let r=i[e]=i[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return n[t]=(n[t]||0)+1,n[t]}let a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.deepAccess)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}};t.adunitCounter=a},function(e,t,r){var n=r(2),i=r(11),o=r(9),a=r(33),s=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),a&&!e.toJSON||!t.size&&(a||!o)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(e,t,r){"use strict";r(157);var n=r(7),i=r(5),o=r(10),a=r(3),s=r(9),c=r(190),d=r(34),u=r(47),l=r(171),p=r(51),f=r(160),g=r(28),m=r(55),h=r(6),y=r(14),v=r(39),b=r(46),E=r(19),A=r(18),I=r(29),T=r(56),_=r(45),S=r(91),w=r(70),O=r(113),C=r(11),R=r(127),x=C("iterator"),P=g.set,k=g.getterFor("URLSearchParams"),D=g.getterFor("URLSearchParamsIterator"),N=Object.getOwnPropertyDescriptor,B=function(e){if(!s)return i[e];var t=N(i,e);return t&&t.value},U=B("fetch"),j=B("Request"),M=B("Headers"),q=j&&j.prototype,L=M&&M.prototype,V=i.RegExp,F=i.TypeError,z=i.decodeURIComponent,W=i.encodeURIComponent,G=a("".charAt),H=a([].join),K=a([].push),Y=a("".replace),J=a([].shift),X=a([].splice),Q=a("".split),$=a("".slice),Z=/\+/g,ee=Array(4),te=function(e){return ee[e-1]||(ee[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return z(e)}catch(t){return e}},ne=function(e){var t=Y(e,Z," "),r=4;try{return z(t)}catch(e){for(;r;)t=Y(t,te(r--),re);return t}},ie=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return oe[e]},se=function(e){return Y(W(e),ie,ae)},ce=f((function(e,t){P(this,{type:"URLSearchParamsIterator",iterator:S(k(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(A(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?$(e,1):e:I(e)))};de.prototype={type:"URLSearchParams",bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,a,s,c,d=w(e);if(d)for(r=(t=S(e,d)).next;!(n=o(r,t)).done;){if(a=(i=S(E(n.value))).next,(s=o(a,i)).done||(c=o(a,i)).done||!o(a,i).done)throw F("Expected sequence with length 2");K(this.entries,{key:I(s.value),value:I(c.value)})}else for(var u in e)y(e,u)&&K(this.entries,{key:u,value:I(e[u])})},parseQuery:function(e){if(e)for(var t,r,n=Q(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=Q(t,"="),K(this.entries,{key:ne(J(r)),value:ne(H(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],K(r,se(e.key)+"="+se(e.value));return H(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ue=function(){m(this,le);var e=arguments.length>0?arguments[0]:void 0,t=P(this,new de(e));s||(this.length=t.entries.length)},le=ue.prototype;if(l(le,{append:function(e,t){O(arguments.length,2);var r=k(this);K(r.entries,{key:I(e),value:I(t)}),s||this.length++,r.updateURL()},delete:function(e){O(arguments.length,1);for(var t=k(this),r=t.entries,n=I(e),i=0;i<r.length;)r[i].key===n?X(r,i,1):i++;s||(this.length=r.length),t.updateURL()},get:function(e){O(arguments.length,1);for(var t=k(this).entries,r=I(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){O(arguments.length,1);for(var t=k(this).entries,r=I(e),n=[],i=0;i<t.length;i++)t[i].key===r&&K(n,t[i].value);return n},has:function(e){O(arguments.length,1);for(var t=k(this).entries,r=I(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){O(arguments.length,1);for(var r,n=k(this),i=n.entries,o=!1,a=I(e),c=I(t),d=0;d<i.length;d++)(r=i[d]).key===a&&(o?X(i,d--,1):(o=!0,r.value=c));o||K(i,{key:a,value:c}),s||(this.length=i.length),n.updateURL()},sort:function(){var e=k(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=k(this).entries,n=v(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),d(le,x,le.entries,{name:"entries"}),d(le,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),s&&u(le,"size",{get:function(){return k(this).entries.length},configurable:!0,enumerable:!0}),p(ue,"URLSearchParams"),n({global:!0,constructor:!0,forced:!c},{URLSearchParams:ue}),!c&&h(M)){var pe=a(L.has),fe=a(L.set),ge=function(e){if(A(e)){var t,r=e.body;if("URLSearchParams"===b(r))return t=e.headers?new M(e.headers):new M,pe(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(e,{body:_(0,I(r)),headers:_(0,t)})}return e};if(h(U)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?ge(arguments[1]):{})}}),h(j)){var me=function(e){return m(this,q),new j(e,arguments.length>1?ge(arguments[1]):{})};q.constructor=me,me.prototype=q,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:ue,getState:k}},function(e,t,r){"use strict";r(4),Object.defineProperty(t,"__esModule",{value:!0}),t.emitAdRenderFail=function(e){let{reason:t,message:r,bid:n,id:a}=e;const c={reason:t,message:r};n&&(c.bid=n),a&&(c.adId=a),(0,i.logError)(r),o.emit(s,c)},t.emitAdRenderSucceeded=function(e){let{doc:t,bid:r,id:n}=e;const i={doc:t};r&&(i.bid=r),n&&(i.adId=n),o.emit(c,i)};var n,i=r(0),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(57)),a=(n=r(25))&&n.__esModule?n:{default:n};const{AD_RENDER_FAILED:s,AD_RENDER_SUCCEEDED:c}=a.default.EVENTS},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enrichFPD=t.dep=void 0,r(4),r(13),r(30);var n=r(44),i=r(77),o=r(298),a=r(0),s=r(8),c=r(299),d=r(48);const u={getRefererInfo:i.getRefererInfo,findRootDomain:o.findRootDomain,getWindowTop:a.getWindowTop,getWindowSelf:a.getWindowSelf,getHighEntropySUA:c.getHighEntropySUA,getLowEntropySUA:c.getLowEntropySUA};t.dep=u;const l=(0,n.hook)("sync",e=>d.GreedyPromise.all([e,f().catch(()=>null)]).then(e=>{let[t,r]=e;return Object.entries(g).forEach(e=>{let[r,n]=e;const i=n();i&&Object.keys(i).length>0&&(t[r]=(0,a.mergeDeep)({},i,t[r]))}),r&&(0,a.deepSetValue)(t,"device.sua",Object.assign({},r,t.device.sua)),t}));function p(e){try{return e(u.getWindowTop())}catch(t){return e(u.getWindowSelf())}}function f(){const e=s.config.getConfig("firstPartyData.uaHints");return Array.isArray(e)&&0===e.length?d.GreedyPromise.resolve(u.getLowEntropySUA()):u.getHighEntropySUA(e)}t.enrichFPD=l;const g={site(){var e,t,r;const n=u.getRefererInfo(),o=(0,i.parseDomain)(n.page,{noLeadingWww:!0}),s=null===(e=p(e=>e.document.querySelector("meta[name='keywords']")))||void 0===e||null===(t=e.content)||void 0===t||null===(r=t.replace)||void 0===r?void 0:r.call(t,/\s/g,"");return c={page:n.page,ref:n.ref,domain:o,keywords:s,publisher:{domain:u.findRootDomain(o)}},(0,a.getDefinedParams)(c,Object.keys(c));var c},device:()=>p(e=>({w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,a.getDNT)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()})),regs(){const e={};p(e=>e.navigator.globalPrivacyControl)&&(0,a.deepSetValue)(e,"ext.gpc",1);const t=s.config.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasPurpose1Consent=function(e){return null==e||!e.gdprApplies||!0===(0,n.deepAccess)(e,"vendorData.purpose.consents.1")};var n=r(0)},function(e,t,r){var n=r(9),i=r(5),o=r(3),a=r(109),s=r(89),c=r(26),d=r(86).f,u=r(42),l=r(306),p=r(29),f=r(307),g=r(167),m=r(141),h=r(34),y=r(2),v=r(14),b=r(28).enforce,E=r(111),A=r(11),I=r(122),T=r(168),_=A("match"),S=i.RegExp,w=S.prototype,O=i.SyntaxError,C=o(w.exec),R=o("".charAt),x=o("".replace),P=o("".indexOf),k=o("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,B=/a/g,U=new S(N)!==N,j=g.MISSED_STICKY,M=g.UNSUPPORTED_Y;if(a("RegExp",n&&(!U||j||I||T||y((function(){return B[_]=!1,S(N)!=N||S(B)==B||"/a/i"!=S(N,"i")}))))){for(var q=function(e,t){var r,n,i,o,a,d,g=u(w,this),m=l(e),h=void 0===t,y=[],E=e;if(!g&&m&&h&&e.constructor===q)return e;if((m||u(w,e))&&(e=e.source,h&&(t=f(E))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),E=e,I&&"dotAll"in N&&(n=!!t&&P(t,"s")>-1)&&(t=x(t,/s/g,"")),r=t,j&&"sticky"in N&&(i=!!t&&P(t,"y")>-1)&&M&&(t=x(t,/y/g,"")),T&&(e=(o=function(e){for(var t,r=e.length,n=0,i="",o=[],a={},s=!1,c=!1,d=0,u="";n<=r;n++){if("\\"===(t=R(e,n)))t+=R(e,++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:C(D,k(e,n+1))&&(n+=2,c=!0),i+=t,d++;continue;case">"===t&&c:if(""===u||v(a,u))throw new O("Invalid capture group name");a[u]=!0,o[o.length]=[u,d],c=!1,u="";continue}c?u+=t:i+=t}return[i,o]}(e))[0],y=o[1]),a=s(S(e,t),g?this:w,q),(n||i||y.length)&&(d=b(a),n&&(d.dotAll=!0,d.raw=q(function(e){for(var t,r=e.length,n=0,i="",o=!1;n<=r;n++)"\\"!==(t=R(e,n))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+R(e,++n);return i}(e),r)),i&&(d.sticky=!0),y.length&&(d.groups=y)),e!==E)try{c(a,"source",""===E?"(?:)":E)}catch(e){}return a},L=d(S),V=0;L.length>V;)m(q,S,L[V++]);w.constructor=q,q.prototype=w,h(i,"RegExp",q,{constructor:!0})}E("RegExp")},function(e,t,r){var n=r(9),i=r(122),o=r(41),a=r(47),s=r(28).get,c=RegExp.prototype,d=TypeError;n&&i&&a(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!s(this).dotAll;throw d("Incompatible receiver, RegExp required")}}})},function(e,t,r){"use strict";var n=r(7),i=r(5),o=r(37),a=r(45),s=r(27).f,c=r(14),d=r(55),u=r(89),l=r(142),p=r(321),f=r(143),g=r(9),m=r(33),h=o("Error"),y=o("DOMException"),v=function(){d(this,b);var e=arguments.length,t=l(e<1?void 0:arguments[0]),r=l(e<2?void 0:arguments[1],"Error"),n=new y(t,r),i=h(t);return i.name="DOMException",s(n,"stack",a(1,f(i.stack,1))),u(n,this,v),n},b=v.prototype=y.prototype,E="stack"in h("DOMException"),A="stack"in new y(1,2),I=y&&g&&Object.getOwnPropertyDescriptor(i,"DOMException"),T=!(!I||I.writable&&I.configurable),_=E&&!T&&!A;n({global:!0,constructor:!0,forced:m||_},{DOMException:_?v:y});var S=o("DOMException"),w=S.prototype;if(w.constructor!==S)for(var O in m||s(w,"constructor",a(1,S)),p)if(c(p,O)){var C=p[O],R=C.s;c(S,R)||s(S,R,a(6,C.c))}},function(e,t,r){r(199),r(302),r(303),r(304),r(305),r(308),r(309),r(310),r(311),r(315),r(316),r(317),r(318),r(319),r(320),r(323),r(324),r(325),r(326),r(327),r(328),r(329),r(330),r(331),e.exports=r(332)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getBids=m,r(78);var n=u(r(71)),i=u(r(92)),o=u(r(93)),a=u(r(117)),s=u(r(225)),c=u(r(22)),d=u(r(124));function u(e){return e&&e.__esModule?e:{default:e}}const l="A9M",p="//c.amazon-adsystem.com/aax2/apstag.js";function f(e){return new Promise((function(t,r){(0,s.default)(e,t,r)}))}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map(t=>{const r=e.find(e=>e.slotID===t.slotID),n=t.sizes[0].join("x");return r&&r.amznbid&&r.amzniid?{size:n,value:r.amznbid,id:r.amzniid,status:i.default.SUCCESS,request:t,mediaType:d.default.DISPLAY}:{size:n,status:i.default.NO_BID,request:t,mediaType:d.default.DISPLAY}})}function m(e,t,r,i,s,c){let d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:window,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:f,m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new a.default(o.default.LOAD);const h=t.pubID;h||c({code:l,error:{code:n.default.WRONG_PARAMS,msg:"pubID"}});const y=t.adServer;y||c({code:l,error:{code:n.default.WRONG_PARAMS,msg:"adServer"}});const v=t.timeout;v||c({code:l,error:{code:n.default.WRONG_PARAMS,msg:"timeout"}}),e||c({code:l,error:{code:n.default.WRONG_PARAMS,msg:"slots"}});const b=()=>{c({code:l,stats:m.stop(),error:n.default.LOAD})};u(p).then(()=>{const t=d.apstag;if(t)try{m.lap(o.default.REQUEST),t.init({pubID:h,adServer:y,params:{us_privacy:s}}),t.fetchBids({slots:e,timeout:v},t=>{const r=g(t,e);c({code:l,stats:m.stop(),response:r})})}catch(e){c({code:l,stats:m.stop(),error:n.default.LOAD})}else b()},b)}const h={code:l,getBids:m,formatResponse:g,libUrl:p,renderAd:function(e,t){let{id:r}=e;window.apstag.renderImp(t,r)}};c.default.registerAdapter(l,h);var y=h;t.default=y},function(e,t,r){"use strict";var n,i,o,a=r(7),s=r(33),c=r(64),d=r(5),u=r(10),l=r(34),p=r(50),f=r(51),g=r(111),m=r(23),h=r(6),y=r(18),v=r(55),b=r(145),E=r(147).set,A=r(214),I=r(217),T=r(114),_=r(151),S=r(28),w=r(66),O=r(67),C=r(68),R=O.CONSTRUCTOR,x=O.REJECTION_EVENT,P=O.SUBCLASSING,k=S.getterFor("Promise"),D=S.set,N=w&&w.prototype,B=w,U=N,j=d.TypeError,M=d.document,q=d.process,L=C.f,V=L,F=!!(M&&M.createEvent&&d.dispatchEvent),z=function(e){var t;return!(!y(e)||!h(t=e.then))&&t},W=function(e,t){var r,n,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,d=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&J(t),t.rejection=1),!0===s?r=o:(l&&l.enter(),r=s(o),l&&(l.exit(),i=!0)),r===e.promise?d(j("Promise-chain cycle")):(n=z(r))?u(n,r,c,d):c(r)):d(o)}catch(e){l&&!i&&l.exit(),d(e)}},G=function(e,t){e.notified||(e.notified=!0,A((function(){for(var r,n=e.reactions;r=n.get();)W(r,e);e.notified=!1,t&&!e.rejection&&K(e)})))},H=function(e,t,r){var n,i;F?((n=M.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),d.dispatchEvent(n)):n={promise:t,reason:r},!x&&(i=d["on"+e])?i(n):"unhandledrejection"===e&&I("Unhandled promise rejection",r)},K=function(e){u(E,d,(function(){var t,r=e.facade,n=e.value;if(Y(e)&&(t=T((function(){c?q.emit("unhandledRejection",n,r):H("unhandledrejection",r,n)})),e.rejection=c||Y(e)?2:1,t.error))throw t.value}))},Y=function(e){return 1!==e.rejection&&!e.parent},J=function(e){u(E,d,(function(){var t=e.facade;c?q.emit("rejectionHandled",t):H("rejectionhandled",t,e.value)}))},X=function(e,t,r){return function(n){e(t,n,r)}},Q=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,G(e,!0))},$=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw j("Promise can't be resolved itself");var n=z(t);n?A((function(){var r={done:!1};try{u(n,t,X($,r,e),X(Q,r,e))}catch(t){Q(r,t,e)}})):(e.value=t,e.state=1,G(e,!1))}catch(t){Q({done:!1},t,e)}}};if(R&&(U=(B=function(e){v(this,U),m(e),u(n,this);var t=k(this);try{e(X($,t),X(Q,t))}catch(e){Q(t,e)}}).prototype,(n=function(e){D(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new _,rejection:!1,state:0,value:void 0})}).prototype=l(U,"then",(function(e,t){var r=k(this),n=L(b(this,B));return r.parent=!0,n.ok=!h(e)||e,n.fail=h(t)&&t,n.domain=c?q.domain:void 0,0==r.state?r.reactions.add(n):A((function(){W(n,r)})),n.promise})),i=function(){var e=new n,t=k(e);this.promise=e,this.resolve=X($,t),this.reject=X(Q,t)},C.f=L=function(e){return e===B||void 0===e?new i(e):V(e)},!s&&h(w)&&N!==Object.prototype)){o=N.then,P||l(N,"then",(function(e,t){var r=this;return new B((function(e,t){u(o,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}p&&p(N,U)}a({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:B}),f(B,"Promise",!1,!0),g("Promise")},function(e,t,r){"use strict";var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,r){var n=r(10),i=r(6),o=r(18),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!o(s=n(r,e)))return s;if(i(r=e.valueOf)&&!o(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!o(s=n(r,e)))return s;throw a("Can't convert object to primitive value")}},function(e,t,r){var n=r(5),i=r(6),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},function(e,t,r){var n=r(37),i=r(3),o=r(86),a=r(140),s=r(19),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=a.f;return r?c(t,r(e)):t}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?n:r)(t)}},function(e,t,r){"use strict";r(35),r(1);var n,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var d,u=[],l=!1,p=-1;function f(){l&&d&&(l=!1,d.length?u=d.concat(u):p=-1,u.length&&g())}function g(){if(!l){var e=c(f);l=!0;for(var t=u.length;t;){for(d=u,u=[];++p<t;)d&&d[p].run();p=-1,t=u.length}d=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||l||c(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(37),i=r(14),o=r(26),a=r(42),s=r(50),c=r(107),d=r(141),u=r(89),l=r(142),p=r(211),f=r(212),g=r(9),m=r(33);e.exports=function(e,t,r,h){var y=h?2:1,v=e.split("."),b=v[v.length-1],E=n.apply(null,v);if(E){var A=E.prototype;if(!m&&i(A,"cause")&&delete A.cause,!r)return E;var I=n("Error"),T=t((function(e,t){var r=l(h?t:e,void 0),n=h?new E(e):new E;return void 0!==r&&o(n,"message",r),f(n,T,n.stack,2),this&&a(A,this)&&u(n,this,T),arguments.length>y&&p(n,arguments[y]),n}));if(T.prototype=A,"Error"!==b?s?s(T,I):c(T,I,{name:!0}):g&&"stackTraceLimit"in E&&(d(T,E,"stackTraceLimit"),d(T,E,"prepareStackTrace")),c(T,E),!m)try{A.name!==b&&o(A,"name",b),A.constructor=T}catch(e){}return T}}},function(e,t,r){var n=r(3),i=r(23);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},function(e,t,r){var n=r(6),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},function(e,t,r){var n={};n[r(11)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var n=r(18),i=r(26);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},function(e,t,r){var n=r(26),i=r(143),o=r(213),a=Error.captureStackTrace;e.exports=function(e,t,r,s){o&&(a?a(e,t):n(e,"stack",i(r,s)))}},function(e,t,r){var n=r(2),i=r(45);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},function(e,t,r){var n,i,o,a,s,c=r(5),d=r(39),u=r(79).f,l=r(147).set,p=r(151),f=r(150),g=r(215),m=r(216),h=r(64),y=c.MutationObserver||c.WebKitMutationObserver,v=c.document,b=c.process,E=c.Promise,A=u(c,"queueMicrotask"),I=A&&A.value;if(!I){var T=new p,_=function(){var e,t;for(h&&(e=b.domain)&&e.exit();t=T.get();)try{t()}catch(e){throw T.head&&n(),e}e&&e.enter()};f||h||m||!y||!v?!g&&E&&E.resolve?((a=E.resolve(void 0)).constructor=E,s=d(a.then,a),n=function(){s(_)}):h?n=function(){b.nextTick(_)}:(l=d(l,c),n=function(){l(_)}):(i=!0,o=v.createTextNode(""),new y(_).observe(o,{characterData:!0}),n=function(){o.data=i=!i}),I=function(e){T.head||n(),T.add(e)}}e.exports=I},function(e,t,r){var n=r(49);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},function(e,t,r){var n=r(49);e.exports=/web0s(?!.*chrome)/i.test(n)},function(e,t){e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},function(e,t,r){var n=r(152),i=r(64);e.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},function(e,t,r){"use strict";var n=r(7),i=r(10),o=r(23),a=r(68),s=r(114),c=r(115);n({target:"Promise",stat:!0,forced:r(154)},{all:function(e){var t=this,r=a.f(t),n=r.resolve,d=r.reject,u=s((function(){var r=o(t.resolve),a=[],s=0,u=1;c(e,(function(e){var o=s++,c=!1;u++,i(r,t,e).then((function(e){c||(c=!0,a[o]=e,--u||n(a))}),d)})),--u||n(a)}));return u.error&&d(u.value),r.promise}})},function(e,t,r){"use strict";var n=r(7),i=r(33),o=r(67).CONSTRUCTOR,a=r(66),s=r(37),c=r(6),d=r(34),u=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(a)){var l=s("Promise").prototype.catch;u.catch!==l&&d(u,"catch",l,{unsafe:!0})}},function(e,t,r){"use strict";var n=r(7),i=r(10),o=r(23),a=r(68),s=r(114),c=r(115);n({target:"Promise",stat:!0,forced:r(154)},{race:function(e){var t=this,r=a.f(t),n=r.reject,d=s((function(){var a=o(t.resolve);c(e,(function(e){i(a,t,e).then(r.resolve,n)}))}));return d.error&&n(d.value),r.promise}})},function(e,t,r){"use strict";var n=r(7),i=r(10),o=r(68);n({target:"Promise",stat:!0,forced:r(67).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},function(e,t,r){"use strict";var n=r(7),i=r(37),o=r(33),a=r(66),s=r(67).CONSTRUCTOR,c=r(224),d=i("Promise"),u=o&&!s;n({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return c(u&&this===d?a:this,e)}})},function(e,t,r){var n=r(19),i=r(18),o=r(68);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(118),i=r(156);e.exports=function(e,t,r){var o,a,s=document.createElement("script"),c=t instanceof HTMLElement&&t;if(o=i(t)?t:i(r)?r:n,s.src=e,s.onload=function(){o(void 0)},s.onerror=function(){o("error")},c)a=c;else{var d=document.getElementsByTagName("head");a=d&&0!==d.length?d[0]:document.documentElement}a.appendChild(s)}},function(e,t,r){var n=r(3),i=r(65),o=r(6),a=r(41),s=r(29),c=n([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,r=[],n=0;n<t;n++){var d=e[n];"string"==typeof d?c(r,d):"number"!=typeof d&&"Number"!=a(d)&&"String"!=a(d)||c(r,s(d))}var u=r.length,l=!0;return function(e,t){if(l)return l=!1,t;if(i(this))return t;for(var n=0;n<u;n++)if(r[n]===e)return t}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){var n=r(84)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,r){var n=r(9),i=r(136),o=r(27),a=r(19),s=r(59),c=r(158);t.f=n&&!i?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),i=c(t),d=i.length,u=0;d>u;)o.f(e,r=i[u++],n[r]);return e}},function(e,t,r){var n=r(2);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){"use strict";var n=r(232),i=r(233);e.exports=function(e,t){window.XDomainRequest?i(e,new n,t):i(e,new XMLHttpRequest,t)}},function(e,t,r){"use strict";var n=r(163),i=r(118),o=r(156),a={},s=function(){function e(){var t=this;this.addEventListener=i,this.removeEventListener=i,this.setRequestHeader=i,this.overrideMimeType=i,this.onTimeout=function(){o(t.ontimeout)&&t.ontimeout(),t.destroy()},this.onError=function(){o(t.onerror)&&t.onerror(),t.destroy()},this.onLoad=function(){t.readyState=4,t.responseText=t.xdr.responseText,t.status=200,o(t.onreadystatechange)&&t.onreadystatechange(),o(t.onload)&&t.onload(),t.destroy()},this.id=e.getID(),this.xdr=new window.XDomainRequest,this.xdr.onerror=this.onError,this.xdr.ontimeout=this.onTimeout,this.xdr.onprogress=i,this.xdr.onload=this.onLoad,a[this.id]=this.xdr}return e.prototype.dispatchEvent=function(){return!1},e.prototype.open=function(e,t){this.xdr.open(e,t)},e.prototype.send=function(e){var t=this;this.xdr.timeout=this.timeout,setTimeout((function(){t.xdr.send(e)}),0)},e.prototype.getResponseHeader=function(){return""},e.prototype.getAllResponseHeaders=function(){return""},e.prototype.abort=function(){this.xdr.abort(),this.destroy()},e.prototype.destroy=function(){delete a[this.id]},e.getID=n(),e}();e.exports=s},function(e,t,r){"use strict";var n=r(234);e.exports=function(e,t,r){var i=e.method,o=e.data,a=e.headers,s=e.timeout,c=e.withCredentials,d=e.queryParams,u=e.url;if(d&&(u=n(u,d)),t.open(i,u),a)for(var l in a)a.hasOwnProperty(l)&&t.setRequestHeader(l,a[l]);c&&(t.withCredentials=Boolean(c)),s&&(t.timeout=s),t.onreadystatechange=function(){4===t.readyState&&(t.status>=200&&t.status<300||304===t.status?r&&r(void 0,t.responseText):0!==t.status&&r&&r("error: "+t.status))},t.onerror=function(){r("error")},t.ontimeout=function(){r("timeout")},t.onabort=function(){r("aborted")},t.send(o)}},function(e,t,r){"use strict";var n=r(235),i=r(164);e.exports=function(e,t){var r=i(t);return 0===r.length?e:e+(n(e,"?")?"&":"?")+r}},function(e,t,r){"use strict";e.exports=function(e,t){return e.indexOf(t)>-1}},function(e,t,r){"use strict";e.exports=function(e){return null===e}},function(e,t,r){"use strict";e.exports=function(e){return void 0===e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{code:e,getBids:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];E(...[e,t].concat(n))},formatPrebidResponse:s.default,renderAd:v}},r(16),r(72),r(4),r(78);var n=h(r(93)),i=h(r(71)),o=h(r(117)),a=h(r(118)),s=h(r(240)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(0));r(183);var d=h(r(75)),u=r(36),l=r(95),p=r(77),f=r(8),g=r(20),m=r(193);function h(e){return e&&e.__esModule?e:{default:e}}function y(e){let{bidderCode:t,requestId:r,bidderRequestId:n,adUnits:i}=e;return i.map(e=>e.bids.map(t=>{let i=e.sizes;e.mediaTypes?c.isValidMediaTypes(e.mediaTypes)?t=Object.assign({},t,{mediaTypes:e.mediaTypes}):c.logError("mediaTypes is not correctly configured for adunit ".concat(e.code)):t.mediaTypes={[g.BANNER]:{sizes:i}};const o=e.nativeParams||c.deepAccess(e,"mediaTypes.native");return o&&(t=Object.assign({},t,{nativeParams:(0,u.processNativeAdUnitParams)(o)})),t=Object.assign({},t,(0,c.getDefinedParams)(e,["mediaType","renderer"])),Object.assign({},t,{placementCode:e.code,transactionId:e.transactionId,sizes:i,bidId:t.bid_id||c.getUniqueIdentifierStr(),bidderRequestId:n,requestId:r,renderer:t.renderer||!0})})).reduce(c.flatten,[]).filter(e=>""!==e)}function v(e,t){t.open(),t.write(e.ad)}function b(e,t){e.forEach(e=>{e.bids.forEach(e=>{e.schain=t})})}function E(e,t,r,c,u,g,h,v){arguments.length>8&&void 0!==arguments[8]||window;const E=new o.default(n.default.REQUEST);(g=g||f.config.getConfig().schain)&&g.config&&b(r,g.config);const I=(new Date).getTime(),T=I,_=I,S=d.default.getBidAdapter(t),w=y({bidderCode:t,requestId:T,bidderRequestId:_,adUnits:r}),O={bidderCode:t,requestId:T,bidderRequestId:_,refererInfo:(0,p.getRefererInfo)(),bids:w,gdprConsent:u,uspConsent:h,auctionStart:I,start:I},C={};function R(e,t){C[e]={bids:[t]}}function x(){try{v({code:e,success:!0,response:(0,s.default)(C,r),stats:E.stop()})}catch(t){v({code:e,error:i.default.ADAPTER_ERROR,stats:E.stop()})}}const P=36e5,k=(0,l.ajaxBuilder)(P),D={global:f.config.getAnyConfig("ortb2")||{},bidder:Object.fromEntries(Object.entries(f.config.getBidderConfig()).map(e=>{let[t,r]=e;return[t,r.ortb2]}).filter(e=>{let[t,r]=e;return null!=r}))};(0,m.enrichFPD)(Promise.resolve(D.global)).then(t=>{D.global=t,S.callBids(A(O,D),R,x,k,a.default,f.config.callbackWithBidder(e))})}function A(e,t){const r={...t.global||{},...(t.bidder||{})[e.bidderCode]};return e.ortb2=r,e.bids.forEach(e=>e.ortb2=r),e}},function(e,t,r){var n=r(23),i=r(21),o=r(60),a=r(15),s=TypeError,c=function(e){return function(t,r,c,d){n(r);var u=i(t),l=o(u),p=a(u),f=e?p-1:0,g=e?-1:1;if(c<2)for(;;){if(f in l){d=l[f],f+=g;break}if(f+=g,e?f<0:p<=f)throw s("Reduce of empty array with no initial value")}for(;e?f>=0:p>f;f+=g)f in l&&(d=r(d,l[f],f,u));return d}};e.exports={left:c(!1),right:c(!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.map(t=>{const{code:r,sizes:c}=t,d=e[r],[u,l]=c[0],p="".concat(u,"x").concat(l);let f;if(f=(0,a.deepAccess)(t,"mediaTypes.video")||"video"===(0,a.deepAccess)(t,"bids.0.mediaType")||"video"===(0,a.deepAccess)(d,"bids.0.mediaType")||(0,a.deepAccess)(t,"bids.0.params.video")?i.default.VIDEO:(0,a.deepAccess)(t,"mediaTypes.native")?i.default.NATIVE:i.default.DISPLAY,void 0===d)return{size:p,status:n.default.NO_BID,mediaType:f,request:t};const g=d.bids[0],{cpm:m,creativeId:h}=g,y=(0,o.default)(m)?m:parseFloat(m);return(0,o.default)(y)?f===i.default.VIDEO?{mediaType:f,size:p,vast:(0,s.default)(g),value:y,id:g.adId,status:n.default.SUCCESS,request:t,prebidBidObject:g,creativeId:h}:f===i.default.NATIVE?{mediaType:f,size:p,value:y,assets:g.native,status:n.default.SUCCESS,request:t,creativeId:h}:{ad:g.ad.replace(/\$\{AUCTION_PRICE\}/g,g.cpm),mediaType:f,size:p,value:y,status:n.default.SUCCESS,request:t,creativeId:h}:{mediaType:f,size:p,status:n.default.ERROR,request:t,creativeId:h}})},r(4),r(13),r(30);var n=c(r(92)),i=c(r(124)),o=c(r(245)),a=r(0),s=c(r(274));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";r(13);var n=r(90),i=r(34),o=r(121),a=r(2),s=r(11),c=r(26),d=s("species"),u=RegExp.prototype;e.exports=function(e,t,r,l){var p=s(e),f=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=f&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[d]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!f||!g||r){var m=n(/./[p]),h=t(p,""[e],(function(e,t,r,i,a){var s=n(e),c=t.exec;return c===o||c===u.exec?f&&!a?{done:!0,value:m(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,h[0]),i(u,p,h[1])}l&&c(u[p],"sham",!0)}},function(e,t,r){"use strict";var n=r(123).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n=r(3),i=r(21),o=Math.floor,a=n("".charAt),s=n("".replace),c=n("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,l,p){var f=r+e.length,g=n.length,m=u;return void 0!==l&&(l=i(l),m=d),s(p,m,(function(i,s){var d;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,f);case"<":d=l[c(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>g){var p=o(u/10);return 0===p?i:p<=g?void 0===n[p-1]?a(s,1):n[p-1]+a(s,1):i}d=n[u-1]}return void 0===d?"":d}))}},function(e,t,r){var n=r(10),i=r(19),o=r(6),a=r(41),s=r(121),c=TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var d=n(r,e,t);return null!==d&&i(d),d}if("RegExp"===a(e))return n(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},function(e,t,r){"use strict";e.exports=function(e){return"number"==typeof e}},function(e,t,r){"use strict";var n=r(7),i=r(90),o=r(2),a=r(169),s=r(19),c=r(87),d=r(54),u=r(145),l=a.ArrayBuffer,p=a.DataView,f=p.prototype,g=i(l.prototype.slice),m=i(f.getUint8),h=i(f.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(g&&void 0===t)return g(s(this),e);for(var r=s(this).byteLength,n=c(e,r),i=c(void 0===t?r:t,r),o=new(u(this,l))(d(i-n)),a=new p(this),f=new p(o),y=0;n<i;)h(f,y++,m(a,n++));return o}})},function(e,t){var r=Array,n=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2;e.exports={pack:function(e,t,c){var d,u,l,p=r(c),f=8*c-t-1,g=(1<<f)-1,m=g>>1,h=23===t?i(2,-24)-i(2,-77):0,y=e<0||0===e&&1/e<0?1:0,v=0;for((e=n(e))!=e||e===1/0?(u=e!=e?1:0,d=g):(d=o(a(e)/s),e*(l=i(2,-d))<1&&(d--,l*=2),(e+=d+m>=1?h/l:h*i(2,1-m))*l>=2&&(d++,l/=2),d+m>=g?(u=0,d=g):d+m>=1?(u=(e*l-1)*i(2,t),d+=m):(u=e*i(2,m-1)*i(2,t),d=0));t>=8;)p[v++]=255&u,u/=256,t-=8;for(d=d<<t|u,f+=t;f>0;)p[v++]=255&d,d/=256,f-=8;return p[--v]|=128*y,p},unpack:function(e,t){var r,n=e.length,o=8*n-t-1,a=(1<<o)-1,s=a>>1,c=o-7,d=n-1,u=e[d--],l=127&u;for(u>>=7;c>0;)l=256*l+e[d--],c-=8;for(r=l&(1<<-c)-1,l>>=-c,c+=t;c>0;)r=256*r+e[d--],c-=8;if(0===l)l=1-s;else{if(l===a)return r?NaN:u?-1/0:1/0;r+=i(2,t),l-=s}return(u?-1:1)*r*i(2,l-t)}}},function(e,t,r){r(249)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";var n=r(7),i=r(5),o=r(10),a=r(9),s=r(250),c=r(31),d=r(169),u=r(55),l=r(45),p=r(26),f=r(251),g=r(54),m=r(172),h=r(174),y=r(81),v=r(14),b=r(46),E=r(18),A=r(82),I=r(56),T=r(42),_=r(50),S=r(86).f,w=r(253),O=r(254).forEach,C=r(111),R=r(47),x=r(27),P=r(79),k=r(28),D=r(89),N=k.get,B=k.set,U=k.enforce,j=x.f,M=P.f,q=Math.round,L=i.RangeError,V=d.ArrayBuffer,F=V.prototype,z=d.DataView,W=c.NATIVE_ARRAY_BUFFER_VIEWS,G=c.TYPED_ARRAY_TAG,H=c.TypedArray,K=c.TypedArrayPrototype,Y=c.aTypedArrayConstructor,J=c.isTypedArray,X=function(e,t){Y(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},Q=function(e,t){R(e,t,{configurable:!0,get:function(){return N(this)[t]}})},$=function(e){var t;return T(F,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},Z=function(e,t){return J(e)&&!A(t)&&t in e&&f(+t)&&t>=0},ee=function(e,t){return t=y(t),Z(e,t)?l(2,e[t]):M(e,t)},te=function(e,t,r){return t=y(t),!(Z(e,t)&&E(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?j(e,t,r):(e[t]=r.value,e)};a?(W||(P.f=ee,x.f=te,Q(K,"buffer"),Q(K,"byteOffset"),Q(K,"byteLength"),Q(K,"length")),n({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:ee,defineProperty:te}),e.exports=function(e,t,r){var a=e.match(/\d+/)[0]/8,c=e+(r?"Clamped":"")+"Array",d="get"+e,l="set"+e,f=i[c],y=f,v=y&&y.prototype,b={},A=function(e,t){j(e,t,{get:function(){return function(e,t){var r=N(e);return r.view[d](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=N(e);r&&(n=(n=q(n))<0?0:n>255?255:255&n),i.view[l](t*a+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};W?s&&(y=t((function(e,t,r,n){return u(e,v),D(E(t)?$(t)?void 0!==n?new f(t,h(r,a),n):void 0!==r?new f(t,h(r,a)):new f(t):J(t)?X(y,t):o(w,y,t):new f(m(t)),e,y)})),_&&_(y,H),O(S(f),(function(e){e in y||p(y,e,f[e])})),y.prototype=v):(y=t((function(e,t,r,n){u(e,v);var i,s,c,d=0,l=0;if(E(t)){if(!$(t))return J(t)?X(y,t):o(w,y,t);i=t,l=h(r,a);var p=t.byteLength;if(void 0===n){if(p%a)throw L("Wrong length");if((s=p-l)<0)throw L("Wrong length")}else if((s=g(n)*a)+l>p)throw L("Wrong length");c=s/a}else c=m(t),i=new V(s=c*a);for(B(e,{buffer:i,byteOffset:l,byteLength:s,length:c,view:new z(i)});d<c;)A(e,d++)})),_&&_(y,H),v=y.prototype=I(K)),v.constructor!==y&&p(v,"constructor",y),U(v).TypedArrayConstructor=y,G&&p(v,G,c);var T=y!=f;b[c]=y,n({global:!0,constructor:!0,forced:T,sham:!W},b),"BYTES_PER_ELEMENT"in y||p(y,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in v||p(v,"BYTES_PER_ELEMENT",a),C(c)}):e.exports=function(){}},function(e,t,r){var n=r(5),i=r(2),o=r(155),a=r(31).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;e.exports=!a||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!o((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},function(e,t,r){var n=r(18),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t,r){var n=r(38),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw i("The argument can't be less than 0");return t}},function(e,t,r){var n=r(39),i=r(10),o=r(146),a=r(21),s=r(15),c=r(91),d=r(70),u=r(116),l=r(175),p=r(31).aTypedArrayConstructor,f=r(126);e.exports=function(e){var t,r,g,m,h,y,v,b,E=o(this),A=a(e),I=arguments.length,T=I>1?arguments[1]:void 0,_=void 0!==T,S=d(A);if(S&&!u(S))for(b=(v=c(A,S)).next,A=[];!(y=i(b,v)).done;)A.push(y.value);for(_&&I>2&&(T=n(T,arguments[2])),r=s(A),g=new(p(E))(r),m=l(g),t=0;r>t;t++)h=_?T(A[t],t):A[t],g[t]=m?f(h):+h;return g}},function(e,t,r){var n=r(39),i=r(3),o=r(60),a=r(21),s=r(15),c=r(176),d=i([].push),u=function(e){var t=1==e,r=2==e,i=3==e,u=4==e,l=6==e,p=7==e,f=5==e||l;return function(g,m,h,y){for(var v,b,E=a(g),A=o(E),I=n(m,h),T=s(A),_=0,S=y||c,w=t?S(g,T):r||p?S(g,0):void 0;T>_;_++)if((f||_ in A)&&(b=I(v=A[_],_,E),e))if(t)w[_]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:d(w,v)}else switch(e){case 4:return!1;case 7:d(w,v)}return l?-1:i||u?u:w}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(e,t,r){var n=r(65),i=r(112),o=r(18),a=r(11)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===s||n(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},function(e,t,r){"use strict";var n=r(31),i=r(15),o=r(38),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=a(this),r=i(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},function(e,t,r){"use strict";var n=r(31),i=r(173),o=r(126),a=r(46),s=r(10),c=r(3),d=r(2),u=n.aTypedArray,l=n.exportTypedArrayMethod,p=c("".slice);l("fill",(function(e){var t=arguments.length;u(this);var r="Big"===p(a(this),0,3)?o(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),d((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},function(e,t,r){"use strict";var n=r(31),i=r(177).findLast,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(31),i=r(177).findLastIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(5),i=r(10),o=r(31),a=r(15),s=r(174),c=r(21),d=r(2),u=n.RangeError,l=n.Int8Array,p=l&&l.prototype,f=p&&p.set,g=o.aTypedArray,m=o.exportTypedArrayMethod,h=!d((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),y=h&&o.NATIVE_ARRAY_BUFFER_VIEWS&&d((function(){var e=new l(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){g(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(h)return i(f,this,r,t);var n=this.length,o=a(r),d=0;if(o+t>n)throw u("Wrong length");for(;d<o;)this[t+d]=r[d++]}),!h||y)},function(e,t,r){"use strict";var n=r(5),i=r(90),o=r(2),a=r(23),s=r(127),c=r(31),d=r(178),u=r(179),l=r(63),p=r(180),f=c.aTypedArray,g=c.exportTypedArrayMethod,m=n.Uint16Array,h=m&&i(m.prototype.sort),y=!(!h||o((function(){h(new m(2),null)}))&&o((function(){h(new m(2),{})}))),v=!!h&&!o((function(){if(l)return l<74;if(d)return d<67;if(u)return!0;if(p)return p<602;var e,t,r=new m(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(h(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));g("sort",(function(e){return void 0!==e&&a(e),v?h(this,e):s(f(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!v||y)},function(e,t,r){r(263)},function(e,t,r){"use strict";var n=r(264),i=r(31),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",(function(){return n(o(this),s(this))}))},function(e,t,r){var n=r(15);e.exports=function(e,t){for(var r=n(e),i=new t(r),o=0;o<r;o++)i[o]=e[r-o-1];return i}},function(e,t,r){r(266)},function(e,t,r){"use strict";var n=r(31),i=r(3),o=r(23),a=r(267),s=n.aTypedArray,c=n.getTypedArrayConstructor,d=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);d("toSorted",(function(e){void 0!==e&&o(e);var t=s(this),r=a(c(t),t);return u(r,e)}))},function(e,t,r){var n=r(15);e.exports=function(e,t){for(var r=0,i=n(t),o=new e(i);i>r;)o[r]=t[r++];return o}},function(e,t,r){r(269)},function(e,t,r){"use strict";var n=r(270),i=r(31),o=r(175),a=r(38),s=r(126),c=i.aTypedArray,d=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,l=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=c(this),i=a(e),u=o(r)?s(t):+t;return n(r,d(r),i,u)}}.with,!l)},function(e,t,r){var n=r(15),i=r(38),o=RangeError;e.exports=function(e,t,r,a){var s=n(e),c=i(r),d=c<0?s+c:c;if(d>=s||d<0)throw o("Incorrect index");for(var u=new t(s),l=0;l<s;l++)u[l]=l===d?a:e[l];return u}},function(e,t,r){"use strict";e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];r[n]=i&&"object"==typeof i?e(i):i}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e},r(13)},function(e,t,r){"use strict";function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,o=0,a=t.length,s=e;o<a&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)s=s[i]=o===a?r:typeof(n=s[i])==typeof t?n:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}r.r(t),r.d(t,"dset",(function(){return n}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(275))&&n.__esModule?n:{default:n},o=r(0);t.default=function(e){const{vastXml:t,vastUrl:r,vastImpUrl:n,adResponse:a}=e;let s=t;return!s&&a&&a.ad&&(s=(0,o.deepAccess)(a.ad,"video.content")),!s&&r&&(s=(0,i.default)(r,n)),s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t){let r=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t._sendAdToCreative=b,t.getReplier=y,t.listenMessagesFromCreative=function(){window.addEventListener("message",v,!1)},t.receiveMessage=v,r(4),r(35),r(24);var n,i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(57)),o=r(36),a=(n=r(25))&&n.__esModule?n:{default:n},s=r(0),c=r(40),d=r(12),u=r(43),l=r(8),p=r(192);const f=a.default.EVENTS.BID_WON,g=a.default.EVENTS.STALE_RENDER,m=new WeakSet,h={"Prebid Request":function(e,t,r){if(null!=r){if(r.status!==a.default.BID_STATUS.RENDERED||((0,s.logWarn)("Ad id ".concat(r.adId," has been rendered before")),i.emit(g,r),!(0,s.deepAccess)(l.config.getConfig("auctionOptions"),"suppressStaleRender"))){try{b(r,e)}catch(e){return void(0,p.emitAdRenderFail)({reason:a.default.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:r})}c.auctionManager.addWinningBid(r),i.emit(f,r)}}else(0,p.emitAdRenderFail)({reason:a.default.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad '".concat(t.adId,"' for cross-origin render request"),id:t.adId})},"Prebid Event":function(e,t,r){if(null!=r)if(r.status===a.default.BID_STATUS.RENDERED)switch(t.event){case a.default.EVENTS.AD_RENDER_FAILED:(0,p.emitAdRenderFail)({bid:r,id:t.adId,reason:t.info.reason,message:t.info.message});break;case a.default.EVENTS.AD_RENDER_SUCCEEDED:(0,p.emitAdRenderSucceeded)({doc:null,bid:r,id:t.adId});break;default:(0,s.logError)("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}else(0,s.logWarn)("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));else(0,s.logError)("Cannot find ad '".concat(t.adId,"' for x-origin event request"))}};function y(e){return null==e.origin&&0===e.ports.length?function(){const e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,s.logError)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}function v(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId&&r.message){const t=(0,d.find)(c.auctionManager.getBidsReceived(),(function(e){return e.adId===r.adId}));h.hasOwnProperty(r.message)&&h[r.message](y(e),r,t)}}function b(e,t){const{adId:r,ad:n,adUrl:i,width:o,height:a,renderer:c,cpm:d,originalCpm:l}=e;(0,u.isRendererRequired)(c)?(0,u.executeRenderer)(c,e):r&&(E(e),t({message:"Prebid Response",ad:(0,s.replaceAuctionPrice)(n,l||d),adUrl:(0,s.replaceAuctionPrice)(i,l||d),adId:r,width:o,height:a}))}function E(e){let{adId:t,adUnitCode:r,width:n,height:i}=e;["div","iframe"].forEach(e=>{let o=function(e){let n=function(e,t){return(0,s.isGptPubadsDefined)()?function(e){const t=(0,d.find)(window.googletag.pubads().getSlots(),t=>(0,d.find)(t.getTargetingKeys(),r=>(0,d.includes)(t.getTargeting(r),e)));return t?t.getSlotElementId():null}(e):(0,s.isApnGetTagDefined)()?function(e){let t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,r),i=document.getElementById(n);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(o){let e=o.style;e.width=n?n+"px":"100%",e.height=i+"px"}else(0,s.logWarn)("Unable to locate matching page element for adUnitCode ".concat(r,".  Can't resize it to ad's dimensions.  Please review setup."))})}Object.assign(h,{"Prebid Native":function(e,t,r){if(null!=r)switch(m.has(r)||(m.add(r),c.auctionManager.addWinningBid(r),i.emit(f,r)),t.action){case"assetRequest":e((0,o.getAssetMessage)(t,r));break;case"allAssetRequest":e((0,o.getAllAssetsMessage)(t,r));break;case"resizeNativeHeight":r.height=t.height,r.width=t.width,E(r);break;default:(0,o.fireNativeTrackers)(t,r)}else(0,s.logError)("Cannot find ad '".concat(t.adId,"' for x-origin event request"))}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBidResponse=t.AUCTION_STARTED=t.AUCTION_IN_PROGRESS=t.AUCTION_COMPLETED=void 0,t.addBidToAuction=k,t.addBidderRequests=void 0,t.adjustBids=X,t.auctionCallbacks=x,t.callPrebidCache=t.bidsBackCallback=t.batchingCache=void 0,t.doCallbacksIfTimedout=P,t.getAdvertiserDomain=void 0,t.getKeyValueTargetingPairs=Y,t.getMediaTypeGranularity=z,t.getPrimaryCatId=t.getPriceGranularity=t.getPriceByGranularity=void 0,t.getStandardBidderSettings=K,t.newAuction=function(e){let{adUnits:t,adUnitCodes:r,callback:i,cbTimeout:o,labels:a,auctionId:s,ortb2Fragments:d,metrics:u}=e;u=(0,E.useMetrics)(u);const l=t,p=a,f=r,g=s||(0,n.generateUUID)(),m=o,b=new Set;let A,I,O,P,k=[],D=i,N=[],B=[],U=[],j=[];function M(){return{auctionId:g,timestamp:A,auctionEnd:I,auctionStatus:P,adUnits:l,adUnitCodes:f,labels:p,bidderRequests:N,noBids:U,bidsReceived:B,bidsRejected:k,winningBids:j,timeout:m,metrics:u}}function q(e,r){if(r&&clearTimeout(O),void 0===I){let r=[];e&&((0,n.logMessage)("Auction ".concat(g," timedOut")),i=b,r=N.map(e=>(e.bids||[]).filter(e=>!i.has(e.bidder))).reduce(n.flatten,[]),r.length&&h.emit(v.default.EVENTS.BID_TIMEOUT,r)),P="completed",I=Date.now(),u.checkpoint("auctionEnd"),u.timeBetween("requestBids","auctionEnd","requestBids.total"),u.timeBetween("callBids","auctionEnd","requestBids.callBids"),h.emit(v.default.EVENTS.AUCTION_END,M()),R(l,(function(){try{if(null!=D){const t=f,r=B.filter(n.bind.call(n.adUnitsFilter,this,t)).reduce(Q,{});D.apply(pbjs,[r,e,g]),D=null}}catch(e){(0,n.logError)("Error executing bidsBackHandler",null,e)}finally{r.length&&y.default.callTimedOutBidders(t,r,m);let e=c.config.getConfig("userSync")||{};e.enableOverride||T(e.syncDelay)}}))}var i}function L(){c.config.resetBidder(),(0,n.logInfo)("Bids Received for Auction with id: ".concat(g),B),P="completed",q(!1,!0)}function V(e){b.add(e)}function F(e){e.forEach(e=>{var t;t=e,N=N.concat(t)});let t={},r={bidRequests:e,run:()=>{!function(){const e=q.bind(null,!0);let t=setTimeout(e,m);O=t}(),P="inProgress",h.emit(v.default.EVENTS.AUCTION_INIT,M());let r=x(L,this);y.default.callBids(l,e,r.addBidResponse,r.adapterDone,{request(e,r){o(_,r),o(t,e),S[e]||(S[e]={SRA:!0,origin:r}),t[e]>1&&(S[e].SRA=!1)},done(e){_[e]--,w[0]&&i(w[0])&&w.shift()}},m,V,d)}};function i(e){let t=!0,r=c.config.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some(e=>{let n=1,i=void 0!==e.src&&e.src===v.default.S2S.SRC?"s2s":e.bidderCode;return S[i]&&(!1===S[i].SRA&&(n=Math.min(e.bids.length,r)),_[S[i].origin]+n>r&&(t=!1)),!t}),t&&e.run(),t}function o(e,t){void 0===e[t]?e[t]=1:e[t]++}i(r)||((0,n.logWarn)("queueing auction due to limited endpoint capacity"),w.push(r))}return{addBidReceived:function(e){B=B.concat(e)},addBidRejected:function(e){k=k.concat(e)},addNoBid:function(e){U=U.concat(e)},executeCallback:q,callBids:function(){P="started",A=Date.now();let e=u.measureTime("requestBids.makeRequests",()=>y.default.makeBidRequests(l,A,g,m,p,d,u));(0,n.logInfo)("Bids Requested for Auction with id: ".concat(g),e),u.checkpoint("callBids"),e.length<1?((0,n.logWarn)("No valid bid requests returned for auction"),L()):C.call({dispatch:F,context:this},e)},addWinningBid:function(e){j=j.concat(e),y.default.callBidWonBidder(e.adapterCode||e.bidder,e,t)},setBidTargeting:function(e){y.default.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>j,getAuctionStart:()=>A,getTimeout:()=>m,getAuctionId:()=>g,getAuctionStatus:()=>P,getAdUnits:()=>l,getAdUnitCodes:()=>f,getBidRequests:()=>N,getBidsReceived:()=>B,getNoBids:()=>U,getFPD:()=>d,getMetrics:()=>u}},t.resetAuctionState=function(){w.length=0,[_,S].forEach(e=>Object.keys(e).forEach(t=>{delete e[t]}))},r(4),r(16),r(1),r(72),r(17);var n=r(0),i=r(182),o=r(36),a=r(278),s=r(43),c=r(8),d=r(74),u=r(44),l=r(12),p=r(130),f=r(20),g=r(40),m=r(58),h=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(57)),y=I(r(75)),v=I(r(25)),b=r(48),E=r(76),A=r(98);function I(e){return e&&e.__esModule?e:{default:e}}const{syncUsers:T}=d.userSync;t.AUCTION_STARTED="started",t.AUCTION_IN_PROGRESS="inProgress",t.AUCTION_COMPLETED="completed",h.on(v.default.EVENTS.BID_ADJUSTMENT,(function(e){X(e)}));const _={},S={},w=[],O=(0,u.hook)("sync",(function(e,t,r){this.dispatch.call(null,e,t)}),"addBidResponse");t.addBidResponse=O;const C=(0,u.hook)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests");t.addBidderRequests=C;const R=(0,u.hook)("async",(function(e,t){t&&t()}),"bidsBackCallback");function x(e,t){let{index:r=g.auctionManager.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=0,o=!1,a=new Set,s={};const d={};function u(e,t){null==d[e]&&(d[e]=b.GreedyPromise.resolve()),d[e]=d[e].then(()=>b.GreedyPromise.resolve(t).catch(()=>{}))}function p(e,r){let n=e.timeout;(null==n||n>t.getTimeout())&&(n=t.getTimeout());const i=t.getAuctionStart()+n-Date.now(),o=d[e.bidderRequestId],a=d[""];(null!=o||null!=a)&&i>0?b.GreedyPromise.race([b.GreedyPromise.timeout(i),b.GreedyPromise.resolve(a).then(()=>o)]).then(r):r()}function m(){i--,o&&0===i&&e()}function y(e,t,r){return s[t.requestId]=!0,V(t,e),i++,r(m)}function E(e,r){y(e,r,e=>{let n=F(r);n.mediaType===f.VIDEO?D(t,n,e):(null!=n.native&&"object"==typeof n.native&&N(n),k(t,n),e())})}function I(e,r,i){return y(e,r,e=>{var o;const a=(0,A.createBid)(v.default.STATUS.NO_BID,null===(o=r.getIdentifiers)||void 0===o?void 0:o.call(r));return Object.assign(a,Object.fromEntries(Object.entries(r).filter(e=>{let[t]=e;return!a.hasOwnProperty(t)&&!["ad","adUrl","vastXml","vastUrl","native"].includes(t)}))),a.status=v.default.BID_STATUS.BID_REJECTED,a.cpm=0,r.rejectionReason=i,(0,n.logWarn)("Bid from ".concat(r.bidder||"unknown bidder"," was rejected: ").concat(i),r),h.emit(v.default.EVENTS.BID_REJECTED,r),t.addBidRejected(r),e(),a})}function T(){let r=t.getBidRequests();const d=c.config.getConfig("auctionOptions");if(a.add(this),d&&!(0,n.isEmpty)(d)){const e=d.secondaryBidders;e&&!r.every(t=>(0,l.includes)(e,t.bidderCode))&&(r=r.filter(t=>!(0,l.includes)(e,t.bidderCode)))}o=r.every(e=>a.has(e)),this.bids.forEach(e=>{s[e.bidId]||(t.addNoBid(e),h.emit(v.default.EVENTS.NO_BID,e))}),o&&0===i&&e()}return{addBidResponse:function(){function e(e,t){const n=r.getBidderRequest(t);u(n&&n.bidderRequestId||"",O.call({dispatch:E},e,t,(()=>{let r;return n=>(null==r&&(r=I(e,t,n)),r)})()))}return e.reject=I,e}(),adapterDone:function(){p(this,T.bind(this))}}}function P(e,t){t.timeToRespond>e.getTimeout()+c.config.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function k(e,t){!function(e){let t;const r=!0===m.bidderSettings.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(r||e.dealId)&&(t=Y(e.bidderCode,e)),e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),(0,E.useMetrics)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),h.emit(v.default.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),P(e,t)}function D(e,t,r){let{index:i=g.auctionManager.index}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=!0;const a=(0,n.deepAccess)(i.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),s=a&&(0,n.deepAccess)(a,"context"),d=a&&(0,n.deepAccess)(a,"useCacheKey");c.config.getConfig("cache.url")&&(d||s!==p.OUTSTREAM)&&(!t.videoCacheKey||c.config.getConfig("cache.ignoreBidderCacheKey")?(o=!1,L(e,t,r,a)):t.vastUrl||((0,n.logError)("videoCacheKey specified but not required vastUrl for video bid"),o=!1)),o&&(k(e,t),r())}t.bidsBackCallback=R;const N=e=>{var t,r;const n=null===(t=g.auctionManager.index.getAdUnit(e))||void 0===t?void 0:t.nativeOrtbRequest,i=null===(r=e.native)||void 0===r?void 0:r.ortb;if(n&&i){const t=(0,o.toLegacyResponse)(i,n);Object.assign(e.native,t)}},B=e=>{(0,a.store)(e.map(e=>e.bidResponse),(function(t,r){r.forEach((r,i)=>{const{auctionInstance:o,bidResponse:s,afterBidAdded:c}=e[i];t?((0,n.logWarn)("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")),P(o,s)):""===r.uuid?((0,n.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),P(o,s)):(s.videoCacheKey=r.uuid,s.vastUrl||(s.vastUrl=(0,a.getCacheUrl)(s.videoCacheKey)),k(o,s),c())})}))};let U,j;c.config.getConfig("cache",e=>{U="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,j="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0});const M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,r=[[]],n=!1;const i=e=>e();return function(o,a,s){const c=j>0?e:i;r[r.length-1].length>=U&&r.push([]),r[r.length-1].push({auctionInstance:o,bidResponse:a,afterBidAdded:s}),n||(n=!0,c(()=>{r.forEach(t),r=[[]],n=!1},j))}};t.batchingCache=M;const q=M(),L=(0,u.hook)("async",(function(e,t,r,n){q(e,t,r)}),"callPrebidCache");function V(e,t){let{index:r=g.auctionManager.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=r.getBidderRequest(e),o=r.getAdUnit(e),a=i&&i.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,n.timestamp)(),requestTimestamp:e.requestTimestamp||a,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==o?void 0:o.ttlBuffer)&&(e.ttlBuffer=o.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}function F(e){var t;let{index:r=g.auctionManager.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.emit(v.default.EVENTS.BID_ADJUSTMENT,e);const n=(null===(t=r.getBidRequest(e))||void 0===t?void 0:t.renderer)||r.getAdUnit(e).renderer,o=e.mediaType,a=r.getMediaTypes(e),d=a&&a[o];var u=d&&d.renderer,l=null;u&&u.url&&u.render&&(!0!==u.backupOnly||!e.renderer)?l=u:n&&n.url&&n.render&&(!0!==n.backupOnly||!e.renderer)&&(l=n),l&&(e.renderer=s.Renderer.install({url:l.url,config:l.options}),e.renderer.setRender(l.render));const p=z(e.mediaType,a,c.config.getConfig("mediaTypePriceGranularity")),f=(0,i.getPriceBucketString)(e.cpm,"object"==typeof p?p:c.config.getConfig("customPriceBucket"),c.config.getConfig("currency.granularityMultiplier"));return e.pbLg=f.low,e.pbMg=f.med,e.pbHg=f.high,e.pbAg=f.auto,e.pbDg=f.dense,e.pbCg=f.custom,e}function z(e,t,r){if(e&&r){if(e===f.VIDEO){const e=(0,n.deepAccess)(t,"".concat(f.VIDEO,".context"),"instream");if(r["".concat(f.VIDEO,"-").concat(e)])return r["".concat(f.VIDEO,"-").concat(e)]}return r[e]}}t.callPrebidCache=L;const W=function(e){let{index:t=g.auctionManager.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=z(e.mediaType,t.getMediaTypes(e),c.config.getConfig("mediaTypePriceGranularity")),n="string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":c.config.getConfig("priceGranularity");return n};t.getPriceGranularity=W;const G=e=>t=>{const r=e||W(t);return r===v.default.GRANULARITY_OPTIONS.AUTO?t.pbAg:r===v.default.GRANULARITY_OPTIONS.DENSE?t.pbDg:r===v.default.GRANULARITY_OPTIONS.LOW?t.pbLg:r===v.default.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:r===v.default.GRANULARITY_OPTIONS.HIGH?t.pbHg:r===v.default.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0};t.getPriceByGranularity=G;t.getAdvertiserDomain=()=>e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:"";function H(e,t){return{key:e,val:"function"==typeof t?function(e,r){return t(e,r)}:function(e){return(0,n.getValue)(e,t)}}}function K(e,t){const r=v.default.TARGETING_KEYS,i=Object.assign({},m.bidderSettings.settingsFor(null));if(i[v.default.JSON_MAPPING.ADSERVER_TARGETING]||(i[v.default.JSON_MAPPING.ADSERVER_TARGETING]=function(){const e=v.default.TARGETING_KEYS;return[H(e.BIDDER,"bidderCode"),H(e.AD_ID,"adId"),H(e.PRICE_BUCKET,G()),H(e.SIZE,"size"),H(e.DEAL,"dealId"),H(e.SOURCE,"source"),H(e.FORMAT,"mediaType"),H(e.ADOMAIN,e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:""),H(e.ACAT,e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:"")]}()),"video"===e){const e=i[v.default.JSON_MAPPING.ADSERVER_TARGETING].slice();if(i[v.default.JSON_MAPPING.ADSERVER_TARGETING]=e,[r.UUID,r.CACHE_ID].forEach(t=>{void 0===(0,l.find)(e,e=>e.key===t)&&e.push(H(t,"videoCacheKey"))}),c.config.getConfig("cache.url")&&(!t||!1!==m.bidderSettings.get(t,"sendStandardTargeting"))){const t=(0,n.parseUrl)(c.config.getConfig("cache.url"));void 0===(0,l.find)(e,e=>e.key===r.CACHE_HOST)&&e.push(H(r.CACHE_HOST,(function(e){return(0,n.deepAccess)(e,"adserverTargeting.".concat(r.CACHE_HOST))?e.adserverTargeting[r.CACHE_HOST]:t.hostname})))}}return i}function Y(e,t){let{index:r=g.auctionManager.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return{};const n=r.getBidRequest(t);var i={};const a=K(t.mediaType,e);return J(i,a,t,n),e&&m.bidderSettings.getOwn(e,v.default.JSON_MAPPING.ADSERVER_TARGETING)&&(J(i,m.bidderSettings.ownSettingsFor(e),t,n),t.sendStandardTargeting=m.bidderSettings.get(e,"sendStandardTargeting")),t.native&&(i=Object.assign({},i,(0,o.getNativeTargeting)(t))),i}function J(e,t,r,i){var o=t[v.default.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),(0,n._each)(o,(function(o){var a=o.key,s=o.val;if(e[a]&&(0,n.logWarn)("The key: "+a+" is being overwritten"),(0,n.isFn)(s))try{s=s(r,i)}catch(e){(0,n.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&a!==v.default.TARGETING_KEYS.DEAL||!(0,n.isEmptyStr)(s)&&null!=s?e[a]=s:(0,n.logInfo)("suppressing empty key '"+a+"' from adserver targeting")})),e}function X(e){let t=e.bidderCode,r=e.cpm;const i=m.bidderSettings.get(t||null,"bidCpmAdjustment");if(i&&"function"==typeof i)try{r=i(e.cpm,Object.assign({},e))}catch(e){(0,n.logError)("Error during bid adjustment","bidmanager.js",e)}r>=0&&(e.cpm=r)}function Q(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}t.getPrimaryCatId=()=>e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCacheUrl=function(e){return"".concat(i.config.getConfig("cache.url"),"?uuid=").concat(e)},t.store=function(e,t){const r={puts:e.map(s)};(0,n.ajax)(i.config.getConfig("cache.url"),function(e){return{success:function(t){let r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(r))),[])}}}(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})},r(35),r(24);var n=r(95),i=r(8),o=r(40);function a(e,t){let r=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function s(e){let{index:t=o.auctionManager.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.vastXml?e.vastXml:a(e.vastUrl,e.vastImpUrl),n=t.getAuction(e),s=Number(e.ttl)+15;let c={type:"xml",value:r,ttlseconds:s};return i.config.getConfig("cache.vasttrack")&&(c.bidder=e.bidder,c.bidid=e.requestId,c.aid=e.auctionId),null!=n&&(c.timestamp=n.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(c.key=e.customCacheKey),c}},function(e,t,r){"use strict";r(4),r(16),r(13),r(1),r(96),r(280),r(128),
/*
* @license MIT
* Fun Hooks v0.9.10
* (c) @snapwich
*/
c.SYNC=1,c.ASYNC=2,c.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),i=new WeakMap,o="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,o=0;if(t)r=t;else{for(;o<i&&!(o in n);)o++;r=n[o++]}for(;o<i;)o in n&&(r=e(r,n[o],o,n)),o++;return r};function a(e,t){return Array.prototype.slice.call(e,t)}var s=Object.assign||function(e){return o.call(a(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function c(e){var t,r={},d=[];function u(e,t){return"function"==typeof e?g.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?g.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),o=n[0],a=n[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=g(a,s,r?[r,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function p(e){var n=Array.isArray(e)?e:e.split(".");return o.call(n,(function(r,i,o){var a=r[i],s=!1;return a||(o===n.length-1?(t||d.push((function(){s||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),r[i]=f((function(e){r[i]=e,s=!0}))):r[i]={})}),r)}function f(e){var t=[],r=[],n=function(){},o={before:function(e,r){return c.call(this,t,"before",e,r)},after:function(e,t){return c.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{s(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},a={install:function(i,o,a){this.type=i,n=a,a(t,r),e&&e(o)}};return i.set(o.after,a),o;function c(e,i,o,a){var s={hook:o,type:i,priority:a||10,remove:function(){var i=e.indexOf(s);-1!==i&&(e.splice(i,1),n(t,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),n(t,r),this}}function g(r,n,o){var u=n.after&&i.get(n.after);if(u){if(u.type!==r)throw"fun-hooks: recreated hookable with different type";return n}var l,g,m=o?p(o):f(),h={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return t||d.push(y),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?g=new Proxy(n,h):s(g=function(){return h.apply?h.apply(n,this,a(arguments)):n.apply(this,arguments)},m),i.get(g.after).install(r,g,(function(e,t){var n,i=[];function o(e){i.push(e.hook)}e.length||t.length?(e.forEach(o),n=i.push(void 0)-1,t.forEach(o),l=function(e,t,o){var s,c=0,d="async"===r&&"function"==typeof o[o.length-1]&&o.pop();function u(e){"sync"===r?s=e:d&&d.apply(null,arguments)}function l(e){if(i[c]){var n=a(arguments);return l.bail=u,n.unshift(l),i[c++].apply(t,n)}"sync"===r?s=e:d&&d.apply(null,arguments)}return i[n]=function(){var n=a(arguments,1);"async"===r&&d&&(delete l.bail,n.push(l));var i=e.apply(t,n);"sync"===r&&l(i)},l.apply(null,o),s}):l=void 0,y()})),g;function y(){!t&&("sync"!==r||e.ready&c.SYNC)&&("async"!==r||e.ready&c.ASYNC)?"sync"!==r&&e.ready&c.QUEUE?h.apply=function(){var e=arguments;d.push((function(){g.apply(e[1],e[2])}))}:h.apply=function(){throw"fun-hooks: hooked function not ready"}:h.apply=l}}return(e=s({},n,e)).ready?u.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(d)}:t=!0,u.get=p,u}e.exports=c},function(e,t,r){var n=r(7),i=r(5),o=r(51);n({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},function(e,t,r){"use strict";var n=r(65),i=r(15),o=r(110),a=r(39),s=function(e,t,r,c,d,u,l,p){for(var f,g,m=d,h=0,y=!!l&&a(l,p);h<c;)h in r&&(f=y?y(r[h],h,t):r[h],u>0&&n(f)?(g=i(f),m=s(e,t,f,g,m,u-1)-1):(o(m+1),e[m]=f),m++),h++;return m};e.exports=s},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.getLabels=d,t.processAdUnitsForLabels=function(e,t){return e.reduce((e,r)=>{let{active:n,mediaTypes:o,filterResults:a}=u(d(r,t),r.mediaTypes,r.sizes);return n?(a&&(0,i.logInfo)('Size mapping filtered adUnit "'.concat(r.code,'" banner sizes from '),a.before,"to ",a.after),r.mediaTypes=o,r.bids=r.bids.reduce((e,n)=>{let{active:o,mediaTypes:a,filterResults:s}=u(d(n,t),r.mediaTypes);return o?(s&&((0,i.logInfo)('Size mapping filtered adUnit "'.concat(r.code,'" bidder "').concat(n.bidder,'" banner sizes from '),s.before,"to ",s.after),n.mediaTypes=a),e.push(n)):(0,i.logInfo)('Size mapping deactivated adUnit "'.concat(r.code,'" bidder "').concat(n.bidder,'"')),e},[]),e.push(r)):(0,i.logInfo)('Size mapping disabled adUnit "'.concat(r.code,'"')),e},[])},t.resolveStatus=u,t.setSizeConfig=c,t.sizeSupported=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=l(t);return!r.shouldFilter||!!r.sizesSupported[e]},r(16),r(1);var n=r(8),i=r(0),o=r(12),a=r(20);let s=[];function c(e){s=e}function d(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function u(){let{labels:e=[],labelAll:t=!1,activeLabels:r=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,u=l(d);(0,i.isPlainObject)(n)||(n=c?{banner:{sizes:c}}:{});let p=(0,i.deepAccess)(n,"banner.sizes");u.shouldFilter&&p&&(n=(0,i.deepClone)(n),n.banner.sizes=p.filter(e=>u.sizesSupported[e]));let f={active:!n.hasOwnProperty(a.BANNER)||(0,i.deepAccess)(n,"banner.sizes.length")>0&&(0===e.length||!t&&(e.some(e=>u.labels[e])||e.some(e=>(0,o.includes)(r,e)))||t&&e.reduce((e,t)=>e?u.labels[t]||(0,o.includes)(r,t):e,!0)),mediaTypes:n};return p&&p.length!==n.banner.sizes.length&&(f.filterResults={before:p,after:n.banner.sizes}),f}function l(e){return e.reduce((e,t)=>{if("object"==typeof t&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){let r=!1;try{r=(0,i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){(0,i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),r=matchMedia(t.mediaQuery).matches}r&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach(r=>(t[r]||[]).forEach(t=>e[r][t]=!0)))}else(0,i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e},{labels:{},sizesSupported:{},shouldFilter:!1})}n.config.getConfig("sizeConfig",e=>c(e.sizeConfig))},function(e,t,r){var n=r(3),i=r(61),o=r(29),a=r(188),s=n("".replace),c=RegExp("^["+a+"]+"),d=RegExp("(^|[^"+a+"])["+a+"]+$"),u=function(e){return function(t){var r=o(i(t));return 1&e&&(r=s(r,c,"")),2&e&&(r=s(r,d,"$1")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},function(e,t,r){var n=r(85).PROPER,i=r(2),o=r(188);e.exports=function(e){return i((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||n&&o[e].name!==e}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},function(e,t,r){r(287)},function(e,t,r){"use strict";r(288);var n,i=r(7),o=r(9),a=r(190),s=r(5),c=r(39),d=r(3),u=r(34),l=r(47),p=r(55),f=r(14),g=r(289),m=r(290),h=r(125),y=r(123).codeAt,v=r(292),b=r(29),E=r(51),A=r(113),I=r(191),T=r(28),_=T.set,S=T.getterFor("URL"),w=I.URLSearchParams,O=I.getState,C=s.URL,R=s.TypeError,x=s.parseInt,P=Math.floor,k=Math.pow,D=d("".charAt),N=d(/./.exec),B=d([].join),U=d(1..toString),j=d([].pop),M=d([].push),q=d("".replace),L=d([].shift),V=d("".split),F=d("".slice),z=d("".toLowerCase),W=d([].unshift),G=/[a-z]/i,H=/[\d+-.a-z]/i,K=/\d/,Y=/^0x/i,J=/^[0-7]+$/,X=/^\d+$/,Q=/^[\da-f]+$/i,$=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Z=/[\0\t\n\r #/:<>?@[\\\]^|]/,ee=/^[\u0000-\u0020]+/,te=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,re=/[\t\n\r]/g,ne=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)W(t,e%256),e=P(e/256);return B(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=U(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ie={},oe=g({},ie,{" ":1,'"':1,"<":1,">":1,"`":1}),ae=g({},oe,{"#":1,"?":1,"{":1,"}":1}),se=g({},ae,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(e,t){var r=y(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ue=function(e,t){var r;return 2==e.length&&N(G,D(e,0))&&(":"==(r=D(e,1))||!t&&"|"==r)},le=function(e){var t;return e.length>1&&ue(F(e,0,2))&&(2==e.length||"/"===(t=D(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===z(e)},fe={},ge={},me={},he={},ye={},ve={},be={},Ee={},Ae={},Ie={},Te={},_e={},Se={},we={},Oe={},Ce={},Re={},xe={},Pe={},ke={},De={},Ne=function(e,t,r){var n,i,o,a=b(e);if(t){if(i=this.parse(a))throw R(i);this.searchParams=null}else{if(void 0!==r&&(n=new Ne(r,!0)),i=this.parse(a,null,n))throw R(i);(o=O(new w)).bindURL(this),this.searchParams=o}};Ne.prototype={type:"URL",parse:function(e,t,r){var i,o,a,s,c,d=this,u=t||fe,l=0,p="",g=!1,y=!1,v=!1;for(e=b(e),t||(d.scheme="",d.username="",d.password="",d.host=null,d.port=null,d.path=[],d.query=null,d.fragment=null,d.cannotBeABaseURL=!1,e=q(e,ee,""),e=q(e,te,"$1")),e=q(e,re,""),i=m(e);l<=i.length;){switch(o=i[l],u){case fe:if(!o||!N(G,o)){if(t)return"Invalid scheme";u=me;continue}p+=z(o),u=ge;break;case ge:if(o&&(N(H,o)||"+"==o||"-"==o||"."==o))p+=z(o);else{if(":"!=o){if(t)return"Invalid scheme";p="",u=me,l=0;continue}if(t&&(d.isSpecial()!=f(de,p)||"file"==p&&(d.includesCredentials()||null!==d.port)||"file"==d.scheme&&!d.host))return;if(d.scheme=p,t)return void(d.isSpecial()&&de[d.scheme]==d.port&&(d.port=null));p="","file"==d.scheme?u=we:d.isSpecial()&&r&&r.scheme==d.scheme?u=he:d.isSpecial()?u=Ee:"/"==i[l+1]?(u=ye,l++):(d.cannotBeABaseURL=!0,M(d.path,""),u=Pe)}break;case me:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){d.scheme=r.scheme,d.path=h(r.path),d.query=r.query,d.fragment="",d.cannotBeABaseURL=!0,u=De;break}u="file"==r.scheme?we:ve;continue;case he:if("/"!=o||"/"!=i[l+1]){u=ve;continue}u=Ae,l++;break;case ye:if("/"==o){u=Ie;break}u=xe;continue;case ve:if(d.scheme=r.scheme,o==n)d.username=r.username,d.password=r.password,d.host=r.host,d.port=r.port,d.path=h(r.path),d.query=r.query;else if("/"==o||"\\"==o&&d.isSpecial())u=be;else if("?"==o)d.username=r.username,d.password=r.password,d.host=r.host,d.port=r.port,d.path=h(r.path),d.query="",u=ke;else{if("#"!=o){d.username=r.username,d.password=r.password,d.host=r.host,d.port=r.port,d.path=h(r.path),d.path.length--,u=xe;continue}d.username=r.username,d.password=r.password,d.host=r.host,d.port=r.port,d.path=h(r.path),d.query=r.query,d.fragment="",u=De}break;case be:if(!d.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){d.username=r.username,d.password=r.password,d.host=r.host,d.port=r.port,u=xe;continue}u=Ie}else u=Ae;break;case Ee:if(u=Ae,"/"!=o||"/"!=D(p,l+1))continue;l++;break;case Ae:if("/"!=o&&"\\"!=o){u=Ie;continue}break;case Ie:if("@"==o){g&&(p="%40"+p),g=!0,a=m(p);for(var E=0;E<a.length;E++){var A=a[E];if(":"!=A||v){var I=ce(A,se);v?d.password+=I:d.username+=I}else v=!0}p=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&d.isSpecial()){if(g&&""==p)return"Invalid authority";l-=m(p).length+1,p="",u=Te}else p+=o;break;case Te:case _e:if(t&&"file"==d.scheme){u=Ce;continue}if(":"!=o||y){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&d.isSpecial()){if(d.isSpecial()&&""==p)return"Invalid host";if(t&&""==p&&(d.includesCredentials()||null!==d.port))return;if(s=d.parseHost(p))return s;if(p="",u=Re,t)return;continue}"["==o?y=!0:"]"==o&&(y=!1),p+=o}else{if(""==p)return"Invalid host";if(s=d.parseHost(p))return s;if(p="",u=Se,t==_e)return}break;case Se:if(!N(K,o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&d.isSpecial()||t){if(""!=p){var T=x(p,10);if(T>65535)return"Invalid port";d.port=d.isSpecial()&&T===de[d.scheme]?null:T,p=""}if(t)return;u=Re;continue}return"Invalid port"}p+=o;break;case we:if(d.scheme="file","/"==o||"\\"==o)u=Oe;else{if(!r||"file"!=r.scheme){u=xe;continue}if(o==n)d.host=r.host,d.path=h(r.path),d.query=r.query;else if("?"==o)d.host=r.host,d.path=h(r.path),d.query="",u=ke;else{if("#"!=o){le(B(h(i,l),""))||(d.host=r.host,d.path=h(r.path),d.shortenPath()),u=xe;continue}d.host=r.host,d.path=h(r.path),d.query=r.query,d.fragment="",u=De}}break;case Oe:if("/"==o||"\\"==o){u=Ce;break}r&&"file"==r.scheme&&!le(B(h(i,l),""))&&(ue(r.path[0],!0)?M(d.path,r.path[0]):d.host=r.host),u=xe;continue;case Ce:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&ue(p))u=xe;else if(""==p){if(d.host="",t)return;u=Re}else{if(s=d.parseHost(p))return s;if("localhost"==d.host&&(d.host=""),t)return;p="",u=Re}continue}p+=o;break;case Re:if(d.isSpecial()){if(u=xe,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=n&&(u=xe,"/"!=o))continue}else d.fragment="",u=De;else d.query="",u=ke;break;case xe:if(o==n||"/"==o||"\\"==o&&d.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(c=z(c=p))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(d.shortenPath(),"/"==o||"\\"==o&&d.isSpecial()||M(d.path,"")):pe(p)?"/"==o||"\\"==o&&d.isSpecial()||M(d.path,""):("file"==d.scheme&&!d.path.length&&ue(p)&&(d.host&&(d.host=""),p=D(p,0)+":"),M(d.path,p)),p="","file"==d.scheme&&(o==n||"?"==o||"#"==o))for(;d.path.length>1&&""===d.path[0];)L(d.path);"?"==o?(d.query="",u=ke):"#"==o&&(d.fragment="",u=De)}else p+=ce(o,ae);break;case Pe:"?"==o?(d.query="",u=ke):"#"==o?(d.fragment="",u=De):o!=n&&(d.path[0]+=ce(o,ie));break;case ke:t||"#"!=o?o!=n&&("'"==o&&d.isSpecial()?d.query+="%27":d.query+="#"==o?"%23":ce(o,ie)):(d.fragment="",u=De);break;case De:o!=n&&(d.fragment+=ce(o,oe))}l++}},parseHost:function(e){var t,r,n;if("["==D(e,0)){if("]"!=D(e,e.length-1))return"Invalid host";if(!(t=function(e){var t,r,n,i,o,a,s,c=[0,0,0,0,0,0,0,0],d=0,u=null,l=0,p=function(){return D(e,l)};if(":"==p()){if(":"!=D(e,1))return;l+=2,u=++d}for(;p();){if(8==d)return;if(":"!=p()){for(t=r=0;r<4&&N(Q,p());)t=16*t+x(p(),16),l++,r++;if("."==p()){if(0==r)return;if(l-=r,d>6)return;for(n=0;p();){if(i=null,n>0){if(!("."==p()&&n<4))return;l++}if(!N(K,p()))return;for(;N(K,p());){if(o=x(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;l++}c[d]=256*c[d]+i,2!=++n&&4!=n||d++}if(4!=n)return;break}if(":"==p()){if(l++,!p())return}else if(p())return;c[d++]=t}else{if(null!==u)return;l++,u=++d}}if(null!==u)for(a=d-u,d=7;0!=d&&a>0;)s=c[d],c[d--]=c[u+a-1],c[u+--a]=s;else if(8!=d)return;return c}(F(e,1,-1))))return"Invalid host";this.host=t}else if(this.isSpecial()){if(e=v(e),N($,e))return"Invalid host";if(null===(t=function(e){var t,r,n,i,o,a,s,c=V(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=c[n]))return e;if(o=10,i.length>1&&"0"==D(i,0)&&(o=N(Y,i)?16:8,i=F(i,8==o?1:2)),""===i)a=0;else{if(!N(10==o?X:8==o?J:Q,i))return e;a=x(i,o)}M(r,a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=k(256,5-t))return null}else if(a>255)return null;for(s=j(r),n=0;n<r.length;n++)s+=r[n]*k(256,3-n);return s}(e)))return"Invalid host";this.host=t}else{if(N(Z,e))return"Invalid host";for(t="",r=m(e),n=0;n<r.length;n++)t+=ce(r[n],ie);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&ue(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,d=t+":";return null!==i?(d+="//",e.includesCredentials()&&(d+=r+(n?":"+n:"")+"@"),d+=ne(i),null!==o&&(d+=":"+o)):"file"==t&&(d+="//"),d+=e.cannotBeABaseURL?a[0]:a.length?"/"+B(a,"/"):"",null!==s&&(d+="?"+s),null!==c&&(d+="#"+c),d},setHref:function(e){var t=this.parse(e);if(t)throw R(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Be(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ne(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",fe)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ce(t[r],se)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=ce(t[r],se)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ne(e):ne(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getHostname:function(){var e=this.host;return null===e?"":ne(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,_e)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Se))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+B(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==D(e,0)&&(e=F(e,1)),this.query="",this.parse(e,ke)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==D(e,0)&&(e=F(e,1)),this.fragment="",this.parse(e,De)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=p(this,Ue),r=A(arguments.length,1)>1?arguments[1]:void 0,n=_(t,new Ne(e,!1,r));o||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Ue=Be.prototype,je=function(e,t){return{get:function(){return S(this)[e]()},set:t&&function(e){return S(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(l(Ue,"href",je("serialize","setHref")),l(Ue,"origin",je("getOrigin")),l(Ue,"protocol",je("getProtocol","setProtocol")),l(Ue,"username",je("getUsername","setUsername")),l(Ue,"password",je("getPassword","setPassword")),l(Ue,"host",je("getHost","setHost")),l(Ue,"hostname",je("getHostname","setHostname")),l(Ue,"port",je("getPort","setPort")),l(Ue,"pathname",je("getPathname","setPathname")),l(Ue,"search",je("getSearch","setSearch")),l(Ue,"searchParams",je("getSearchParams")),l(Ue,"hash",je("getHash","setHash"))),u(Ue,"toJSON",(function(){return S(this).serialize()}),{enumerable:!0}),u(Ue,"toString",(function(){return S(this).serialize()}),{enumerable:!0}),C){var Me=C.createObjectURL,qe=C.revokeObjectURL;Me&&u(Be,"createObjectURL",c(Me,C)),qe&&u(Be,"revokeObjectURL",c(qe,C))}E(Be,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Be})},function(e,t,r){"use strict";var n=r(123).charAt,i=r(29),o=r(28),a=r(159),s=r(162),c=o.set,d=o.getterFor("String Iterator");a(String,"String",(function(e){c(this,{type:"String Iterator",string:i(e),index:0})}),(function(){var e,t=d(this),r=t.string,i=t.index;return i>=r.length?s(void 0,!0):(e=n(r,i),t.index+=e.length,s(e,!1))}))},function(e,t,r){"use strict";var n=r(9),i=r(3),o=r(10),a=r(2),s=r(158),c=r(140),d=r(131),u=r(21),l=r(60),p=Object.assign,f=Object.defineProperty,g=i([].concat);e.exports=!p||a((function(){if(n&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=p({},e)[r]||"abcdefghijklmnopqrst"!=s(p({},t)).join("")}))?function(e,t){for(var r=u(e),i=arguments.length,a=1,p=c.f,f=d.f;i>a;)for(var m,h=l(arguments[a++]),y=p?g(s(h),p(h)):s(h),v=y.length,b=0;v>b;)m=y[b++],n&&!o(f,h,m)||(r[m]=h[m]);return r}:p},function(e,t,r){"use strict";var n=r(39),i=r(10),o=r(21),a=r(291),s=r(116),c=r(112),d=r(15),u=r(120),l=r(91),p=r(70),f=Array;e.exports=function(e){var t=o(e),r=c(this),g=arguments.length,m=g>1?arguments[1]:void 0,h=void 0!==m;h&&(m=n(m,g>2?arguments[2]:void 0));var y,v,b,E,A,I,T=p(t),_=0;if(!T||this===f&&s(T))for(y=d(t),v=r?new this(y):f(y);y>_;_++)I=h?m(t[_],_):t[_],u(v,_,I);else for(A=(E=l(t,T)).next,v=r?new this:[];!(b=i(A,E)).done;_++)I=h?a(E,m,[b.value,_],!0):b.value,u(v,_,I);return v.length=_,v}},function(e,t,r){var n=r(19),i=r(153);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},function(e,t,r){var n=r(3),i=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",s=RangeError,c=n(o.exec),d=Math.floor,u=String.fromCharCode,l=n("".charCodeAt),p=n([].join),f=n([].push),g=n("".replace),m=n("".split),h=n("".toLowerCase),y=function(e){return e+22+75*(e<26)},v=function(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;)e=d(e/35),n+=36;return d(n+36*e/(e+38))},b=function(e){var t,r,n=[],i=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=l(e,r++);if(i>=55296&&i<=56319&&r<n){var o=l(e,r++);56320==(64512&o)?f(t,((1023&i)<<10)+(1023&o)+65536):(f(t,i),r--)}else f(t,i)}return t}(e)).length,o=128,c=0,g=72;for(t=0;t<e.length;t++)(r=e[t])<128&&f(n,u(r));var m=n.length,h=m;for(m&&f(n,"-");h<i;){var b=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=o&&r<b&&(b=r);var E=h+1;if(b-o>d((2147483647-c)/E))throw s(a);for(c+=(b-o)*E,o=b,t=0;t<e.length;t++){if((r=e[t])<o&&++c>2147483647)throw s(a);if(r==o){for(var A=c,I=36;;){var T=I<=g?1:I>=g+26?26:I-g;if(A<T)break;var _=A-T,S=36-T;f(n,u(y(T+_%S))),A=d(_/S),I+=36}f(n,u(y(A))),g=v(c,E,h==m),c=0,h++}}c++,o++}return p(n,"")};e.exports=function(e){var t,r,n=[],a=m(g(h(e),o,"."),".");for(t=0;t<a.length;t++)r=a[t],f(n,c(i,r)?"xn--"+b(r):r);return p(n,".")}},function(e,t,r){r(191)},function(e,t,r){"use strict";var n=r(7),i=r(3),o=r(65),a=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuctionIndex=function(e){Object.assign(this,{getAuction(t){let{auctionId:r}=t;if(null!=r)return e().find(e=>e.getAuctionId()===r)},getAdUnit(t){let{transactionId:r}=t;if(null!=r)return e().flatMap(e=>e.getAdUnits()).find(e=>e.transactionId===r)},getMediaTypes(e){let{transactionId:t,requestId:r}=e;if(null!=r){const e=this.getBidRequest({requestId:r});if(null!=e&&(null==t||e.transactionId===t))return e.mediaTypes}else if(null!=t){const e=this.getAdUnit({transactionId:t});if(null!=e)return e.mediaTypes}},getBidderRequest(t){let{requestId:r,bidderRequestId:n}=t;if(null!=r||null!=n){let t=e().flatMap(e=>e.getBidRequests());return null!=n&&(t=t.filter(e=>e.bidderRequestId===n)),null==r?t[0]:t.find(e=>e.bids&&null!=e.bids.find(e=>e.bidId===r))}},getBidRequest(t){let{requestId:r}=t;if(null!=r)return e().flatMap(e=>e.getBidRequests()).flatMap(e=>e.bids).find(e=>e&&e.bidId===r)}})},r(186),r(187)},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.getHighestCpmBidsFromBidPool=t.filters=t.TARGETING_KEYS=void 0,t.isBidUsable=v,t.newTargeting=A,t.sortByDealAndPriceBucketOrCpm=E,t.targeting=void 0,r(1),r(16),r(96),r(4),r(35),r(13),r(97);var n,i=r(0),o=r(8),a=r(36),s=r(40),c=r(20),d=r(44),u=r(58),l=r(12),p=(n=r(25))&&n.__esModule?n:{default:n},f=[];let g=1;o.config.getConfig("ttlBuffer",e=>{"number"==typeof e.ttlBuffer?g=e.ttlBuffer:(0,i.logError)("Invalid value for ttlBuffer",e.ttlBuffer)});const m='Only one of "'.concat("targetingControls.allowTargetingKeys",'" or "').concat("targetingControls.addTargetingKeys",'" can be set'),h=Object.keys(p.default.TARGETING_KEYS).map(e=>p.default.TARGETING_KEYS[e]);t.TARGETING_KEYS=h;let y={isActualBid:e=>e.getStatusCode()===p.default.STATUS.GOOD,isBidNotExpired:e=>e.responseTimestamp+1e3*(e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:g))>(0,i.timestamp)(),isUnusedBid:e=>e&&(e.status&&!(0,l.includes)([p.default.BID_STATUS.RENDERED],e.status)||!e.status)};function v(e){return!Object.values(y).some(t=>!t(e))}t.filters=y;const b=(0,d.hook)("sync",(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!n){const n=[],a=o.config.getConfig("sendBidsControl.dealPrioritization");let s=(0,i.groupBy)(e,"adUnitCode");return Object.keys(s).forEach(e=>{let o=[],c=(0,i.groupBy)(s[e],"bidderCode");Object.keys(c).forEach(e=>o.push(c[e].reduce(t))),r>0?(o=a?o.sort(E(!0)):o.sort((e,t)=>t.cpm-e.cpm),n.push(...o.slice(0,r))):n.push(...o)}),n}return e}));function E(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}function A(e){let t={},r={};function n(e,t){return e.adserverTargeting&&t&&((0,i.isArray)(t)&&(0,l.includes)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function s(e,t){if(!0===o.config.getConfig("targetingControls.alwaysIncludeDeals")){const r=h.concat(a.NATIVE_TARGETING_KEYS);return b(t,i.getHighestCpm).map(t=>{if(t.dealId&&n(t,e))return{[t.adUnitCode]:x(t,r.filter(e=>void 0!==t.adserverTargeting[e]))}}).filter(e=>e)}return[]}function d(e,t){const r=Object.assign({},p.default.TARGETING_KEYS,p.default.NATIVE_KEYS),n=Object.keys(r),o={};(0,i.logInfo)("allowTargetingKeys - allowed keys [ ".concat(t.map(e=>r[e]).join(", ")," ]")),e.map(e=>{const i=Object.keys(e)[0],a=e[i].filter(e=>{const i=Object.keys(e)[0],a=0===n.filter(e=>0===i.indexOf(r[e])).length||(0,l.find)(t,e=>{const t=r[e];return 0===i.indexOf(t)});return o[i]=!a,a});e[i]=a});const a=Object.keys(o).filter(e=>o[e]);return(0,i.logInfo)("allowTargetingKeys - removed keys [ ".concat(a.join(", ")," ]")),e.filter(e=>e[Object.keys(e)[0]].length>0)}function g(e,t){let r=(0,i.deepClone)(e);return Object.keys(r).map(e=>({adUnitCode:e,adserverTargeting:r[e]})).sort(E()).reduce((function(e,n,o,a){let s=(c=n.adserverTargeting,Object.keys(c).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(c[t]),"%26")}),""));var c;o+1===a.length&&(s=s.slice(0,-3));let d=n.adUnitCode,u=s.length;return u<=t?(t-=u,(0,i.logInfo)("AdUnit '".concat(d,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(t),r[d]),e[d]=r[d]):(0,i.logWarn)("The following keys for adUnitCode '".concat(d,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(t,".\n"),r[d]),o+1===a.length&&0===Object.keys(e).length&&(0,i.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function y(e){return e.map(e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map(e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(",")})).reduce((e,t)=>Object.assign(t,e),{})})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=Object.assign({},e[r],t[r]),e}),{})}function A(t){return"string"==typeof t?[t]:(0,i.isArray)(t)?t:e.getAdUnitCodes()||[]}function I(){let t=e.getBidsReceived();if(o.config.getConfig("useBidCache")){const e=o.config.getConfig("bidCacheFilterFunction");"function"==typeof e&&(t=t.filter(t=>r[t.adUnitCode]===t.auctionId||!!e(t)))}else t=t.filter(e=>r[e.adUnitCode]===e.auctionId);return t=t.filter(e=>(0,i.deepAccess)(e,"video.context")!==c.ADPOD).filter(v),b(t,i.getOldestHighestCpmBid)}function T(e,r){let n=t.getWinningBids(e,r),i=_();return n=n.map(e=>({[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(t=>void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)).reduce((t,r)=>{const n=[e.adserverTargeting[r]],i={[r.substring(0,20)]:n};if(r===p.default.TARGETING_KEYS.DEAL){const o={["".concat(r,"_").concat(e.bidderCode).substring(0,20)]:n};return[...t,i,o]}return[...t,i]},[])})),n}function _(){return e.getStandardBidderAdServerTargeting().map(e=>e.key).concat(h).filter(i.uniques)}function S(e,t,r,n){return Object.keys(t.adserverTargeting).filter(w()).forEach(r=>{e.length&&e.filter(function(e){return function(r){return r.adUnitCode===t.adUnitCode&&r.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){(0,i.isArray)(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(i.uniques),delete t.adserverTargeting[e]}}(r))}),e.push(t),e}function w(){let e=_();return e=e.concat(a.NATIVE_TARGETING_KEYS),function(t){return-1===e.indexOf(t)}}function O(e){return{[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(w()).map(t=>({[t.substring(0,20)]:[e.adserverTargeting[t]]}))}}function C(e,t){return t.filter(t=>(0,l.includes)(e,t.adUnitCode)).map(e=>Object.assign({},e)).reduce(S,[]).map(O).filter(e=>e)}function R(e,t){const r=h.concat(a.NATIVE_TARGETING_KEYS),s=o.config.getConfig("sendBidsControl.bidLimit"),c=b(t,i.getHighestCpm,s),d=o.config.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),u=d?d.map(e=>p.default.TARGETING_KEYS[e]):r;return c.map(t=>{if(n(t,e))return{[t.adUnitCode]:x(t,r.filter(e=>void 0!==t.adserverTargeting[e]&&-1!==u.indexOf(e)))}}).filter(e=>e)}function x(e,t){return t.map(t=>({["".concat(t,"_").concat(e.bidderCode).substring(0,20)]:[e.adserverTargeting[t]]}))}function P(t){function r(e){return(0,i.deepAccess)(e,p.default.JSON_MAPPING.ADSERVER_TARGETING)}function n(e){const t=r(e);return Object.keys(t).map((function(e){return(0,i.isStr)(t[e])&&(t[e]=t[e].split(",").map(e=>e.trim())),(0,i.isArray)(t[e])||(t[e]=[t[e]]),{[e]:t[e]}}))}return e.getAdUnits().filter(e=>(0,l.includes)(t,e.code)&&r(e)).map(e=>({[e.code]:n(e)}))}return t.setLatestAuctionForAdUnit=function(e,t){r[e]=t},t.resetPresetTargeting=function(t,r){if((0,i.isGptPubadsDefined)()){const n=A(t),o=e.getAdUnits().filter(e=>(0,l.includes)(n,e.code));let a=f.reduce((e,t)=>(e[t]=null,e),{});window.googletag.pubads().getSlots().forEach(e=>{let t=(0,i.isFn)(r)&&r(e);o.forEach(r=>{(r.code===e.getAdUnitPath()||r.code===e.getSlotElementId()||(0,i.isFn)(t)&&t(r.code))&&e.updateTargetingFromMap(a)})})}},t.resetPresetTargetingAST=function(e){A(e).forEach((function(e){const t=window.apntag.getTag(e);if(t&&t.keywords){const r=Object.keys(t.keywords),n={};r.forEach(e=>{(0,l.includes)(f,e.toLowerCase())||(n[e]=t.keywords[e])}),window.apntag.modifyTag(e,{keywords:n})}}))},t.getAllTargeting=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I();const r=A(e);var n=T(r,t).concat(C(r,t)).concat(o.config.getConfig("enableSendAllBids")?R(r,t):s(r,t)).concat(P(r));n.map(e=>{Object.keys(e).map(t=>{e[t].map(e=>{-1===f.indexOf(Object.keys(e)[0])&&(f=Object.keys(e).concat(f))})})});const a=Object.keys(Object.assign({},p.default.DEFAULT_TARGETING_KEYS,p.default.NATIVE_KEYS));let c=o.config.getConfig("targetingControls.allowTargetingKeys");const u=o.config.getConfig("targetingControls.addTargetingKeys");if(null!=u&&null!=c)throw new Error(m);c=null!=u?a.concat(u):c||a,Array.isArray(c)&&c.length>0&&(n=d(n,c)),n=y(n);const l=o.config.getConfig("targetingControls.auctionKeyMaxChars");return l&&((0,i.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(l," characters.  Running checks on auction keys...")),n=g(n,l)),r.forEach(e=>{n[e]||(n[e]={})}),n},o.config.getConfig("targetingControls",(function(e){null!=(0,i.deepAccess)(e,"targetingControls.allowTargetingKeys")&&null!=(0,i.deepAccess)(e,"targetingControls.addTargetingKeys")&&(0,i.logError)(m)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach(r=>{Object.keys(e).filter(t?t(r):(0,i.isAdUnitCodeMatchingSlot)(r)).forEach(t=>{Object.keys(e[t]).forEach(r=>{let n=e[t][r];"string"==typeof n&&-1!==n.indexOf(",")&&(n=n.split(",")),e[t][r]=n}),(0,i.logMessage)("Attempting to set targeting-map for slot: ".concat(r.getSlotElementId()," with targeting-map:"),e[t]),r.updateTargetingFromMap(e[t])})})},t.getWinningBids=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I();const r=A(e);return t.filter(e=>(0,l.includes)(r,e.adUnitCode)).filter(e=>!0===u.bidderSettings.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0).map(e=>e.adUnitCode).filter(i.uniques).map(e=>t.filter(t=>t.adUnitCode===e?t:null).reduce(i.getHighestCpm))},t.setTargetingForAst=function(e){let r=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,i.logError)("unable to reset targeting for AST"+e)}Object.keys(r).forEach(e=>Object.keys(r[e]).forEach(t=>{if((0,i.logMessage)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(r[e][t])),(0,i.isStr)(r[e][t])||(0,i.isArray)(r[e][t])){let n={},i=/pt[0-9]/;t.search(i)<0?n[t.toUpperCase()]=r[e][t]:n[t]=r[e][t],window.apntag.setKeywords(e,n,{overrideKeyValue:!0})}}))},t.isApntagDefined=function(){if(window.apntag&&(0,i.isFn)(window.apntag.setKeywords))return!0},t}t.getHighestCpmBidsFromBidPool=b;const I=A(s.auctionManager);t.targeting=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEBUG_KEY=void 0,t.debuggingControls=g,t.debuggingModuleLoader=f,t.loadSession=function(){let e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){let t=m,r=null;try{r=e.getItem(u)}catch(e){}null!==r&&t.enable()}},t.reset=void 0,r(17);var n=r(8),i=r(44),o=r(73),a=r(0),s=r(98),c=r(129),d=r(48);const u="__pbjs_debugging__";function l(){return(0,o.getGlobal)().installedModules.includes("debugging")}function p(e){return new d.GreedyPromise(t=>{(0,c.loadExternalScript)(e,"debugging",t)})}function f(){let{alreadyInstalled:e=l,script:t=p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null;return function(){return null==r&&(r=new d.GreedyPromise((r,c)=>{setTimeout(()=>{if(e())r();else{const e="https://cdn.jsdelivr.net/npm/prebid.js@7.33.0/dist/debugging-standalone.js";(0,a.logMessage)('Debugging module not installed, loading it from "'.concat(e,'"...')),(0,o.getGlobal)()._installDebugging=!0,t(e).then(()=>{(0,o.getGlobal)()._installDebugging({DEBUG_KEY:u,hook:i.hook,config:n.config,createBid:s.createBid,logger:(0,a.prefixLog)("DEBUG:")})}).then(r,c)}})})),r}}function g(){let{load:e=f(),hook:t=(0,i.getHook)("requestBids")}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null,n=!1;function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(r||d.GreedyPromise.resolve()).then(()=>e.apply(this,n))}function a(){n||(r=e(),t.before(o,99),n=!0)}function s(){t.getHooks({hook:o}).remove(),n=!1}function c(){r=null,s()}return{enable:a,disable:s,reset:c}}t.DEBUG_KEY=u;const m=g(),h=m.reset;t.reset=h,n.config.getConfig("debugging",(function(e){let{debugging:t}=e;null!=t&&t.enabled?m.enable():m.disable()}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findRootDomain=t.coreStorage=void 0;var n=r(0);const i=(0,r(52).getCoreStorageManager)();t.coreStorage=i;const o=(0,n.memoize)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!i.cookiesAreEnabled())return e;const t=e.split(".");if(2===t.length)return e;let r,o,a=-2;const s="_rdc".concat(Date.now()),c="writeable";do{r=t.slice(a).join(".");let e=new Date((0,n.timestamp)()+1e4).toUTCString();i.setCookie(s,c,e,"Lax",r,void 0),i.getCookie(s,void 0)===c?(o=!1,i.setCookie(s,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,r,void 0)):(a+=-1,o=Math.abs(a)<=t.length)}while(o);return r}));t.findRootDomain=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLowEntropySUA=t.getHighEntropySUA=t.SUA_SOURCE_UNKNOWN=t.SUA_SOURCE_UA_HEADER=t.SUA_SOURCE_LOW_ENTROPY=t.SUA_SOURCE_HIGH_ENTROPY=t.HIGH_ENTROPY_HINTS=void 0,t.highEntropySUAAccessor=d,t.lowEntropySUAAccessor=c,t.uaDataToSUA=u,r(4),r(96);var n=r(0),i=r(48);t.SUA_SOURCE_UNKNOWN=0,t.SUA_SOURCE_LOW_ENTROPY=1,t.SUA_SOURCE_HIGH_ENTROPY=2,t.SUA_SOURCE_UA_HEADER=3;const o=["architecture","bitness","model","platformVersion","fullVersionList"];t.HIGH_ENTROPY_HINTS=o;const a=c();t.getLowEntropySUA=a;const s=d();function c(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData;const r=(0,n.isEmpty)(t)?null:Object.freeze(u(1,t));return function(){return r}}function d(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData;const r={},a=new WeakMap;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!a.has(e)){const t=Array.from(e);t.sort(),a.set(e,t.join("|"))}const s=a.get(e);if(!r.hasOwnProperty(s))try{r[s]=t.getHighEntropyValues(e).then(e=>(0,n.isEmpty)(e)?null:Object.freeze(u(2,e))).catch(()=>null)}catch(e){r[s]=i.GreedyPromise.resolve(null)}return r[s]}}function u(e,t){function r(e,t){const r={brand:e};return(0,n.isStr)(t)&&!(0,n.isEmptyStr)(t)&&(r.version=t.split(".")),r}const i={source:e};return t.platform&&(i.platform=r(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(i.browsers=(t.fullVersionList||t.brands).map(e=>{let{brand:t,version:n}=e;return r(t,n)})),t.hasOwnProperty("mobile")&&(i.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach(e=>{const r=t[e];(0,n.isStr)(r)&&(i[e]=r)}),i}t.getHighEntropySUA=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.concat([])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=class{constructor(e){this.map={},this.codes=e,e.forEach(e=>{this.map[e]=1})}setStatusFinished(e){this.map[e]=2}didAdapterFinished(e){return 2===this.map[e]}didAllAdaptersFinished(){for(let e=0;e<this.codes.length;e++){const t=this.codes[e];if(2!==this.map[t])return!1}return!0}}},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["APN","APN_BM"],"appnexusAst")},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(1),r(4),r(24),r(13),r(30);var n=r(0),i=r(43),o=r(8),a=r(32),s=r(20),c=r(40),d=r(12),u=r(130),l=r(52),p=r(58),f=r(194),g=r(36);const m=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],h=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],y=["age","externalUid","segments","gender","dnt","language"],v=["geo","device_id"],b=["enabled","dongle","member_id","debug_timeout"],E={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},A={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},I={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},T=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,_=(0,l.getStorageManager)({gvlid:32,bidderCode:"appnexus"}),S={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[s.BANNER,s.VIDEO,s.NATIVE],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r,i;const a=(e=(0,g.convertOrtbRequestToProprietaryNative)(e)).map(C),s=(0,d.find)(e,x);let c={};!0===o.config.getConfig("coppa")&&(c={coppa:!0}),s&&Object.keys(s.params.user).filter(e=>(0,d.includes)(y,e)).forEach(e=>{let t=(0,n.convertCamelToUnderscore)(e);if("segments"===e&&(0,n.isArray)(s.params.user[e])){let r=[];s.params.user[e].forEach(e=>{(0,n.isNumber)(e)?r.push({id:e}):(0,n.isPlainObject)(e)&&r.push(e)}),c[t]=r}else"segments"!==e&&(c[t]=s.params.user[e])});const u=(0,d.find)(e,k);let l;u&&u.params&&u.params.app&&(l={},Object.keys(u.params.app).filter(e=>(0,d.includes)(v,e)).forEach(e=>l[e]=u.params.app[e]));const p=(0,d.find)(e,D);let m;p&&p.params&&u.params.app&&u.params.app.id&&(m={appid:p.params.app.id});let h={},A={};const I=_.getCookie("apn_prebid_debug")||null;if(I)try{h=JSON.parse(I)}catch(e){(0,n.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(E).forEach(e=>{let t=(0,n.getParameterByName)(e);(0,n.isStr)(t)&&""!==t&&(h[E[e]]=t,h.enabled=!0)}),h=(0,n.convertTypes)({member_id:"number",debug_timeout:"number"},h);const t=(0,d.find)(e,N);t&&t.debug&&(h=t.debug)}h&&h.enabled&&Object.keys(h).filter(e=>(0,d.includes)(b,e)).forEach(e=>{A[e]=h[e]});const T=(0,d.find)(e,P),S=T?parseInt(T.params.member,10):0,w=e[0].schain,R=(0,d.find)(e,U),M={tags:[...a],user:c,sdk:{source:"pbjs",version:"7.33.0"},schain:w};R&&(M.iab_support={omidpn:"Appnexus",omidpv:"7.33.0"}),S>0&&(M.member_id=S),u&&(M.device=l),p&&(M.app=m);let q=function(e){let t=[];return["site.keywords","site.content.keywords","user.keywords","app.keywords","app.content.keywords"].forEach(r=>{let i=(0,n.deepAccess)(e,r);(0,n.isStr)(i)&&t.push(i)}),t}((0,n.deepClone)(t&&t.ortb2)).map(e=>F(e)),V=(0,n.deepClone)(o.config.getConfig("appnexusAuctionKeywords"))||{};Object.keys(V).forEach(e=>{((0,n.isStr)(V[e])||(0,n.isNumber)(V[e]))&&(V[e]=[V[e]])});let z=(0,n.mergeDeep)({},V,...q),W=(0,n.transformBidderParamKeywords)(z);if(W.length>0&&(W.forEach(O),M.keywords=W),o.config.getConfig("adpod.brandCategoryExclusion")&&(M.brand_category_uniqueness=!0),A.enabled&&(M.debug=A,(0,n.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(A,null,4))),t&&t.gdprConsent&&(M.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){let e=t.gdprConsent.addtlConsent,r=e.substring(e.indexOf("~")+1);M.gdpr_consent.addtl_consent=r.split(".").map(e=>parseInt(e,10))}if(t&&t.uspConsent&&(M.us_privacy=t.uspConsent),null!=t&&t.gppConsent?M.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!==(r=t.ortb2)&&void 0!==r&&null!==(i=r.regs)&&void 0!==i&&i.gpp&&(M.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){let e={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(e=>encodeURIComponent(e)).join(",")},r=t.refererInfo.canonicalUrl;(0,n.isStr)(r)&&""!==r&&(e.rd_can=r),M.referrer_detection=e}if((0,d.find)(e,B)&&e.filter(B).forEach(e=>{const t=function(e,t){const{durationRangeSec:r,requireExactDuration:i}=t.mediaTypes.video,o=function(e){const{adPodDurationSec:t,durationRangeSec:r,requireExactDuration:i}=e,o=(0,n.getMinValueFromArray)(r),a=Math.floor(t/o);return i?Math.max(a,r.length):a}(t.mediaTypes.video),a=(0,n.getMaxValueFromArray)(r),s=e.filter(e=>e.uuid===t.bidId);let c=(0,n.fill)(...s,o);if(i){const e=Math.ceil(o/r.length),t=(0,n.chunk)(c,e);r.forEach((e,r)=>{t[r].map(t=>{j(t,"minduration",e),j(t,"maxduration",e)})})}else c.map(e=>j(e,"maxduration",a));return c}(a,e),r=M.tags.filter(t=>t.uuid!==e.bidId);M.tags=[...r,...t]}),e[0].userId){let t=[];L(t,(0,n.deepAccess)(e[0],"userId.criteoId"),"criteo.com",null),L(t,(0,n.deepAccess)(e[0],"userId.netId"),"netid.de",null),L(t,(0,n.deepAccess)(e[0],"userId.idl_env"),"liveramp.com",null),L(t,(0,n.deepAccess)(e[0],"userId.tdid"),"adserver.org","TDID"),L(t,(0,n.deepAccess)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),e[0].userId.pubProvidedId&&e[0].userId.pubProvidedId.forEach(e=>{e.uids.forEach(r=>{t.push({source:e.source,id:r.id})})}),t.length&&(M.eids=t)}return a[0].publisher_id&&(M.publisher_id=a[0].publisher_id),function(e,t){let r=[],i={withCredentials:!0},a="https://ib.adnxs.com/ut/v3/prebid";if((0,f.hasPurpose1Consent)(null==t?void 0:t.gdprConsent)||(a="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,n.getParameterByName)("apn_test").toUpperCase()&&!0!==o.config.getConfig("apn_test")||(i.customHeaders={"X-Is-Test":1}),e.tags.length>15){const o=(0,n.deepClone)(e);(0,n.chunk)(e.tags,15).forEach(e=>{o.tags=e;const n=JSON.stringify(o);r.push({method:"POST",url:a,data:n,bidderRequest:t,options:i})})}else{const n=JSON.stringify(e);r={method:"POST",url:a,data:n,bidderRequest:t,options:i}}return r}(M,t)},interpretResponse:function(e,t){let{bidderRequest:r}=t;e=e.body;const o=[];if(!e||e.error){let t="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(t+=": ".concat(e.error)),(0,n.logError)(t),o}if(e.tags&&e.tags.forEach(e=>{const t=(c=e)&&c.ads&&c.ads.length&&(0,d.find)(c.ads,e=>e.rtb);var c;if(t&&(!0===p.bidderSettings.get(r.bidderCode,"allowZeroCpmBids")?t.cpm>=0:t.cpm>0)&&(0,d.includes)(this.supportedMediaTypes,t.ad_type)){const c=function(e,t,r){const o=(0,n.getBidRequest)(e.uuid,[r]),c=(0,n.getUniqueIdentifierStr)(),l={adId:c,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:o.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(l.meta=Object.assign({},l.meta,{advertiserDomains:[t.adomain]})),t.advertiser_id&&(l.meta=Object.assign({},l.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(l.meta=Object.assign({},l.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(l.meta=Object.assign({},l.meta,{brandId:t.brand_id})),t.rtb.video)switch(Object.assign(l,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,n.deepAccess)(o,"mediaTypes.video.context")){case s.ADPOD:const c=(0,a.getIabSubCategory)(o.bidder,t.brand_category_id);l.meta=Object.assign({},l.meta,{primaryCatId:c});const p=t.deal_priority;l.video={context:s.ADPOD,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:p},l.vastUrl=t.rtb.video.asset_url;break;case u.OUTSTREAM:if(l.adResponse=e,l.adResponse.ad=l.adResponse.ads[0],l.adResponse.ad.video=l.adResponse.ad.rtb.video,l.vastXml=t.rtb.video.content,t.renderer_url){const o=(0,d.find)(r.bids,t=>t.bidId===e.uuid);let a=(0,n.deepAccess)(o,"mediaTypes.video.renderer.options");a||(a=(0,n.deepAccess)(o,"renderer.options")),l.renderer=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=i.Renderer.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{o.setRender(M)}catch(e){(0,n.logWarn)("Prebid Error calling setRender on renderer",e)}return o.setEventHandlers({impression:()=>(0,n.logMessage)("AppNexus outstream video impression event"),loaded:()=>(0,n.logMessage)("AppNexus outstream video loaded event"),ended:()=>{(0,n.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),o}(l.adUnitCode,t,a)}break;case u.INSTREAM:l.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[s.NATIVE]){const e=t.rtb[s.NATIVE];let r;if(function(e){if(!e||""===e)return!1;let t=e.match(T),r=null!=t&&t.length>=1,n=e.match("trk.js"),i=null!=n&&n.length>=1;return e.startsWith("<script")&&i&&r}(t.viewability.config)){let e="pbjs_adid="+c+";pbjs_auc="+o.adUnitCode;r=t.viewability.config.replace("dom_id=%native_dom_id%",e)}let i=e.javascript_trackers;null==i?i=r:(0,n.isStr)(i)?i=[i,r]:i.push(r),l[s.NATIVE]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,video:e.video,javascriptTrackers:i},e.main_img&&(l.native.image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(l.native.icon={url:e.icon.url,height:e.icon.height,width:e.icon.width})}else{Object.assign(l,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(let e=0;e<t.rtb.trackers[0].impression_urls.length;e++){const r=t.rtb.trackers[0].impression_urls[e],i=(0,n.createTrackPixelHtml)(r);l.ad+=i}}catch(e){(0,n.logError)("Error appending tracking pixel",e)}}return l}(e,t,r);c.mediaType=function(e){const t=e.ad_type;return t===s.VIDEO?s.VIDEO:t===s.NATIVE?s.NATIVE:s.BANNER}(t),o.push(c)}}),e.debug&&e.debug.debug_info){let t="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;t=t.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,n.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,n.logMessage)(t)}return o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,r,n,i){if(e.iframeEnabled&&(0,f.hasPurpose1Consent)(r)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every(e=>"number"==typeof e&&e<=5)}(i))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,r,i){let a=n.transformBidderParamKeywords;if(!0===t){let e=null,t=o.config.getConfig("s2sConfig");(0,n.isPlainObject)(t)?e=(0,n.deepAccess)(t,"endpoint.p1Consent"):(0,n.isArray)(t)&&t.forEach(t=>{(0,d.includes)(t.bidders,r.bids[0].bidder)&&(e=(0,n.deepAccess)(t,"endpoint.p1Consent"))}),e&&e.match("/openrtb2/prebid")&&(a=V)}return e=(0,n.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:a,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,w(e.keywords)&&e.keywords.forEach(O),Object.keys(e).forEach(t=>{let r=(0,n.convertCamelToUnderscore)(t);r!==t&&(e[r]=e[t],delete e[t])})),e}};function w(e){return!!((0,n.isArray)(e)&&e.length>0)}function O(e){w(e.value)&&""===e.value[0]&&delete e.value}function C(e){const t={};t.sizes=R(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;let r=function(e){if(!(0,n.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,n.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(r&&(t.reserve=r),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{let r=(0,n.deepAccess)(e,"mediaTypes.banner.pos")||(0,n.deepAccess)(e,"mediaTypes.video.pos");0!==r&&1!==r&&3!==r||(t.position=3===r?2:r)}e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=R(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId);let i=(0,n.deepAccess)(e,"ortb2Imp.ext.data.keywords");if((0,n.isStr)(i)&&""!==i||!(0,n.isEmpty)(e.params.keywords)){let r=F(i),o=(0,n.isPlainObject)(e.params.keywords)?(0,n.deepClone)(e.params.keywords):{};Object.keys(o).forEach(e=>{((0,n.isStr)(o[e])||(0,n.isNumber)(o[e]))&&(o[e]=[o[e]])});let a=(0,n.mergeDeep)({},o,r),s=(0,n.transformBidderParamKeywords)(a);s.length>0&&(s.forEach(O),t.keywords=s)}let o=(0,n.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");if(o&&(t.gpid=o),(e.mediaType===s.NATIVE||(0,n.deepAccess)(e,"mediaTypes.".concat(s.NATIVE)))&&(t.ad_types.push(s.NATIVE),0===t.sizes.length&&(t.sizes=R([1,1])),e.nativeParams)){const r=function(e){const t={};return Object.keys(e).forEach(r=>{const i=I[r]&&I[r].serverName||I[r]||r,o=I[r]&&I[r].requiredParams;if(t[i]=Object.assign({},o,e[r]),(i===I.image.serverName||i===I.icon.serverName)&&t[i].sizes){let e=t[i].sizes;((0,n.isArrayOfNums)(e)||(0,n.isArray)(e)&&e.length>0&&e.every(e=>(0,n.isArrayOfNums)(e)))&&(t[i].sizes=R(t[i].sizes))}i===I.privacyLink&&(t.privacy_supported=!0)}),t}(e.nativeParams);t[s.NATIVE]={layouts:[r]}}const a=(0,n.deepAccess)(e,"mediaTypes.".concat(s.VIDEO)),u=(0,n.deepAccess)(e,"mediaTypes.video.context");t.hb_source=a&&"adpod"===u?7:1,(e.mediaType===s.VIDEO||a)&&t.ad_types.push(s.VIDEO),(e.mediaType===s.VIDEO||a&&"outstream"!==u)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter(e=>(0,d.includes)(m,e)).forEach(r=>{switch(r){case"context":case"playback_method":let i=e.params.video[r];i=(0,n.isArray)(i)?i[0]:i,t.video[r]=A[r][i];break;case"frameworks":break;default:t.video[r]=e.params.video[r]}}),e.params.video.frameworks&&(0,n.isArray)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),a&&(t.video=t.video||{},Object.keys(a).filter(e=>(0,d.includes)(h,e)).forEach(e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=a[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===a[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=a[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){let r=a[e];r=(0,n.isArray)(r)?r[0]:r,r>=1&&r<=4&&(t.video.playback_method=r)}break;case"api":if(!t.video_frameworks&&(0,n.isArray)(a[e])){let r=a[e].map(e=>{let t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t}).filter(e=>e);t.video_frameworks=r}break;case"startdelay":case"placement":const r="context";if("number"!=typeof t.video[r]){const e=a.placement,n=a.startdelay,i=function(e){if(e)return 2===e?"in-banner":e>2?"outstream":void 0}(e)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(n);t.video[r]=A[r][i]}}})),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,n.isArray)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);let l=(0,d.find)(c.auctionManager.getAdUnits(),t=>e.transactionId===t.transactionId);return l&&l.mediaTypes&&l.mediaTypes.banner&&t.ad_types.push(s.BANNER),0===t.ad_types.length&&delete t.ad_types,t}function R(e){let t=[],r={};if((0,n.isArray)(e)&&2===e.length&&!(0,n.isArray)(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"==typeof e)for(let n=0;n<e.length;n++){let i=e[n];r={},r.width=parseInt(i[0],10),r.height=parseInt(i[1],10),t.push(r)}return t}function x(e){return!!e.params.user}function P(e){return!!parseInt(e.params.member,10)}function k(e){if(e.params)return!!e.params.app}function D(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function N(e){return!!e.debug}function B(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===s.ADPOD}function U(e){let t=!1;const r=e.params,i=e.params.video;return r.frameworks&&(0,n.isArray)(r.frameworks)&&(t=(0,d.includes)(e.params.frameworks,6)),!t&&i&&i.frameworks&&(0,n.isArray)(i.frameworks)&&(t=(0,d.includes)(e.params.video.frameworks,6)),t}function j(e,t,r){(0,n.isEmpty)(e.video)&&(e.video={}),e.video[t]=r}function M(e,t){!function(e){try{const t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{const t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push(()=>{((0,n.getWindowFromDocument)(t)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},q.bind(null,e))})}function q(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function L(e,t,r,n){return t&&(n?e.push({source:r,id:t,rti_partner:n}):e.push({source:r,id:t})),e}function V(e){let t="";return Object.keys(e).forEach(r=>{(0,n.isStr)(e[r])?""!==e[r]?t+="".concat(r,"=").concat(e[r],","):t+="".concat(r,","):(0,n.isArray)(e[r])&&(""===e[r][0]?t+="".concat(r,","):e[r].forEach(e=>{t+="".concat(r,"=").concat(e,",")}))}),t=t.substring(0,t.length-1),t}function F(e){let t={};return(0,n.isStr)(e)&&""!==e&&e.split(/\s*(?:,)\s*/).forEach(e=>{if(-1!==e.indexOf("=")){let r=e.split("="),n=r[0],i=r[1];t.hasOwnProperty(n)?t[n].push(i):t[n]=[i]}else t.hasOwnProperty(e)||(t[e]=[""])}),t}t.spec=S,(0,a.registerBidder)(S),window.pbjs.installedModules.push("appnexusBidAdapter")},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["PM","PM_BM"],"pubmatic")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getDomainFromURL=w,t.assignDealTier=U,t.checkVideoPlacement=k,t.spec=void 0,r(13),r(30),r(1),r(97),r(24),r(195),r(196),r(17),r(4);var n=r(0),i=r(32),o=r(20),a=r(8),s=r(43),c=r(58),d=r(36);const u="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),l={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},p="number",f="array",g={mimes:f,minduration:p,maxduration:p,startdelay:p,playbackmethod:f,api:f,protocols:f,w:p,h:p,battr:f,linearity:p,placement:p,minbitrate:p,maxbitrate:p,skip:p},m={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},h=[{id:m.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:m.TITLE.ID,required:!0},{id:m.IMAGE.ID,required:!0}],y={1:"PMP",5:"PREF",6:"PMPG"},v={bootstrapPlayer:function(e){const t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,n.logWarn)("".concat("PubMatic: ",": No vastXml or vastUrl on bid, bailing..."));const r=v.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode);let o;for(let e=0;e<window.bluebillywig.renderers.length;e++)if(window.bluebillywig.renderers[e]._id===r){o=window.bluebillywig.renderers[e];break}o?o.bootstrap(t,i):(0,n.logWarn)("".concat("PubMatic: ",": Couldn't find a renderer with ").concat(r))},newRenderer:function(e,t){var r=u.replace("$RENDERER",e);const i=s.Renderer.install({url:r,loaded:!1,adUnitCode:t});try{i.setRender(v.outstreamRender)}catch(e){(0,n.logWarn)("".concat("PubMatic: ",": Error tying to setRender on renderer"),e)}return i},outstreamRender:function(e){e.renderer.push((function(){v.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},b=[o.BANNER,o.VIDEO,o.NATIVE];let E=0,A=!1,I={},T={},_=["pubmatic"];const S=["all"];function w(e){let t=document.createElement("a");return t.href=e,t.hostname}function O(e,t){if((0,n.isStr)(t))switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(e=>e.trim()).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||void 0;case"yob":return parseInt(t)||void 0;default:return t}else t&&(0,n.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+typeof t)}function C(e,t,r){var i,o="Ignoring param key: "+e+", expects "+r+", found "+typeof t;switch(r){case"boolean":i=n.isBoolean;break;case p:i=n.isNumber;break;case"string":i=n.isStr;break;case f:i=n.isArray}if(i(t))return t;(0,n.logWarn)("PubMatic: "+o)}function R(e,t){var r=e.KEY;return{id:e.ID,required:t[r].required?1:0,data:{type:e.TYPE,len:t[r].len,ext:t[r].ext}}}function x(e){var t={assets:[]};for(var r in e){if(e.hasOwnProperty(r)){var i={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(r)))switch(r){case m.TITLE.KEY:e[r].len||e[r].length?i={id:m.TITLE.ID,required:e[r].required?1:0,title:{len:e[r].len||e[r].length,ext:e[r].ext}}:(0,n.logWarn)("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case m.IMAGE.KEY:i={id:m.IMAGE.ID,required:e[r].required?1:0,img:{type:3,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:void 0),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:void 0),wmin:e[r].wmin||e[r].minimumWidth||(e[r].minsizes?e[r].minsizes[0]:void 0),hmin:e[r].hmin||e[r].minimumHeight||(e[r].minsizes?e[r].minsizes[1]:void 0),mimes:e[r].mimes,ext:e[r].ext}};break;case m.ICON.KEY:i={id:m.ICON.ID,required:e[r].required?1:0,img:{type:1,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:void 0),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:void 0)}};break;case m.VIDEO.KEY:i={id:m.VIDEO.ID,required:e[r].required?1:0,video:{minduration:e[r].minduration,maxduration:e[r].maxduration,protocols:e[r].protocols,mimes:e[r].mimes,ext:e[r].ext}};break;case m.EXT.KEY:i={id:m.EXT.ID,required:e[r].required?1:0};break;case m.LOGO.KEY:i={id:m.LOGO.ID,required:e[r].required?1:0,img:{type:2,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:void 0),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:void 0)}};break;case m.SPONSOREDBY.KEY:case m.BODY.KEY:case m.RATING.KEY:case m.LIKES.KEY:case m.DOWNLOADS.KEY:case m.PRICE.KEY:case m.SALEPRICE.KEY:case m.PHONE.KEY:case m.ADDRESS.KEY:case m.DESC2.KEY:case m.DISPLAYURL.KEY:case m.CTA.KEY:i=R(T[r],e)}}i&&i.id&&(t.assets[t.assets.length]=i)}var o=h.length,a=0;return h.forEach(e=>{for(var r=t.assets.length,n=0;n<r;n++)if(e.id==t.assets[n].id){a++;break}}),A=o!=a,t}function P(e){var t,r=e.mediaTypes.banner.sizes,i=[];if(void 0!==r&&(0,n.isArray)(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=void 0,(0,n.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(i=[],r.forEach((function(e){e.length>1&&i.push({w:e[0],h:e[1]})})),i.length>0&&(t.format=i)),t.pos=0,t.topframe=(0,n.inIframe)()?0:1}else(0,n.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=void 0;return t}function k(e,t){(0,n.deepAccess)(e,"placement")||(0,n.logWarn)("Video.Placement param missing for "+t)}function D(e){var t,r=(0,n.mergeDeep)((0,n.deepAccess)(e.mediaTypes,"video"),e.params.video);if(void 0!==r){for(var i in t={},k(r,e.adUnitCode),g)r.hasOwnProperty(i)&&(t[i]=C(i,r[i],g[i]));(0,n.isArray)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,n.isNumber)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=void 0,(0,n.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function N(e,t,r){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var o,a=n.segments.length;i+="jw-id="+n.content.id;for(var s=0;s<a;s++)i+="|jw-"+n.segments[s]+"=1";r?void 0===e.dctr||0==e.dctr.length?e.dctr=i:e.dctr+="|"+i:(o=e.ext)&&void 0===o.key_val?o.key_val=i:o.key_val+="|"+i}}function B(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,n.logWarn)("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map(e=>e.trim()).filter((e,t,r)=>r.indexOf(e)===t)).length>0&&((0,n.logWarn)("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function U(e,t,r){var i,a,s;if(null==t||null===(i=t.ext)||void 0===i||!i.prebiddealpriority)return;const c=(0,n.getBidRequest)(e.requestId,[r.bidderRequest]),d=(0,n.deepAccess)(c,"mediaTypes.video");if((null==d?void 0:d.context)!=o.ADPOD)return;const u=(null==t||null===(a=t.ext)||void 0===a||null===(s=a.video)||void 0===s?void 0:s.duration)||(null==d?void 0:d.maxduration);e.video={context:o.ADPOD,durationSeconds:u,dealTier:t.ext.prebiddealpriority}}function j(e){return!0===(0,n.isArray)(e)&&e.length>0}(0,n._each)(m,e=>{I[e.ID]=e.KEY}),(0,n._each)(m,e=>{T[e.KEY]=e});const M={code:"pubmatic",gvlid:76,supportedMediaTypes:[o.BANNER,o.VIDEO,o.NATIVE],isBidRequestValid:e=>{if(e&&e.params){if(!(0,n.isStr)(e.params.publisherId))return(0,n.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(o.VIDEO)){let t=(0,n.deepAccess)(e.mediaTypes,"video.mimes"),r=(0,n.deepAccess)(e,"params.video.mimes");if(!1===j(t)&&!1===j(r))return(0,n.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[o.VIDEO].hasOwnProperty("context"))return(0,n.logError)("".concat("PubMatic: ",": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[o.VIDEO].context&&!(0,n.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[o.VIDEO].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(o.BANNER)||e.mediaTypes.hasOwnProperty(o.NATIVE)?(delete e.mediaTypes[o.VIDEO],(0,n.logWarn)("".concat("PubMatic: ",': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):((0,n.logError)("".concat("PubMatic: ",': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:(e,t)=>{var r,i,s,u,p;e=(0,d.convertOrtbRequestToProprietaryNative)(e),t&&t.refererInfo&&(p=t.refererInfo);var f,g=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(p),m=function(e){return{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(g),h="",y=[],v=[],b=[];if(e.forEach(e=>{if((f=(0,n.deepClone)(e)).params.adSlot=f.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,n.isStr)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,n.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var r=e.params.adSlot,i=r.split(":");if(r=i[0],2==i.length&&(e.params.adUnitIndex=i[1]),i=r.split("@"),e.params.adUnit=i[0],i.length>1){if(2!=(i=i[1].split("x")).length)return void(0,n.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(i[0],10),e.params.height=parseInt(i[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(o.BANNER)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,s=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&s.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=s,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(f),f.mediaTypes&&f.mediaTypes.hasOwnProperty("video")||f.params.hasOwnProperty("video"));else if(!(f.hasOwnProperty("mediaTypes")&&f.mediaTypes.hasOwnProperty(o.NATIVE)||0!==f.params.width||0!==f.params.height))return void(0,n.logWarn)("PubMatic: Skipping the non-standard adslot: ",f.params.adSlot,JSON.stringify(f));g.pubId=g.pubId||f.params.publisherId,(g=function(e,t){var r,i,o;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),l)l.hasOwnProperty(r)&&(i=e[r])&&("object"==typeof(o=l[r])&&(i=o.f(i,t)),(0,n.isStr)(i)?t[r]=i:(0,n.logWarn)("PubMatic: Ignoring param : "+r+" with value : "+l[r]+", expects string-value, found "+typeof i));return t}(f.params,g)).transactionId=f.transactionId,""===h?h=f.params.currency||void 0:f.params.hasOwnProperty("currency")&&h!==f.params.currency&&(0,n.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),f.params.currency=h,f.params.hasOwnProperty("dctr")&&(0,n.isStr)(f.params.dctr)&&y.push(f.params.dctr),f.params.hasOwnProperty("bcat")&&(0,n.isArray)(f.params.bcat)&&(v=v.concat(f.params.bcat)),f.params.hasOwnProperty("acat")&&(0,n.isArray)(f.params.acat)&&(b=b.concat(f.params.acat));var t=function(e,t){var r,i,s={},c={},d=e.hasOwnProperty("sizes")?e.sizes:[],u="",l=[];if(function(e,t){t.params.deals&&((0,n.isArray)(t.params.deals)?t.params.deals.forEach((function(t){(0,n.isStr)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,n.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):(0,n.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(s={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:O("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:O("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?O("currency",e.params.currency):"USD"},e),function(e,t){var r,i="";if(t.params.dctr)if(i=t.params.dctr,(0,n.isStr)(i)&&i.length>0){var o=i.split("|");i="",o.forEach(e=>{i+=e.length>0?e.trim()+"|":""}),r=i.length,"|"===i.substring(r,r-1)&&(i=i.substring(0,r-1)),e.ext.key_val=i.trim()}else(0,n.logWarn)("PubMatic: Ignoring param : dctr with value : "+i+", expects string-value, found empty or non-string value")}(s,e),N(s,e),e.hasOwnProperty("mediaTypes"))for(u in e.mediaTypes)switch(u){case o.BANNER:void 0!==(r=P(e))&&(s.banner=r);break;case o.NATIVE:c.request=JSON.stringify(x(e.nativeParams)),A?(0,n.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):s.native=c;break;case o.VIDEO:void 0!==(i=D(e))&&(s.video=i)}else r={pos:0,w:e.params.width,h:e.params.height,topframe:(0,n.inIframe)()?0:1},(0,n.isArray)(d)&&d.length>1&&((d=d.splice(1,d.length-1)).forEach(e=>{l.push({w:e[0],h:e[1]})}),r.format=l),s.banner=r;return function(e,t){const r={...(0,n.deepAccess)(t,"ortb2Imp.ext.data")};Object.keys(r).forEach(t=>{"pbadslot"===t?"string"==typeof r[t]&&r[t]&&(0,n.deepSetValue)(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach(t=>{const i=(0,n.deepAccess)(r,"adserver.".concat(t));"string"==typeof i&&i&&((0,n.deepSetValue)(e,"ext.data.adserver.".concat(t.toLowerCase()),i),"adslot"===t&&(0,n.deepSetValue)(e,"ext.dfp_ad_unit_code",i))}):(0,n.deepSetValue)(e,"ext.data.".concat(t),r[t])})}(s,e),function(e,t){let r=-1;"function"!=typeof t.getFloor||a.config.getConfig("pubmatic.disableFloors")||[o.BANNER,o.VIDEO,o.NATIVE].forEach(i=>{if(e.hasOwnProperty(i)){let o=[];"banner"===i&&(e[i].w&&e[i].h&&o.push([e[i].w,e[i].h]),(0,n.isArray)(e[i].format)&&e[i].format.forEach(e=>o.push([e.w,e.h]))),0===o.length&&o.push("*"),o.forEach(o=>{let a=t.getFloor({currency:e.bidfloorcur,mediaType:i,size:o});if((0,n.logInfo)("PubMatic: ","floor from floor module returned for mediatype:",i," and size:",o," is: currency",a.currency,"floor",a.floor),"object"==typeof a&&a.currency===e.bidfloorcur&&!isNaN(parseInt(a.floor))){let e=parseFloat(a.floor);(0,n.logInfo)("PubMatic: ","floor from floor module:",e,"previous floor value",r,"Min:",Math.min(e,r)),r=-1===r?e:Math.min(e,r),(0,n.logInfo)("PubMatic: ","new floor value:",r)}})}}),e.bidfloor&&((0,n.logInfo)("PubMatic: ","floor from floor module:",r,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor)),e.bidfloor=!isNaN(r)&&r>0?r:void 0,(0,n.logInfo)("PubMatic: ","new impObj.bidfloor value:",e.bidfloor)}(s,e),s.hasOwnProperty(o.BANNER)||s.hasOwnProperty(o.NATIVE)||s.hasOwnProperty(o.VIDEO)?s:void 0}(f);t&&m.imp.push(t)}),0==m.imp.length)return;m.site.publisher.id=g.pubId.trim(),E=g.pubId.trim(),m.ext.wrapper={},m.ext.wrapper.profile=parseInt(g.profId)||void 0,m.ext.wrapper.version=parseInt(g.verId)||void 0,m.ext.wrapper.wiid=g.wiid||t.auctionId,m.ext.wrapper.wv="prebid_prebid_7.33.0",m.ext.wrapper.transactionId=g.transactionId,m.ext.wrapper.wp="pbjs";const I=t?c.bidderSettings.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==I){if(m.ext.marketplace={},t&&1==I){let e=c.bidderSettings.get(t.bidderCode,"allowedAlternateBidderCodes");(0,n.isArray)(e)?(e=e.map(e=>e.trim().toLowerCase()).filter(e=>!!e).filter(n.uniques),_=e.includes("*")?S:[..._,...e]):_=S}m.ext.marketplace.allowedbidders=_.filter(n.uniques)}m.user.gender=g.gender?g.gender.trim():void 0,m.user.geo={},m.user.geo.lat=O("lat",g.lat),m.user.geo.lon=O("lon",g.lon),m.user.yob=O("yob",g.yob),m.device.geo=m.user.geo,m.site.page=g.kadpageurl.trim()||m.site.page.trim(),m.site.domain=w(m.site.page),"object"==typeof a.config.getConfig("content")&&(m.site.content=a.config.getConfig("content")),"object"==typeof a.config.getConfig("device")&&(m.device=Object.assign(m.device,a.config.getConfig("device"))),m.device.language=m.device.language&&m.device.language.split("-")[0],(0,n.deepSetValue)(m,"source.tid",g.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(m.test=1),e[0].schain&&(0,n.deepSetValue)(m,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,n.deepSetValue)(m,"user.ext.consent",t.gdprConsent.consentString),(0,n.deepSetValue)(m,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,n.deepSetValue)(m,"regs.ext.us_privacy",t.uspConsent),!0===a.config.getConfig("coppa")&&(0,n.deepSetValue)(m,"regs.coppa",1),function(e,t){let r=(0,n.deepAccess)(t,"0.userIdAsEids");(0,n.isArray)(r)&&r.length>0&&(0,n.deepSetValue)(e,"user.eids",r)}(m,e);const T=t&&t.ortb2||{};if(T.site){const{page:e,domain:t,ref:r}=m.site;(0,n.mergeDeep)(m,{site:T.site}),m.site.page=e,m.site.domain=t,m.site.ref=r}if(T.user&&(0,n.mergeDeep)(m,{user:T.user}),T.bcat&&(v=v.concat(T.bcat)),null!==(r=T.ext)&&void 0!==r&&null!==(i=r.prebid)&&void 0!==i&&null!==(s=i.bidderparams)&&void 0!==s&&null!==(u=s[t.bidderCode])&&void 0!==u&&u.acat){const e=T.ext.prebid.bidderparams[t.bidderCode].acat;B(m,e)}else b.length&&B(m,b);var C,R,k;return function(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,n.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map(e=>e.trim()).filter((function(e,t,r){if(e.length>3)return r.indexOf(e)===t;(0,n.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,n.logWarn)("PubMatic: bcat: Selected: ",t),e.bcat=t)}(m,v),null!=t&&t.timeout?m.tmax=t.timeout||a.config.getConfig("bidderTimeout"):m.tmax=null===(C=window)||void 0===C||null===(R=C.PWT)||void 0===R||null===(k=R.versionDetails)||void 0===k?void 0:k.timeout,m.ext.epoch=(new Date).getTime(),"object"==typeof a.config.getConfig("app")&&(m.app=a.config.getConfig("app"),m.app.publisher=m.site.publisher,m.app.ext=m.site.ext||void 0,"object"!=typeof m.app.content&&(m.app.content=m.site.content||void 0),delete m.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(m),bidderRequest:t}},interpretResponse:(e,t)=>{const r=[];var i="USD";let a=JSON.parse(t.data),s=a.site&&a.site.ref?a.site.ref:"";try{e.body&&e.body.seatbid&&(0,n.isArray)(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach(e=>{e.bid&&(0,n.isArray)(e.bid)&&e.bid.forEach(c=>{let d={requestId:c.impid,cpm:parseFloat((c.price||0).toFixed(2)),width:c.w,height:c.h,creativeId:c.crid||c.id,dealId:c.dealid,currency:i,netRevenue:!0,ttl:300,referrer:s,ad:c.adm,pm_seat:e.seat||null,pm_dspid:c.ext&&c.ext.dspid?c.ext.dspid:null,partnerImpId:c.id||""};a.imp&&a.imp.length>0&&a.imp.forEach(e=>{if(c.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=b[e.ext.bidtype];else{(0,n.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var r=e.adm,i="",a=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)t.mediaType=o.BANNER;else if(a.test(r))t.mediaType=o.VIDEO;else try{(i=JSON.parse(r.replace(/\\/g,"")))&&i.native&&(t.mediaType=o.NATIVE)}catch(e){(0,n.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+r)}}}(c,d),d.mediaType){case o.BANNER:break;case o.VIDEO:d.width=c.hasOwnProperty("w")?c.w:e.video.w,d.height=c.hasOwnProperty("h")?c.h:e.video.h,d.vastXml=c.adm,function(e,t){let r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(let a=0;a<t.bidderRequest.bids.length;a++)t.bidderRequest.bids[a].bidId===e.requestId&&(r=t.bidderRequest.bids[a].params,n=t.bidderRequest.bids[a].mediaTypes[o.VIDEO].context,i=t.bidderRequest.bids[a].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=v.newRenderer(e.rendererCode,i))}}(d,t),U(d,c,t);break;case o.NATIVE:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,n.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&r.native.assets.length>0){t.mediaType=o.NATIVE;for(let e=0,n=r.native.assets.length;e<n;e++)switch(r.native.assets[e].id){case m.TITLE.ID:t.native.title=r.native.assets[e].title&&r.native.assets[e].title.text;break;case m.IMAGE.ID:t.native.image={url:r.native.assets[e].img&&r.native.assets[e].img.url,height:r.native.assets[e].img&&r.native.assets[e].img.h,width:r.native.assets[e].img&&r.native.assets[e].img.w};break;case m.ICON.ID:t.native.icon={url:r.native.assets[e].img&&r.native.assets[e].img.url,height:r.native.assets[e].img&&r.native.assets[e].img.h,width:r.native.assets[e].img&&r.native.assets[e].img.w};break;case m.SPONSOREDBY.ID:case m.BODY.ID:case m.LIKES.ID:case m.DOWNLOADS.ID:case m.PRICE:case m.SALEPRICE.ID:case m.PHONE.ID:case m.ADDRESS.ID:case m.DESC2.ID:case m.CTA.ID:case m.RATING.ID:case m.DISPLAYURL.ID:t.native[I[r.native.assets[e].id]]=r.native.assets[e].data&&r.native.assets[e].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(c,d)}}),c.ext&&c.ext.deal_channel&&(d.dealChannel=y[c.ext.deal_channel]||null),d.meta={},c.ext&&c.ext.dspid&&(d.meta.networkId=c.ext.dspid),c.ext&&c.ext.advid&&(d.meta.buyerId=c.ext.advid),c.adomain&&c.adomain.length>0&&(d.meta.advertiserDomains=c.adomain,d.meta.clickUrl=c.adomain[0]),e.ext&&e.ext.buyid&&(d.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),c.ext&&c.ext.marketplace&&(d.bidderCode=c.ext.marketplace),r.push(d)})}))}catch(e){(0,n.logError)(e)}return r},getUserSyncs:(e,t,r,n)=>{let i=""+E;return r&&(i+="&gdpr="+(r.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(i+="&us_privacy="+encodeURIComponent(n)),!0===a.config.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t,r,i){return N(e,r.bids[0],!0),(0,n.convertTypes)({publisherId:"string",adSlot:"string"},e)}};t.spec=M,(0,i.registerBidder)(M),window.pbjs.installedModules.push("pubmaticBidAdapter")},function(e,t,r){var n=r(18),i=r(41),o=r(11)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(10),i=r(14),o=r(42),a=r(166),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:n(a,e)}},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["AOL","AOL_M","AOL_BM","AOL_M_BM","AOL_V"],"aol")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(1),r(13);var n,i,o,a=r(0),s=r(32),c=r(20);function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const u="aol",l="verizon",p="onemobile",f="onedisplay",g="display-get",m="mobile-get",h="mobile-post",y="iframe",v="img",b="image",E=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxrtb.com","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","epsilon.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","tapad.com","uidapi.com","verizonmedia.com","yahoo.com","zeotap.com"],A=S(n||(n=d(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""])),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),I=S(i||(i=d(["","/bidRequest?"])),"host"),T=S(o||(o=d(["dcn=","&pos=","&cmd=bid",""])),"dcn","pos","dynamicParams"),_={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"};function S(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];let o=n[n.length-1]||{},s=[e[0]];return r.forEach((function(t,r){let i=(0,a.isInteger)(t)?n[t]:o[t];s.push(i,e[r+1])})),s.join("")}}function w(e){return e===u||e===l||e===p}function O(e){if(w(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){let t=e.params.imp[0];return t.id&&t.tagid&&t.banner&&t.banner.w&&t.banner.h}}function C(e){return w(e.bidder)&&e.params.dcn&&e.params.pos}function R(e){return((t=e.bidder)===u||t===l||t===f)&&e.params.placement&&e.params.network;var t}function x(e){return e.userIdAsEids.filter(e=>-1!==E.indexOf(e.source))}const P={code:u,gvlid:25,aliases:[p,f,l],supportedMediaTypes:[c.BANNER],isBidRequestValid:e=>R(e)||function(e){return C(e)||O(e)}(e),buildRequests(e,t){const r={};var n,i;return t&&(r.gdpr=t.gdprConsent,r.uspConsent=t.uspConsent,r.gppConsent=t.gppConsent,!r.gppConsent&&null!==(n=t.ortb2)&&void 0!==n&&null!==(i=n.regs)&&void 0!==i&&i.gpp&&(r.gppConsent={gppString:t.ortb2.regs.gpp,applicableSections:t.ortb2.regs.gpp_sid})),e.map(e=>{const t=function(e){return C(e)?m:O(e)?h:R(e)?g:void 0}(e);if(t)return this.formatBidRequest(t,e,r)})},interpretResponse(e,t){let{body:r}=e;if(r){let e=this._parseBidResponse(r,t);if(e)return e}else(0,a.logError)("Empty bid response",t.bidderCode,r)},getUserSyncs(e,t){const r=!(0,a.isEmpty)(t)&&t[0].body;return r&&r.ext&&r.ext.pixels?this.parsePixelItems(r.ext.pixels):[]},formatBidRequest(e,t,r){let n;switch(e){case g:n={url:this.buildMarketplaceUrl(t,r),method:"GET",ttl:60};break;case m:n={url:this.buildOneMobileGetUrl(t,r),method:"GET",ttl:3600};break;case h:n={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,r),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return n.bidderCode=t.bidder,n.bidId=t.bidId,n.userSyncOn=t.params.userSyncOn,n},buildMarketplaceUrl(e,t){const r=e.params,n=r.server;let i,o=r.region||"us";return _.hasOwnProperty(o)||((0,a.logWarn)("Unknown region '".concat(o,"' for AOL bidder.")),o="us"),i=n||_[o],r.region=o,this.applyProtocol(A({host:i,network:r.network,placement:parseInt(r.placement),pageid:r.pageId||0,sizeid:r.sizeId||0,alias:r.alias||(0,a.getUniqueIdentifierStr)(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(r,t)}))},buildOneMobileGetUrl(e,t){let{dcn:r,pos:n,ext:i}=e.params;"object"==typeof e.userId&&(i=i||{},x(e).forEach(e=>{i["eid"+e.source]=e.uids[0].id}));let o=this.buildOneMobileBaseUrl(e);if(r&&n){let e=this.formatOneMobileDynamicParams(i,t);o+=T({dcn:r,pos:n,dynamicParams:e})}return o},buildOneMobileBaseUrl(e){return this.applyProtocol(I({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:e=>/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"".concat("https",":").concat(e):"".concat("https","://").concat(e),formatMarketplaceDynamicParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};Object.assign(r,this.formatKeyValues(e.keyValues)),Object.assign(r,this.formatConsentData(t));let n="";return(0,a._each)(r,(e,t)=>{n+="".concat(t,"=").concat(encodeURIComponent(e),";")}),n},formatOneMobileDynamicParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isSecureProtocol()&&(e.secure=1),Object.assign(e,this.formatConsentData(t));let r="";return(0,a._each)(e,(e,t)=>{r+="&".concat(t,"=").concat(encodeURIComponent(e))}),r},buildOpenRtbRequestData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={id:e.params.id,imp:e.params.imp};if(this.isEUConsentRequired(t)&&((0,a.deepSetValue)(r,"regs.ext.gdpr",1),t.gdpr.consentString&&(0,a.deepSetValue)(r,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&(0,a.deepSetValue)(r,"regs.ext.us_privacy",t.uspConsent),"object"==typeof e.userId){r.user=r.user||{},r.user.ext=r.user.ext||{};let t=x(e);t.length>0&&(r.user.ext.eids=t)}return r},isEUConsentRequired:e=>!!(e&&e.gdpr&&e.gdpr.gdprApplies),formatKeyValues(e){let t={};return(0,a._each)(e,(e,r)=>{t["kv".concat(r)]=e}),t},formatConsentData(e){let t={};return this.isEUConsentRequired(e)&&(t.gdpr=1,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),e.gppConsent&&e.gppConsent.gppString&&(t.gpp=e.gppConsent.gppString,t.gpp_sid=e.gppConsent.applicableSections),t},parsePixelItems(e){let t=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,r=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,i=[];if(e){let o=e.match(t);o&&o.forEach(e=>{let t=e.match(r)[0],o=e.match(n)[2];t&&o&&i.push({type:t===v?b:y,url:o})})}return i},_parseBidResponse(e,t){let r,n;try{r=e.seatbid[0].bid[0]}catch(e){return}if(r.ext&&r.ext.encp)n=r.ext.encp;else if(n=r.price,null===n||isNaN(n))return void(0,a.logError)("Invalid price in bid response",u,r);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:r.adm,cpm:n,width:r.w,height:r.h,creativeId:r.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:r.dealid,netRevenue:!0,meta:{advertiserDomains:r&&r.adomain?r.adomain:[]},ttl:t.ttl}},isOneMobileBidder:w,isSecureProtocol:()=>"https:"===document.location.protocol};t.spec=P,(0,s.registerBidder)(P),window.pbjs.installedModules.push("aolBidAdapter")},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["CRT","CRT_BM"],"criteo")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PROFILE_ID_PUBLISHERTAG=exports.FAST_BID_VERSION_CURRENT=exports.ADAPTER_VERSION=void 0,exports.canFastBid=canFastBid,exports.getFastBidUrl=getFastBidUrl,exports.storage=exports.spec=void 0,exports.tryGetCriteoFastBid=tryGetCriteoFastBid,__webpack_require__(1),__webpack_require__(13),__webpack_require__(30),__webpack_require__(24),__webpack_require__(185),__webpack_require__(97);var _utils=__webpack_require__(0),_adloader=__webpack_require__(129),_bidderFactory=__webpack_require__(32),_config=__webpack_require__(8),_mediaTypes=__webpack_require__(20),_polyfill=__webpack_require__(12),_verify=__webpack_require__(312),_storageManager=__webpack_require__(52),_native=__webpack_require__(36),_refererDetection=__webpack_require__(77),_gpdr=__webpack_require__(194);const GVLID=91,ADAPTER_VERSION=34;exports.ADAPTER_VERSION=ADAPTER_VERSION;const BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185;exports.PROFILE_ID_PUBLISHERTAG=PROFILE_ID_PUBLISHERTAG;const storage=(0,_storageManager.getStorageManager)({gvlid:GVLID,bidderCode:BIDDER_CODE});exports.storage=storage;const LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=133;exports.FAST_BID_VERSION_CURRENT=FAST_BID_VERSION_CURRENT;const FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",SID_COOKIE_NAME="cto_sid",IDCPY_COOKIE_NAME="cto_idcpy",LWID_COOKIE_NAME="cto_lwid",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_mediaTypes.BANNER,_mediaTypes.VIDEO,_mediaTypes.NATIVE],getUserSyncs:function(e,t,r,n){if(canFastBid(_config.config.getConfig("criteo.fastBidVersion")))return[];const i=(0,_refererDetection.getRefererInfo)(),o="criteoPrebidAdapter";if(e.iframeEnabled&&(0,_gpdr.hasPurpose1Consent)(r)){const e=[];e.push("origin=".concat(o)),e.push("topUrl=".concat(i.domain)),r&&(r.gdprApplies&&e.push("gdpr=".concat(1==r.gdprApplies?1:0)),r.consentString&&e.push("gdpr_consent=".concat(r.consentString))),n&&e.push("us_privacy=".concat(n));const t=Math.random().toString(),a={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),localWebId:readFromAllStorages(LWID_COOKIE_NAME),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:o,requestId:t,secureIdCookie:readFromAllStorages(SID_COOKIE_NAME),tld:i.domain,topUrl:i.domain,uid:readFromAllStorages(IDCPY_COOKIE_NAME),version:"7.33.0".replace(/\./g,"_")};window.addEventListener("message",(function e(r){if(!r.data||"https://gum.criteo.com"!=r.origin)return;if(r.data.requestId!==t)return;this.removeEventListener("message",e),r.stopImmediatePropagation();const n=r.data;n.optout?(deleteFromAllStorages(IDCPY_COOKIE_NAME),deleteFromAllStorages(SID_COOKIE_NAME),deleteFromAllStorages(BUNDLE_COOKIE_NAME),deleteFromAllStorages(LWID_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):(n.uid&&saveOnAllStorages(IDCPY_COOKIE_NAME,n.uid,GUID_RETENTION_TIME_HOUR),n.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,n.bundle,GUID_RETENTION_TIME_HOUR),n.removeSid?deleteFromAllStorages(SID_COOKIE_NAME):n.sid&&saveOnAllStorages(SID_COOKIE_NAME,n.sid,GUID_RETENTION_TIME_HOUR))}),!0);const s=JSON.stringify(a).replace(/"/g,"%22");return[{type:"iframe",url:"https://gum.criteo.com/syncframe?".concat(e.join("&"),"#").concat(s)}]}return[]},isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e)),buildRequests:(e,t)=>{var r,n;let i,o;e=(0,_native.convertOrtbRequestToProprietaryNative)(e);let a=t.ortb2||{};Object.assign(t,{publisherExt:null===(r=a.site)||void 0===r?void 0:r.ext,userExt:null===(n=a.user)||void 0===n?void 0:n.ext,ceh:_config.config.getConfig("criteo.ceh"),coppa:_config.config.getConfig("coppa")});const s=_config.config.getConfig("criteo.fastBidVersion"),c=canFastBid(s);if(!publisherTagAvailable()&&c){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();const e=getFastBidUrl(s);setTimeout(()=>{(0,_adloader.loadExternalScript)(e,BIDDER_CODE)},t.timeout)}if(publisherTagAvailable()){const r=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"7.33.0");i=r.buildCdbUrl(),o=r.buildCdbRequest()}else{const r=buildContext(e,t);i=buildCdbUrl(r),o=buildCdbRequest(r,e,t)}if(o)return{method:"POST",url:i,data:o,bidRequests:e}},interpretResponse:(e,t)=>{const r=e.body||e;if(publisherTagAvailable()){const e=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(e)return e.interpretResponse(r,t)}const n=[];return r&&r.slots&&(0,_utils.isArray)(r.slots)&&r.slots.forEach(i=>{var o,a,s,c;const d=(0,_polyfill.find)(t.bidRequests,e=>e.adUnitCode===i.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===i.zoneid)),u=d.bidId,l={requestId:u,cpm:i.cpm,currency:i.currency,netRevenue:!0,ttl:i.ttl||60,creativeId:i.creativecode,width:i.width,height:i.height,dealId:i.dealCode};if(null!==(o=r.ext)&&void 0!==o&&null!==(a=o.paf)&&void 0!==a&&a.transmission&&null!==(s=i.ext)&&void 0!==s&&null!==(c=s.paf)&&void 0!==c&&c.content_id){const t={content_id:i.ext.paf.content_id,transmission:e.ext.paf.transmission};l.meta=Object.assign({},l.meta,{paf:t})}i.adomain&&(l.meta=Object.assign({},l.meta,{advertiserDomains:i.adomain})),i.native?d.params.nativeCallback?l.ad=createNativeAd(u,i.native,d.params.nativeCallback):(l.native=createPrebidNativeAd(i.native),l.mediaType=_mediaTypes.NATIVE):i.video?(l.vastUrl=i.displayurl,l.mediaType=_mediaTypes.VIDEO):l.ad=i.creative,n.push(l)}),n},onTimeout:e=>{if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach(e=>{-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())})}},onBidWon:e=>{publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:e=>{publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function readFromAllStorages(e){const t=storage.getCookie(e),r=storage.getDataFromLocalStorage(e);return t||r||void 0}function saveOnAllStorages(e,t,r){const n=new Date;n.setTime(n.getTime()+60*r*60*1e3);const i="expires=".concat(n.toUTCString());storage.setCookie(e,t,i),storage.setDataInLocalStorage(e,t)}function deleteFromAllStorages(e){storage.setCookie(e,"",0),storage.removeDataFromLocalStorage(e)}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var r;let n="";t&&t.refererInfo&&(n=t.refererInfo.page);const i=(0,_utils.parseUrl)(null==t||null===(r=t.refererInfo)||void 0===r?void 0:r.topmostLocation).search,o={url:n,debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,amp:!1};return e.forEach(e=>{"amp"===e.params.integrationMode&&(o.amp=!0)}),o}function buildCdbUrl(e){let t=CDB_ENDPOINT;t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("7.33.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");const r=readFromAllStorages(BUNDLE_COOKIE_NAME);r&&(t+="&bundle=".concat(r)),readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1");const n=readFromAllStorages(SID_COOKIE_NAME);n&&(t+="&sid=".concat(n));const i=readFromAllStorages(IDCPY_COOKIE_NAME);return i&&(t+="&idcpy=".concat(i)),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,r){let n,i;const o={publisher:{url:e.url,ext:r.publisherExt},regs:{coppa:!0===r.coppa?1:!1===r.coppa?0:void 0},slots:t.map(e=>{n=e.params.networkId||n,i=e.schain||i;const t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,_utils.deepAccess)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(t.native=!0,checkNativeSendId(e)||(0,_utils.logWarn)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?t.sizes=parseSizes((0,_utils.deepAccess)(e,"mediaTypes.banner.sizes"),parseSize):t.sizes=[],hasVideoMediaType(e)){const r={playersizes:parseSizes((0,_utils.deepAccess)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay},n=e.params.video;void 0!==n&&(r.skip=r.skip||n.skip||0,r.placement=r.placement||n.placement,r.minduration=r.minduration||n.minduration,r.playbackmethod=r.playbackmethod||n.playbackmethod,r.startdelay=r.startdelay||n.startdelay||0),t.video=r}return enrichSlotWithFloors(t,e),t})};return n&&(o.publisher.networkid=n),i&&(o.source={ext:{schain:i}}),o.user={ext:r.userExt},r&&r.ceh&&(o.user.ceh=r.ceh),r&&r.gdprConsent&&(o.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(o.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),o.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(o.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(o.user.uspIab=r.uspConsent),o}function parseSizes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return null==e?[]:Array.isArray(e[0])?e.map(e=>t(e)):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==(0,_utils.deepAccess)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_utils.deepAccess)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==(0,_utils.deepAccess)(e,"mediaTypes.native")}function hasValidVideoMediaType(e){let t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(r){void 0===(0,_utils.deepAccess)(e,"mediaTypes.video."+r)&&void 0===(0,_utils.deepAccess)(e,"params.video."+r)&&(t=!1,(0,_utils.logError)("Criteo Bid Adapter: mediaTypes.video."+r+" is required"))})),t){const t=e.mediaTypes.video.placement||e.params.video.placement;if("instream"==e.mediaTypes.video.context&&1===t)return!0;if("outstream"==e.mediaTypes.video.context&&1!==t)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map(e=>e.url)}}function createNativeAd(e,t,r){var n="criteo_prebid_native_slots";return window[n]=window[n]||{},window[n][e]={callback:r,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(n,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function pickAvailableGetFloorFunc(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{const t=parseFloat(e.params.bidFloor);return()=>({currency:e.params.bidFloorCur,floor:t})}catch{}}function enrichSlotWithFloors(e,t){try{const o={},a=pickAvailableGetFloorFunc(t);var r,n,i;if(a)null!==(r=t.mediaTypes)&&void 0!==r&&r.banner&&(o.banner={},parseSizes((0,_utils.deepAccess)(t,"mediaTypes.banner.sizes")).forEach(e=>o.banner[parseSize(e).toString()]=a.call(t,{size:e,mediaType:_mediaTypes.BANNER}))),null!==(n=t.mediaTypes)&&void 0!==n&&n.video&&(o.video={},parseSizes((0,_utils.deepAccess)(t,"mediaTypes.video.playerSize")).forEach(e=>o.video[parseSize(e).toString()]=a.call(t,{size:e,mediaType:_mediaTypes.VIDEO}))),null!==(i=t.mediaTypes)&&void 0!==i&&i.native&&(o.native={},o.native["*"]=a.call(t,{size:"*",mediaType:_mediaTypes.NATIVE})),Object.keys(o).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:o}))}catch(e){(0,_utils.logError)("Could not parse floors from Prebid: "+e)}}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){let t;return e===FAST_BID_VERSION_LATEST?t="":e?(String(e).split(".")[0]<102&&(0,_utils.logWarn)("Specifying a Fastbid version which is not supporting version selection."),t="."+e):t="."+FAST_BID_VERSION_CURRENT,PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,t)}function tryGetCriteoFastBid(){try{const fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){const firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)(0,_utils.logWarn)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{const publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,_verify.verify)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?((0,_utils.logInfo)("Using Criteo FastBid"),eval(publisherTag)):((0,_utils.logWarn)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}exports.spec=spec,(0,_bidderFactory.registerBidder)(spec),window.pbjs.installedModules.push("criteoBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(313),i=r(314);t.verify=function(e,t,r,o){var a=new n.BigInteger(n.b64toHex(t)),s=new n.BigInteger(n.b64toHex(r)),c=a.modPowInt(o,s);return n.removeExtraSymbols(c.toHexString())===i.Sha256.hash(e)}},function(e,t,r){"use strict";var n;r(13),r(30),r(16),Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,r="",n=this.t,i=this.DB-n*this.DB%4;if(n-- >0)for(i<this.DB&&(e=this[n]>>i)>0&&(t=!0,r=l(e));n>=0;)i<4?(e=(this[n]&(1<<i)-1)<<4-i,e|=this[--n]>>(i+=this.DB-4)):(e=this[n]>>(i-=4)&15,i<=0&&(i+=this.DB,--n)),e>0&&(t=!0),t&&(r+=l(e));return t?r:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var r=t.length,n=!1,i=0;--r>=0;){var o=u(t,r);o<0?"-"==t.charAt(r)&&(n=!0):(n=!1,0==i?this[this.t++]=o:i+4>this.DB?(this[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this[this.t++]=o>>this.DB-i):this[this.t-1]|=o<<i,(i+=4)>=this.DB&&(i-=this.DB))}this.clamp(),n&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=o();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var r=o();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),i=t.abs(),o=n.t;for(r.t=o+i.t;--o>=0;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.divRemTo=function(t,r,n){var i=t.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=r&&r.fromHexString("0"),void(null!=n&&this.copyTo(n));null==n&&(n=o());var c=o(),d=this.s,u=t.s,l=this.DB-a(i[i.t-1]);l>0?(i.lShiftTo(l,c),s.lShiftTo(l,n)):(i.copyTo(c),s.copyTo(n));var p=c.t,f=c[p-1];if(0!=f){var g=f*(1<<this.F1)+(p>1?c[p-2]>>this.F2:0),m=this.FV/g,h=(1<<this.F1)/g,y=1<<this.F2,v=n.t,b=v-p,E=null==r?o():r;for(c.dlShiftTo(b,E),n.compareTo(E)>=0&&(n[n.t++]=1,n.subTo(E,n)),e.ONE.dlShiftTo(p,E),E.subTo(c,c);c.t<p;)c[c.t++]=0;for(;--b>=0;){var A=n[--v]==f?this.DM:Math.floor(n[v]*m+(n[v-1]+y)*h);if((n[v]+=c.am(0,A,n,b,0,p))<A)for(c.dlShiftTo(b,E),n.subTo(E,n);n[v]<--A;)n.subTo(E,n)}null!=r&&(n.drShiftTo(p,r),d!=u&&e.ZERO.subTo(r,r)),n.t=p,n.clamp(),l>0&&n.rShiftTo(l,n),d<0&&e.ZERO.subTo(n,n)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new p(t):new f(t),this.exp(e,r)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var n=o(),i=o(),s=r.convert(this),c=a(t)-1;for(s.copyTo(n);--c>=0;)if(r.sqrTo(n,i),(t&1<<c)>0)r.mulTo(i,s,n);else{var d=n;n=i,i=d}return r.revert(n)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.am1=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},e.prototype.am2=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],d=this[e++]>>15,u=s*c+d*a;i=((c=a*c+((32767&u)<<15)+r[n]+(1073741823&i))>>>30)+(u>>>15)+s*d+(i>>>30),r[n++]=1073741823&c}return i},e.prototype.am3=function(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],d=this[e++]>>14,u=s*c+d*a;i=((c=a*c+((16383&u)<<14)+r[n]+i)>>28)+(u>>14)+s*d,r[n++]=268435455&c}return i},e}();function o(){return new i(null)}function a(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}t.BigInteger=i,t.nbi=o,t.nbits=a;var s,c,d=[];for(s="0".charCodeAt(0),c=0;c<=9;++c)d[s++]=c;for(s="a".charCodeAt(0),c=10;c<36;++c)d[s++]=c;for(s="A".charCodeAt(0),c=10;c<36;++c)d[s++]=c;function u(e,t){var r=d[e.charCodeAt(t)];return null==r?-1:r}function l(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.intAt=u,t.int2char=l,t.b64toHex=function(e){var t,r="",n=0,i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));o<0||(0==n?(r+=l(o>>2),i=3&o,n=1):1==n?(r+=l(i<<2|o>>4),i=15&o,n=2):2==n?(r+=l(i),r+=l(o>>2),i=3&o,n=3):(r+=l(i<<2|o>>4),r+=l(15&o),n=0))}return 1==n&&(r+=l(i<<2)),r},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var p=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),f=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(i.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=o();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function g(e){var t=o();return t.fromHexString(e.toString()),t}t.nbv=g,i.ZERO=g(0),i.ONE=g(1),"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=i.prototype.am2,n=30):"Netscape"!=navigator.appName?(i.prototype.am=i.prototype.am1,n=26):(i.prototype.am=i.prototype.am3,n=28),i.prototype.DB=n,i.prototype.DM=(1<<n)-1,i.prototype.DV=1<<n,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-n,i.prototype.F2=2*n-52},function(e,t,r){"use strict";r(16),Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=(t+=String.fromCharCode(128)).length/4+2,o=Math.ceil(i/16),a=new Array(o),s=0;s<o;s++){a[s]=new Array(16);for(var c=0;c<16;c++)a[s][c]=t.charCodeAt(64*s+4*c)<<24|t.charCodeAt(64*s+4*c+1)<<16|t.charCodeAt(64*s+4*c+2)<<8|t.charCodeAt(64*s+4*c+3)<<0}var d=8*(t.length-1)/Math.pow(2,32),u=8*(t.length-1)>>>0;for(a[o-1][14]=Math.floor(d),a[o-1][15]=u,s=0;s<o;s++){for(var l=new Array(64),p=0;p<16;p++)l[p]=a[s][p];for(p=16;p<64;p++)l[p]=e.q1(l[p-2])+l[p-7]+e.q0(l[p-15])+l[p-16]>>>0;var f=n[0],g=n[1],m=n[2],h=n[3],y=n[4],v=n[5],b=n[6],E=n[7];for(p=0;p<64;p++){var A=E+e.z1(y)+e.Ch(y,v,b)+r[p]+l[p],I=e.z0(f)+e.Maj(f,g,m);E=b,b=v,v=y,y=h+A>>>0,h=m,m=g,g=f,f=A+I>>>0}n[0]=n[0]+f>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+h>>>0,n[4]=n[4]+y>>>0,n[5]=n[5]+v>>>0,n[6]=n[6]+b>>>0,n[7]=n[7]+E>>>0}var T=new Array(n.length);for(E=0;E<n.length;E++)T[E]=("00000000"+n[E].toString(16)).slice(-8);return T.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,r){return e&t^~e&r},e.Maj=function(e,t,r){return e&t^e&r^t&r},e}();t.Sha256=n},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["MN","MN_BM"],"medianet")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(24),r(1),r(16);var n=r(0),i=r(32),o=r(8),a=r(20),s=r(77),c=r(43),d=r(36);let u=(0,s.getRefererInfo)(),l={};function p(){try{return window.top.document.referrer}catch(e){return document.referrer}}function f(e,t){const r=t.refererInfo;let n={domain:(e=e||{}).domain||r.domain,page:e.page||r.page,ref:e.ref||p(),topMostLocation:r.topmostLocation,isTop:e.isTop||r.reachedTop};return Object.assign(n,function(){if(l.pageMeta)return l.pageMeta;let e=g('link[rel="canonical"]',"href"),t=g('meta[property="og:url"]',"content"),r=g('meta[name="twitter:url"]',"content");return l.pageMeta=Object.assign({},e&&{canonical_url:e},t&&{og_url:t},r&&{twitter_url:r}),l.pageMeta}())}function g(e,t){let r=function(e,t){try{let r=(0,n.getWindowTop)().document.querySelector(e);if(null!==r&&r[t])return r[t]}catch(e){}}(e,t);return r&&function(e){let t=(0,n.getWindowTop)().document.createElement("a");return t.href=e,t.href}(r)}function m(e,t){return e.filter(e=>e.type===t)}function h(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function y(e,t){const r=(0,n.deepAccess)(e,"params"),i=(0,n.deepAccess)(t,"gdprConsent"),a=(0,n.deepAccess)(t,"uspConsent"),s=(0,n.deepAccess)(e,"userId"),c=(0,n.deepAccess)(e,"schain")||{},d=S.getWindowSize(),u=!(!i||!i.gdprApplies),l=!!a,p=!!o.config.getConfig("coppa");return Object.assign({},{customer_id:r.cid},{prebid_version:pbjs.version},{gdpr_applies:u},u&&{gdpr_consent_string:i.consentString||""},{usp_applies:l},l&&{usp_consent_string:a||""},{coppa_applies:p},-1!==d.w&&-1!==d.h&&{screen:d},s&&{user_id:s},pbjs.medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,n.isEmpty)(c)&&{schain:c})}function v(e){let t={id:e.bidId,transactionId:e.transactionId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(t.ortb2Imp=e.ortb2Imp);let r=(0,n.deepAccess)(e,"mediaTypes.banner.sizes")||[];const i=(0,n.deepAccess)(e,"mediaTypes.video")||{},o=(0,n.deepAccess)(e,"params.video")||{},s=Object.assign({},o,i);var c;if((0,n.isEmpty)(s)||(t.video=s),r.length>0&&(t.banner=(c=r,(0,n.isArray)(c)&&2===c.length&&!(0,n.isArray)(c[0])?[h(c)]:c.map(e=>h(e)))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){(0,n.logError)("".concat("medianet"," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());let d=parseFloat(e.params.bidfloor||e.params.bidFloor);d&&(t.bidfloor=d);const u=function(e){let t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){const{divId:r}=(0,n.getGptSlotInfoForAdUnitCode)(e);(0,n.isStr)(r)&&(t=document.getElementById(r))}if(t&&t.getBoundingClientRect){const e=t.getBoundingClientRect();let r={};return r.top_left={y:e.top,x:e.left},r.bottom_right={y:e.bottom,x:e.right},r}return null}(e.adUnitCode);if(u&&t.banner&&0!==t.banner.length){let e=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(u);t.ext.coordinates=e,t.ext.viewability=A(u.top_left,E(t.banner)),A(e.top_left,E(t.banner))>.5?t.ext.visibility=1:t.ext.visibility=2}else t.ext.visibility=0;const l=function(e){let t=[];return"function"==typeof e.getFloor&&[a.BANNER,a.VIDEO,a.NATIVE].forEach(r=>{e.mediaTypes.hasOwnProperty(r)&&(r==a.BANNER?e.mediaTypes.banner.sizes.forEach(n=>{b(e,r,n,t)}):b(e,r,"*",t))}),t}(e);return l&&l.length>0&&(t.bidfloors=l),t}function b(e,t,r,n){let i=e.getFloor({currency:"USD",mediaType:t,size:r});r.length>1&&(i.size=r),i.mediaType=t,n.push(i)}function E(e){return e.reduce((e,t)=>t.h*t.w<e.h*e.w?t:e)}function A(e,t){let r=t.w*t.h,n=S.getWindowSize(),i={x:e.x+t.w,y:e.y+t.h};return 0===r||-1===n.w||-1===n.h?0:function(e,t,r,n){return e.x>n.x||t.x<r.x||e.y>n.y||t.y<r.y?0:(Math.min(t.x,n.x)-Math.max(e.x,r.x))*(Math.min(t.y,n.y)-Math.max(e.y,r.y))}(e,i,{x:0,y:0},{x:n.w,y:n.h})/r}function I(e,t){t=(0,n.isArray)(t)&&t||[];let r={logid:"kfk",evtid:"projectevents",project:"prebid"};return r.acid=(0,n.deepAccess)(t,"0.auctionId")||"",r.cid=pbjs.medianetGlobals.cid||"",r.crid=t.map(e=>(0,n.deepAccess)(e,"params.0.crid")||e.adUnitCode).join("|"),r.adunit_count=t.length||0,r.dn=l.urlData.domain||"",r.requrl=l.urlData.page||"",r.istop=l.urlData.isTop||"",r.event=e.name||"",r.value=e.value||"",r.rd=e.related_data||"",r}function T(e,t){let r={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:I(e,t)};(0,n.triggerPixel)((0,n.buildUrl)(r))}function _(e){const t=(0,n.deepAccess)(e,"context")||"",r=(0,n.deepAccess)(e,"vto");"outstream"==t&&r&&(e.renderer=function(e){const t=c.Renderer.install({url:"https://prebid.media.net/video/bundle.js"});return t.setRender((function(e){window.mnet.queue.push((function(){const t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},r=e.dfp_id,i=(0,n.getGptSlotInfoForAdUnitCode)(r).divId||r;window.mnet.mediaNetoutstreamPlayer(e,i,t)}))})),t}())}window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],l.urlData={domain:u.domain,page:u.page,isTop:u.reachedTop},pbjs.medianetGlobals=pbjs.medianetGlobals||{};const S={code:"medianet",gvlid:142,aliases:[{code:"aax",gvlid:720}],supportedMediaTypes:[a.BANNER,a.NATIVE,a.VIDEO],isBidRequestValid:function(e){return e.params?e.params.cid&&(0,n.isStr)(e.params.cid)&&!(0,n.isEmptyStr)(e.params.cid)?(Object.assign(pbjs.medianetGlobals,!pbjs.medianetGlobals.cid&&{cid:e.params.cid}),!0):((0,n.logError)("".concat("medianet"," : cid should be a string")),!1):((0,n.logError)("".concat("medianet"," : Missing bid parameters")),!1)},buildRequests:function(e,t){let r=function(e,t){return{site:f(e[0].params.site,t),ext:y(e[0],t),id:e[0].auctionId,imp:e.map(e=>v(e)),ortb2:t.ortb2,tmax:t.timeout||o.config.getConfig("bidderTimeout")}}(e=(0,d.convertOrtbRequestToProprietaryNative)(e),t);return{method:"POST",url:(n=r.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(r)};var n},interpretResponse:function(e,t){let r=[];if(!e||!e.body)return(0,n.logInfo)("".concat("medianet"," : response is empty")),r;let i=e.body.bidList;return(0,n.isArray)(i)&&0!==i.length?(r=i.filter(e=>function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e)),r.forEach(_),r):((0,n.logInfo)("".concat("medianet"," : no bids")),r)},getUserSyncs:function(e,t){let r=(i=t,!(0,n.isEmpty)(i)&&i[0].body&&i[0].body.ext&&(0,n.isArray)(i[0].body.ext.csUrl)?i[0].body.ext.csUrl:[]);var i;return e.iframeEnabled?m(r,"iframe"):e.pixelEnabled?m(r,"image"):void 0},onTimeout:e=>{try{T({name:"client_timeout",value:e.length,related_data:e[0].timeout||o.config.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:e=>{try{T({name:"client_bid_won",value:e.cpm},[e])}catch(e){}},clearMnData:function(){l={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};t.spec=S,(0,i.registerBidder)(S),window.pbjs.installedModules.push("medianetBidAdapter")},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["RBC","RBC_BM"],"rubicon")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classifiedAsVideo=v,t.determineRubiconVideoSizeId=A,t.encodeParam=S,t.getPriceGranularity=I,t.hasValidSupplyChainParams=_,t.hasValidVideoParams=T,t.masSizeOrdering=E,t.resetRubiConf=void 0,t.resetUserSync=function(){w=!1},t.spec=void 0,r(16),r(1),r(13),r(195),r(196),r(4),r(96),r(30);var n=r(0),i=r(32),o=r(8),a=r(20),s=r(12),c=r(43),d=r(73);let u={};o.config.getConfig("rubicon",e=>{(0,n.mergeDeep)(u,e.rubicon)});var l={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160"};(0,n._each)(l,(e,t)=>l[e]=t);const p={code:"rubicon",gvlid:52,supportedMediaTypes:[a.BANNER,a.VIDEO],isBidRequestValid:function(e){if("object"!=typeof e.params)return!1;for(let t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return(0,n.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;let t=b(e,!0);return!!t&&("video"!==t||T(e))},buildRequests:function(e,t){let r=[];const i=e.filter(e=>"video"===b(e)).map(e=>{e.startTime=(new Date).getTime();const r={id:e.transactionId,test:o.config.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:o.config.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:{[e.bidder]:e.params},video:(0,n.deepAccess)(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===u.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:I(o.config)},bidders:{rubicon:{integration:u.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(r.ext.prebid.aliases={[e.bidder]:"rubicon"});let i,s=(0,d.getGlobal)().installedModules;if(!s||s.length&&-1===s.indexOf("rubiconAnalyticsAdapter")||(0,n.deepSetValue)(r,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||u.disableFloors)i=parseFloat((0,n.deepAccess)(e,"params.floor"));else{let t;try{t=e.getFloor({currency:"USD",mediaType:"video",size:m(e,"video")})}catch(e){(0,n.logError)("Rubicon: getFloor threw an error: ",e)}i="object"!=typeof t||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:parseFloat(t.floor)}if(isNaN(i)||(r.imp[0].bidfloor=i),"object"==typeof e.floorData&&(r.ext.prebid.floors={enabled:!1}),r.imp[0].ext[e.bidder].video.size_id=A(e),function(e,t,r){e&&("object"==typeof o.config.getConfig("app")?e.app=o.config.getConfig("app"):e.site={page:f(t,r)},"object"==typeof o.config.getConfig("device")&&(e.device=o.config.getConfig("device")),t.params.video.language&&["site","device"].forEach((function(r){e[r]&&("site"===r?e[r].content=Object.assign({language:t.params.video.language},e[r].content):e[r]=Object.assign({language:t.params.video.language},e[r]))})))}(r,e,t),function(e,t){"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));const r=m(t,"video");e.imp[0].video.w=r[0],e.imp[0].video.h=r[1]}(r,e),t.gdprConsent){let e;"boolean"==typeof t.gdprConsent.gdprApplies&&(e=t.gdprConsent.gdprApplies?1:0),(0,n.deepSetValue)(r,"regs.ext.gdpr",e),(0,n.deepSetValue)(r,"user.ext.consent",t.gdprConsent.consentString)}t.uspConsent&&(0,n.deepSetValue)(r,"regs.ext.us_privacy",t.uspConsent);const c=(0,n.deepAccess)(t,"bids.0.userIdAsEids");c&&c.length&&(0,n.deepSetValue)(r,"user.ext.eids",c);const l=o.config.getConfig("user.id");l&&(0,n.deepSetValue)(r,"user.id",l),!0===o.config.getConfig("coppa")&&(0,n.deepSetValue)(r,"regs.coppa",1),e.schain&&_(e.schain)&&(0,n.deepSetValue)(r,"source.ext.schain",e.schain);const p=o.config.getConfig("multibid");return p&&(0,n.deepSetValue)(r,"ext.prebid.multibid",p.reduce((e,t)=>{let r={};return Object.keys(t).forEach(e=>{r[e.toLowerCase()]=t[e]}),e.push(r),e},[])),h(e,a.VIDEO,r),(0,n.deepSetValue)(r.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),r.ext.prebid.storedrequest=void 0,r.imp[0].ext.prebid.storedrequest=void 0,{method:"POST",url:"https://".concat(u.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:r,bidRequest:e}});if(!0!==o.config.getConfig("rubicon.singleRequest"))r=i.concat(e.filter(e=>"banner"===b(e)).map(e=>{const r=p.createSlotParams(e,t);return{method:"GET",url:"https://".concat(u.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:p.getOrderedParams(r).reduce((e,t)=>{const i=r[t];return(0,n.isStr)(i)&&""!==i||(0,n.isNumber)(i)?"".concat(e).concat(S(t,i),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}}));else{const o=e.filter(e=>"banner"===b(e)).reduce((e,t)=>((e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e),{}),a=10;r=i.concat(Object.keys(o).reduce((e,r)=>{var i,s;return(i=o[r],s=a,i.map((e,t)=>t%s==0?i.slice(t,t+s):null).filter(e=>e)).forEach(r=>{const i=p.combineSlotUrlParams(r.map(e=>p.createSlotParams(e,t)));e.push({method:"GET",url:"https://".concat(u.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:p.getOrderedParams(i).reduce((e,t)=>{const r=i[t];return(0,n.isStr)(r)&&""!==r||(0,n.isNumber)(r)?"".concat(e).concat(S(t,r),"&"):e},"")+"slots=".concat(r.length,"&rand=").concat(Math.random()),bidRequest:r})}),e},[]))}return r},getOrderedParams:function(e){const t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter(e=>n.test(e))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter(e=>t.test(e))).concat(Object.keys(e).filter(e=>r.test(e))).concat(["tk_flint","x_source.tid","l_pb_bid_id","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter(e=>-1===i.indexOf(e)))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];const t=e.reduce((function(t,r,n){return Object.keys(r).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(n,1,r[i])})),t}),{}),r=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){const n=t[e].join(";"),i=n.match(r);t[e]=i?i[1]:n})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();const r=e.params,i=m(e,"banner"),[c,d]=r.latLong||[],l={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:(r.floor=parseFloat(r.floor))>=.01?r.floor:void 0,rp_secure:"1",tk_flint:"".concat(u.int_type||"pbjs_lite","_v7.33.0"),"x_source.tid":e.transactionId,l_pb_bid_id:e.bidId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(c))?void 0:parseFloat(c).toFixed(4),"p_geo.longitude":isNaN(parseFloat(d))?void 0:parseFloat(d).toFixed(4),"tg_fl.eid":e.code,rf:f(e,t)};if("function"==typeof e.getFloor&&!u.disableFloors){let t;try{t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,n.logError)("Rubicon: getFloor threw an error: ",e)}l.rp_hard_floor="object"!=typeof t||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:t.floor}let g={1:"atf",3:"btf"}[(0,n.deepAccess)(e,"mediaTypes.banner.pos")]||"";l.p_pos="atf"===r.position||"btf"===r.position?r.position:g;const y=o.config.getConfig("user.id");return y&&(l.ppuid=y),e.userIdAsEids&&e.userIdAsEids.forEach(e=>{try{if("adserver.org"===e.source?(l.tpid_tdid=e.uids[0].id,l["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(l["tpid_liveintent.com"]=e.uids[0].id,l["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(l["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?l.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?l["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):l["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!l.ppuid){const t=(0,s.find)(e.uids,e=>e.ext&&"ppuid"===e.ext.stype);t&&t.id&&(l.ppuid=t.id)}}catch(t){(0,n.logWarn)("Rubicon: error reading eid:",e,t)}}),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(l.gdpr=Number(t.gdprConsent.gdprApplies)),l.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(l.us_privacy=encodeURIComponent(t.uspConsent)),l.rp_maxbids=t.bidLimit||1,h(e,a.BANNER,l),!0===o.config.getConfig("coppa")&&(l.coppa=1),e.schain&&_(e.schain)&&(l.rp_schain=p.serializeSupplyChain(e.schain)),l},serializeSupplyChain:function(e){if(!_(e))return"";const{ver:t,complete:r,nodes:n}=e;return"".concat(t,",").concat(r,"!").concat(p.serializeSupplyChainNodes(n))},serializeSupplyChainNodes:function(e){const t=["asi","sid","hp","rid","name","domain"];return e.map(e=>t.map(t=>encodeURIComponent(e[t]||"")).join(",")).join("!")},interpretResponse:function(e,t){let{bidRequest:r}=t;if(!(e=e.body)||"object"!=typeof e)return[];if(e.seatbid){const t=(0,n.deepAccess)(e,"ext.errors.rubicon");Array.isArray(t)&&t.length>0&&(0,n.logWarn)("Rubicon: Error in video response");const i=[];return e.seatbid.forEach(t=>{(t.bid||[]).forEach(o=>{let s={requestId:r.bidId,currency:e.cur||"USD",creativeId:o.crid,cpm:o.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==u.netRevenue,width:o.w||(0,n.deepAccess)(r,"mediaTypes.video.w")||(0,n.deepAccess)(r,"params.video.playerWidth"),height:o.h||(0,n.deepAccess)(r,"mediaTypes.video.h")||(0,n.deepAccess)(r,"params.video.playerHeight")};o.id&&(s.seatBidId=o.id),o.dealid&&(s.dealId=o.dealid),o.adomain&&(0,n.deepSetValue)(s,"meta.advertiserDomains",Array.isArray(o.adomain)?o.adomain:[o.adomain]),(0,n.deepAccess)(o,"ext.bidder.rp.advid")&&(0,n.deepSetValue)(s,"meta.advertiserId",o.ext.bidder.rp.advid);let d=(0,n.deepAccess)(e,"ext.responsetimemillis.rubicon");if(r&&d&&(r.serverResponseTimeMs=d),(0,n.deepAccess)(o,"ext.prebid.type")===a.VIDEO){s.mediaType=a.VIDEO,(0,n.deepSetValue)(s,"meta.mediaType",a.VIDEO);const e=(0,n.deepAccess)(o,"ext.prebid.targeting");e&&"object"==typeof e&&(s.adserverTargeting=e),o.ext.prebid.cache&&"object"==typeof o.ext.prebid.cache.vastXml&&o.ext.prebid.cache.vastXml.cacheId&&o.ext.prebid.cache.vastXml.url?(s.videoCacheKey=o.ext.prebid.cache.vastXml.cacheId,s.vastUrl=o.ext.prebid.cache.vastXml.url):e&&e.hb_uuid&&e.hb_cache_host&&e.hb_cache_path&&(s.videoCacheKey=e.hb_uuid,s.vastUrl="https://".concat(e.hb_cache_host).concat(e.hb_cache_path,"?uuid=").concat(e.hb_uuid)),o.adm&&(s.vastXml=o.adm),o.nurl&&(s.vastUrl=o.nurl),!s.vastUrl&&o.nurl&&(s.vastUrl=o.nurl),"outstream"===(0,n.deepAccess)(r,"mediaTypes.video.context").toLowerCase()&&(s.renderer=function(e){const t=c.Renderer.install({id:e.adId,url:u.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:u.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(g)}catch(e){(0,n.logWarn)("Prebid Error calling setRender on renderer",e)}return t}(s))}else(0,n.logWarn)("Rubicon: video response received non-video media type");i.push(s)})}),i}let i,o=e.ads,s=0;return"object"!=typeof r||Array.isArray(r)||"video"!==b(r)||"object"!=typeof o||(o=o[r.adUnitCode]),!Array.isArray(o)||o.length<1?[]:o.reduce((t,o,c)=>{if(o.impression_id&&i===o.impression_id?s++:i=o.impression_id,"ok"!==o.status)return t;const d=Array.isArray(r)?r[c-s]:r;if(d&&"object"==typeof d){let e={requestId:d.bidId,currency:"USD",creativeId:o.creative_id||"".concat(o.network||"","-").concat(o.advertiser||""),cpm:o.cpm||0,dealId:o.deal,ttl:300,netRevenue:!1!==u.netRevenue,rubicon:{advertiserId:o.advertiser,networkId:o.network},meta:{advertiserId:o.advertiser,networkId:o.network,mediaType:a.BANNER}};o.creative_type&&(e.mediaType=o.creative_type),o.adomain&&(e.meta.advertiserDomains=Array.isArray(o.adomain)?o.adomain:[o.adomain]),o.creative_type===a.VIDEO?(e.width=d.params.video.playerWidth,e.height=d.params.video.playerHeight,e.vastUrl=o.creative_depot_url,e.impression_id=o.impression_id,e.videoCacheKey=o.impression_id):(e.ad=(p=o.script,f=o.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(f,"'>\n<script type='text/javascript'>").concat(p,"<\/script>\n</div>\n</body>\n</html>")),[e.width,e.height]=l[o.size_id].split("x").map(e=>Number(e))),e.rubiconTargeting=(Array.isArray(o.targeting)?o.targeting:[]).reduce((e,t)=>(e[t.key]=t.values[0],e),{rpfl_elemid:d.adUnitCode}),t.push(e)}else(0,n.logError)("Rubicon: bidRequest undefined at index position:".concat(c),r,e);var p,f;return t},[]).sort((e,t)=>(t.cpm||0)-(e.cpm||0))},getUserSyncs:function(e,t,r,i){if(!w&&e.iframeEnabled){let e={};return r&&("boolean"==typeof r.gdprApplies&&(e.gdpr=Number(r.gdprApplies)),"string"==typeof r.consentString&&(e.gdpr_consent=r.consentString)),i&&(e.us_privacy=encodeURIComponent(i)),e=Object.keys(e).length?"?".concat((0,n.formatQS)(e)):"",w=!0,{type:"iframe",url:"https://".concat(u.syncHost||"eus",".rubiconproject.com/usync.html")+e}}},transformBidParams:function(e,t){return(0,n.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function f(e,t){let r;return r=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?r.replace(/^http:/i,"https:"):r}function g(e){const t=document.getElementById(e.adUnitCode);!function(e){const t=e.querySelector("div[id^='google_ads']");t&&t.style.setProperty("display","none")}(t),function(e){const t=e.querySelector("script[id^='sas_script']"),r=t&&t.nextSibling;r&&"iframe"===r.localName&&r.style.setProperty("display","none")}(t);const r=e.renderer.getConfig();e.renderer.push(()=>{window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:r.align||"center",position:r.position||"append"},closeButton:r.closeButton||!1,label:r.label||void 0,collapse:r.collapse||!0})})}function m(e,t){let r=e.params;if("video"===t){let t=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?t=[r.video.playerWidth,r.video.playerHeight]:Array.isArray((0,n.deepAccess)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?t=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(t=e.sizes[0]),t}let i=[];return Array.isArray(r.sizes)?i=r.sizes:void 0!==(0,n.deepAccess)(e,"mediaTypes.banner.sizes")?i=y(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=y(e.sizes):(0,n.logWarn)("Rubicon: no sizes are setup or found"),E(i)}function h(e,t,r){const i={user:{ext:{data:{...e.params.visitor}}},site:{ext:{data:{...e.params.inventory}}}};e.params.keywords&&(i.site.keywords=(0,n.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);let o=(0,n.mergeDeep)({},e.ortb2||{},i),s=(0,n.deepAccess)(e.ortb2Imp,"ext")||{},c=(0,n.deepAccess)(e.ortb2Imp,"ext.data")||{};const d=(0,n.deepAccess)(e,"ortb2Imp.ext.gpid"),u={user:[4],site:[1,2,5,6]},l={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},p=function(e,t,r){return"data"===t&&Array.isArray(e)?e.filter(e=>e.segment&&(0,n.deepAccess)(e,"ext.segtax")&&u[r]&&-1!==u[r].indexOf((0,n.deepAccess)(e,"ext.segtax"))).map(e=>{let t=e.segment.filter(e=>e.id).reduce((e,t)=>(e.push(t.id),e),[]);if(t.length>0)return t.toString()}).toString():"object"==typeof e&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter(e=>{if("object"!=typeof e&&void 0!==e)return e.toString();(0,n.logWarn)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")}).toString():e.toString()},f=function(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=p(e,n,t),a=l[n]&&i?"".concat(l[n]):"data"===n?"".concat(l[t],"iab"):"".concat(l[t]).concat(n);r[a]=r[a]?r[a].concat(",",o):o};t===a.BANNER?(["site","user"].forEach(e=>{Object.keys(o[e]).forEach(t=>{"site"===e&&"content"===t&&o[e][t].data?f(o[e][t].data,e,"data"):"ext"!==t?f(o[e][t],e,t):o[e][t].data&&Object.keys(o[e].ext.data).forEach(t=>{f(o[e].ext.data[t],e,t,!1)})})}),Object.keys(c).forEach(e=>{"adserver"!==e?f(c[e],"site",e):"gam"===c[e].name&&f(c[e].adslot,name,e)}),d&&(r.p_gpid=d),r["tg_i.pbadslot"]&&delete r["tg_i.dfp_ad_unit_code"]):(Object.keys(s).length&&(0,n.mergeDeep)(r.imp[0].ext,s),d&&(r.imp[0].ext.gpid=d),(0,n.mergeDeep)(r,o))}function y(e){return(0,n.parseSizesInput)(e).reduce((e,t)=>{let r=parseInt(l[t],10);return r&&e.push(r),e},[])}function v(e){let t=void 0!==(0,n.deepAccess)(e,"mediaTypes.".concat(a.VIDEO)),r=void 0!==(0,n.deepAccess)(e,"mediaTypes.".concat(a.BANNER)),i="object"!=typeof(0,n.deepAccess)(e,"params.video");return r&&i&&(t=!1),t&&i&&(0,n.deepSetValue)(e,"params.video",{}),t}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v(e)?-1===["outstream","instream"].indexOf((0,n.deepAccess)(e,"mediaTypes.".concat(a.VIDEO,".context")))?void(t&&(0,n.logError)("Rubicon: mediaTypes.video.context must be outstream or instream")):m(e,"video").length<2?void(t&&(0,n.logError)("Rubicon: could not determine the playerSize of the video")):(t&&(0,n.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===m(e,"banner").length?void(t&&(0,n.logError)("Rubicon: could not determine the sizes for banner request")):(t&&(0,n.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function E(e){const t=[15,2,9];return e.sort((e,r)=>{const n=t.indexOf(e),i=t.indexOf(r);return n>-1||i>-1?-1===n?1:-1===i?-1:n-i:e-r})}function A(e){let t=parseInt((0,n.deepAccess)(e,"params.video.size_id"));return isNaN(t)?"outstream"===(0,n.deepAccess)(e,"mediaTypes.".concat(a.VIDEO,".context"))?203:201:t}function I(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function T(e){let t=!0,r=Object.prototype.toString.call([]);var i={mimes:r,protocols:r,linearity:Object.prototype.toString.call(0),api:r};return Object.keys(i).forEach((function(r){Object.prototype.toString.call((0,n.deepAccess)(e,"mediaTypes.video."+r))!==i[r]&&(t=!1,(0,n.logError)("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+i[r]))})),t}function _(e){let t=!1;const r=["asi","sid","hp"];return e.nodes?(t=e.nodes.reduce((e,t)=>e?r.every(e=>t.hasOwnProperty(e)):e,!0),t||(0,n.logError)("Rubicon: required schain params missing"),t):t}function S(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}t.spec=p,t.resetRubiConf=()=>u={};var w=!1;(0,i.registerBidder)(p),window.pbjs.installedModules.push("rubiconBidAdapter")},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["AYL","AYL_BM"],"adyoulike")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(16),r(24),r(1),r(13),r(30),r(197);var n=r(0),i=r(32),o=r(322),a=r(12),s=r(20),c=r(36);const d={image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1},cta:{required:!1}},u={code:"adyoulike",gvlid:259,supportedMediaTypes:[s.BANNER,s.NATIVE,s.VIDEO],aliases:["ayl"],isBidRequestValid:function(e){const t=m(g(e)),r=t.width>0&&t.height>0;return e.params&&e.params.placement&&(r||e.mediaTypes&&e.mediaTypes.native)},buildRequests:function(e,t){e=(0,c.convertOrtbRequestToProprietaryNative)(e);let r=!1;const i={Version:"1.0",Bids:e.reduce((e,t)=>{let i=function(e){return(0,n.deepAccess)(e,"mediaTypes.banner")?s.BANNER:(0,n.deepAccess)(e,"mediaTypes.video")?s.VIDEO:(0,n.deepAccess)(e,"mediaTypes.native")?s.NATIVE:void 0}(t),o=g(t),a=m(o);if(e[t.bidId]={},e[t.bidId].PlacementID=t.params.placement,e[t.bidId].TransactionID=t.transactionId,e[t.bidId].Width=a.width,e[t.bidId].Height=a.height,e[t.bidId].AvailableSizes=o.join(","),"function"==typeof t.getFloor&&(e[t.bidId].Pricing=function(e,t,r){const n=e.getFloor({currency:"USD",mediaType:r,size:[t.width,t.height]});if(!isNaN(n.floor)&&"USD"===n.currency)return n.floor}(t,a,i)),t.schain&&(e[t.bidId].SChain=t.schain),i===s.NATIVE){let r=t.mediaTypes.native;"image"===r.type&&(r=Object.assign({},d,r)),r.clickUrl={required:!0},e[t.bidId].Native=r}if(i===s.VIDEO){r=!0,e[t.bidId].Video=t.mediaTypes.video;const n=t.mediaTypes.video.playerSize;Array.isArray(n)&&!Array.isArray(n[0])&&(e[t.bidId].Video.playerSize=[n])}return e},{}),PageRefreshed:l()};t.gdprConsent&&(i.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:"boolean"==typeof t.gdprConsent.gdprApplies?t.gdprConsent.gdprApplies:null}),t.uspConsent&&(i.uspConsent=t.uspConsent),t.ortb2&&(i.ortb2=t.ortb2),(0,n.deepAccess)(t,"userId")&&(i.userId=(0,o.createEidsArray)(t.userId));const a=JSON.stringify(i);return{method:"POST",url:p(e,t,r),data:a,options:{withCredentials:!0}}},interpretResponse:function(e,t){const r=[];var i={};try{i=JSON.parse(t.data).Bids}catch(e){}return e.body.forEach(e=>{const t=function(e,t){if(!e||!e.Ad&&!e.Native&&!e.Vast)return;const r=t&&t[e.BidID];r&&(e.Width&&"0"!==e.Width||(e.Width=r.Width),e.Height&&"0"!==e.Height||(e.Height=r.Height));const i={requestId:e.BidID,ttl:3600,creativeId:e.CreativeID,cpm:e.Price,netRevenue:!0,currency:"USD",meta:e.Meta||{advertiserDomains:[]}},o=e.Vast;return o?(i.width=e.Width,i.height=e.Height,i.vastXml=window.atob(o),i.mediaType="video"):r.Native?(i.native=function(e,t){if("object"==typeof e.Native)return e.Native;const r={};var i={},o={};if("string"==typeof e.Ad){i=JSON.parse(e.Ad.match(/\/\*PREBID\*\/(.*)\/\*PREBID\*\//)[1]),o=i.Content.Preview.Text;var a=i.TrackingPrefix+"/pixel?event_kind=IMPRESSION&attempt="+i.Attempt,s=i.TrackingPrefix+"/pixel?event_kind=INSERTION&attempt="+i.Attempt;i.Campaign&&(a+="&campaign="+i.Campaign,s+="&campaign="+i.Campaign),r.clickUrl=i.TrackingPrefix+"/ar?event_kind=CLICK&attempt="+i.Attempt+"&campaign="+i.Campaign+"&url="+encodeURIComponent(i.Content.Landing.Url),i.OnEvents?(r.clickTrackers=v(i.OnEvents.CLICK),r.impressionTrackers=v(i.OnEvents.IMPRESSION),r.javascriptTrackers=v(i.OnEvents.IMPRESSION,!0)):r.impressionTrackers=[],r.impressionTrackers.push(a,s)}return Object.keys(t).map((function(a,s){switch(a){case"title":r[a]=o.TITLE;break;case"body":r[a]=o.DESCRIPTION;break;case"cta":r[a]=o.CALLTOACTION;break;case"sponsoredBy":r[a]=i.Content.Preview.Sponsor.Name;break;case"image":const s=t.image.sizes||[];s.length||(s[0]=e.Width||300,s[1]=e.Height||250);const c=y(i,(0,n.deepAccess)(i,"Content.Preview.Thumbnail.Image"),s[0],s[1]);c&&(r[a]={url:c,width:s[0],height:s[1]});break;case"icon":const d=t.icon.sizes||[];d.length||(d[0]=50,d[1]=50);const u=y(i,(0,n.deepAccess)(i,"Content.Preview.Sponsor.Logo.Resource"),d[0],d[1]);u&&(r[a]={url:u,width:d[0],height:d[1]});break;case"privacyIcon":r[a]=y(i,(0,n.deepAccess)(i,"Content.Preview.Credit.Logo.Resource"),25,25);break;case"privacyLink":r[a]=(0,n.deepAccess)(i,"Content.Preview.Credit.Url")}})),r}(e,r.Native),i.mediaType="native"):(i.width=e.Width,i.height=e.Height,i.ad=e.Ad),i}(e,i);t&&r.push(t)}),r}};function l(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}function p(e,t,r){let i=function(e){let t=(0,a.find)(e,e=>e.params.DC);return t?"-"+t.params.DC:""}(e);const o=r?"/hb-api/prebid-video/v1":"/hb-api/prebid/v1";return(0,n.buildUrl)({protocol:"https",host:"".concat("hb-api").concat(i,".omnitagjs.com"),pathname:o,search:f(t)})}function f(e){var t;const r={};if(e){var n;const t=e.refererInfo;t&&(t.location&&(r.RefererUrl=encodeURIComponent(t.location),t.reachedTop||(r.SafeFrame=!0)),r.PageUrl=encodeURIComponent(t.topmostLocation),r.PageReferrer=encodeURIComponent(t.location));const i=null===(n=e.ortb2)||void 0===n?void 0:n.site;i&&(r.PageUrl=encodeURIComponent(i.page||(null==t?void 0:t.topmostLocation)),r.PageReferrer=encodeURIComponent(i.ref||(null==t?void 0:t.location)))}const i=null==e||null===(t=e.refererInfo)||void 0===t?void 0:t.canonicalUrl;return i&&(r.CanonicalUrl=encodeURIComponent(i)),r}function g(e){let t=e.sizes||[];return e.mediaTypes&&e.mediaTypes.banner&&(t=e.mediaTypes.banner.sizes||[]),e.params&&Array.isArray(e.params.size)&&(t=e.params.size,Array.isArray(t[0])||(t=[t])),(0,n.parseSizesInput)(t)}function m(e){const t={},r=e[0];if("string"!=typeof r)return t;const n=r.toUpperCase().split("X"),i=parseInt(n[0],10);i&&(t.width=i);const o=parseInt(n[1],10);return o&&(t.height=o),t}function h(e){return e?"https://blobs.omnitagjs.com/blobs/"+e.substr(16,2)+"/"+e.substr(16)+"/"+e:""}function y(e,t,r,n){let i="";if(t&&t.Kind)switch(t.Kind){case"INTERNAL":i=h(t.Data.Internal.BlobReference.Uid);break;case"EXTERNAL":const o=e.DynamicPrefix;let a=t.Data.External.Url;if(a=a.replace(/\[height\]/i,""+n),a=a.replace(/\[width\]/i,""+r),a.indexOf(o)>=0){const e=/.*url=([^&]*)/gm.exec(a);i=e?e[1]:"",i||(i=h(/.*key=([^&]*)/gm.exec(a)[1]))}else i=a}return i}function v(e,t){const r=[];return e?(e.map((e,n)=>{(t&&"JAVASCRIPT_URL"===e.Kind||!t&&"PIXEL_URL"===e.Kind)&&r.push(e.Url)}),r):r}t.spec=u,(0,i.registerBidder)(u),window.pbjs.installedModules.push("adyoulikeBidAdapter")},function(e,t){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_IDS_CONFIG=void 0,t.buildEidPermissions=function(e){let t=[];return e.filter(e=>(0,n.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length).forEach(e=>{Object.keys(e.idObj).forEach(r=>{(0,n.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&(0,n.deepAccess)(i,r+".source")&&t.push({source:i[r].source,bidders:e.config.bidders})})}),t},t.createEidsArray=function(e){let t=[];for(const r in e)if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else if(Array.isArray(e[r]))e[r].forEach((e,n,i)=>{const a=o(e,r);a&&t.push(a)});else{const n=o(e[r],r);n&&t.push(n)}return t},r(1);var n=r(0);const i={growthCodeId:{getValue:function(e){return e.gc_id},source:"growthcode.io",atype:1,getUidExt:function(e){const t=(0,n.pick)(e,["h1","h2","h3"]);if(Object.keys(t).length)return t}},trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){let t="";return e&&e.ext&&e.ext.DeviceID&&(t=e.ext.DeviceID),t},getUidExt:function(e){return e&&e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){const t=(0,n.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{atype:3,getSource:function(e){var t;return null!=e&&null!==(t=e.ext)&&void 0!==t&&t.ssp?"".concat(e.ext.ssp,".merkleinc.com"):"merkleinc.com"},getValue:function(e){return e.id},getUidExt:function(e){return e.keyID?{keyID:e.keyID}:e.ext?e.ext:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imppid:{source:"ppid.intimatemerger.com",atype:1},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1},"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}},tncid:{source:"thenewco.it",atype:3},gravitompId:{source:"gravito.net",atype:1},cpexId:{source:"czechadid.cz",atype:1},oneKeyData:{getValue:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0])return e.identifiers[0].value},source:"paf",atype:1,getEidExt:function(e){if(e&&e.preferences)return{preferences:e.preferences}},getUidExt:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0]){const t=e.identifiers[0];return{version:t.version,type:t.type,source:t.source}}}}};function o(e,t){const r=i[t];if(r&&e){let t={};t.source=(0,n.isFn)(r.getSource)?r.getSource(e):r.source;const i=(0,n.isFn)(r.getValue)?r.getValue(e):e;if((0,n.isStr)(i)){const o={id:i,atype:r.atype};if((0,n.isFn)(r.getUidExt)){const t=r.getUidExt(e);t&&(o.ext=t)}if(t.uids=[o],(0,n.isFn)(r.getEidExt)){const n=r.getEidExt(e);n&&(t.ext=n)}return t}}return null}t.USER_IDS_CONFIG=i},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["TDS","TDS_BM"],"teads")},function(e,t,r){"use strict";r(4),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(24),r(1);var n=r(32),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(0));let o=window.top;const a={code:"teads",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){return function(e){let t=!1;if(void 0!==e.params){let r=u(i.getValue(e.params,"placementId")),n=u(i.getValue(e.params,"pageId"));t=r&&n}return t||i.logWarn("Teads placementId and pageId parameters are required. Bid aborted."),t}(e)},buildRequests:function(e,t){const r=e.map(c),n={referrer:s(t),data:r,deviceWidth:screen.width};return{method:"POST",url:"//a.teads.tv/hb/bid-request",data:JSON.stringify(n)}},interpretResponse:function(e){const t=[];return(e=e.body).responses&&e.responses.forEach((function(e){const r={bidderCode:a.code,cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,ad:e.ad,requestId:e.bidId,creativeId:e.creativeId};t.push(r)})),t},getUserSyncs:function(e,t,r){if(e.iframeEnabled)return[{type:"iframe",url:"//sync.teads.tv/iframe"}]}};function s(e){let t="";return e&&e.refererInfo&&e.refererInfo.page&&(t=e.refererInfo.page),t}function c(e){const t={};let r=i.getValue(e.params,"placementId"),n=i.getBidIdParameter("adUnitCode",e),a=i.generateUUID(),s=i.getValue(e.params,"pageId");return function(e,t,r,n){o.teadsAnalyticsCache||(o.teadsAnalyticsCache={mappedPidsTrIdsAndAdUnitCode:[],getIdByAdUnitCode:d}),o.teadsAnalyticsCache.mappedPidsTrIdsAndAdUnitCode.push({adUnitCode:r,pid:e,pageId:t,transactionId:n})}(r,s,n,a),t.sizes=i.parseSizesInput(e.sizes),t.bidId=i.getBidIdParameter("bidId",e),t.bidderRequestId=i.getBidIdParameter("bidderRequestId",e),t.placementId=parseInt(r,10),t.pageId=parseInt(s,10),t.adUnitCode=n,t.auctionId=i.generateUUID(),t.transactionId=a,t}function d(e,t){let r=o.teadsAnalyticsCache.mappedPidsTrIdsAndAdUnitCode.filter(t=>t.adUnitCode===e).map(e=>e[t]);return r.length>0?r[0]:null}function u(e){return parseInt(e)>0}t.spec=a,(0,n.registerBidder)(a)},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["SNB","SNB_BM"],"sonobi")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getPlatform=y,t.spec=t._isInbounds=void 0,r(13),r(24),r(4),r(1);var n=r(32),i=r(0),o=r(20),a=r(8),s=r(43),c=r(74);const d=(0,i.generateUUID)(),u={code:"sonobi",gvlid:104,supportedMediaTypes:[o.BANNER,o.VIDEO],isBidRequestValid:e=>{if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!(0,i.deepAccess)(e,"mediaTypes.banner")&&!(0,i.deepAccess)(e,"mediaTypes.video"))return!1;if((0,i.deepAccess)(e,"mediaTypes.banner")){if(!(0,i.deepAccess)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if((0,i.deepAccess)(e,"mediaTypes.video")){if("outstream"===(0,i.deepAccess)(e,"mediaTypes.video.context")&&!e.params.sizes)return!1;if("instream"===(0,i.deepAccess)(e,"mediaTypes.video.context")&&!(0,i.deepAccess)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:(e,t)=>{const r=e.map(e=>{let t;(0,i.deepAccess)(e,"mediaTypes.video")?t="video":(0,i.deepAccess)(e,"mediaTypes.banner")&&(t="display");let r=function(e){return e.params.ad_unit?e.params.ad_unit:e.params.placement_id}(e);return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(r)?(r="/"===r.charAt(0)?r:"/"+r,{["".concat(r,"|").concat(e.bidId)]:"".concat(l(e),"|").concat(p(e)).concat(f(e)).concat(g(t))}):/^[0-9a-fA-F]{20}$/.test(r)&&20===r.length?{[e.bidId]:"".concat(r,"|").concat(l(e),"|").concat(p(e)).concat(f(e)).concat(g(t))}:void(0,i.logError)("The ad unit code or Sonobi Placement id for slot ".concat(e.bidId," is invalid"))});let n={};r.forEach(e=>{Object.assign(n,e)});const o={key_maker:JSON.stringify(n),ref:t.refererInfo.page,s:(0,i.generateUUID)(),pv:d,vp:y(),lib_name:"prebid",lib_v:"7.33.0",us:0},s=t.ortb2;if(s&&(o.fpd=JSON.stringify(s)),a.config.getConfig("userSync")&&a.config.getConfig("userSync").syncsPerBidder&&(o.us=a.config.getConfig("userSync").syncsPerBidder),c.userSync.canBidderRegisterSync("iframe","sonobi")?o.ius=1:o.ius=0,(0,i.deepAccess)(e[0],"params.hfa")&&(o.hfa=(0,i.deepAccess)(e[0],"params.hfa")),e[0].params.referrer&&(o.ref=e[0].params.referrer),t&&t.gdprConsent&&(o.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(o.consent_string=t.gdprConsent.consentString)),e[0].schain&&(o.schain=JSON.stringify(e[0].schain)),(0,i.deepAccess)(e[0],"userId")&&Object.keys(e[0].userId).length>0){const t=(0,i.deepClone)(e[0].userId);t.id5id&&(t.id5id=(0,i.deepAccess)(t,"id5id.uid")),o.userid=JSON.stringify(t)}const u=(0,i.deepAccess)(e[0],"userIdAsEids");Array.isArray(u)&&u.length>0&&(o.eids=JSON.stringify(u));let m=e[0].params.keywords;if(m&&(o.kw=m),t&&t.uspConsent&&(o.us_privacy=t.uspConsent),!0===a.config.getConfig("coppa")?o.coppa=1:o.coppa=0,(0,i.isEmpty)(n))return null;let h="https://apex.go.sonobi.com/trinity.json";return(0,i.deepAccess)(e[0],"params.bid_request_url")&&(h=(0,i.deepAccess)(e[0],"params.bid_request_url")),{method:"GET",url:h,withCredentials:!0,data:o,bidderRequests:e}},interpretResponse:(e,t)=>{const r=e.body,n=[],o=t.data.ref;return 0===Object.keys(r.slots).length||Object.keys(r.slots).forEach(e=>{const a=r.slots[e],c=e.split("|").slice(-1)[0],d=function(e,t){for(let r=0;r<e.length;r++)if(e[r].bidId===t)return e[r]}(t.bidderRequests,c);let u=null;"video"===a.sbi_ct&&(u="video","outstream"===(0,i.deepAccess)(d,"mediaTypes.video.context")&&(u="outstream"));const l=m(u,o);if(a.sbi_aid&&a.sbi_mouse&&a.sbi_size){const[e=1,t=1]=a.sbi_size.split("x");let o=[];a.sbi_adomain&&(o=[a.sbi_adomain]);const p={requestId:c,cpm:Number(a.sbi_mouse),width:Number(e),height:Number(t),ad:l(r.sbi_dc,a.sbi_aid),ttl:500,creativeId:a.sbi_crid||a.sbi_aid,aid:a.sbi_aid,netRevenue:!0,currency:"USD",meta:{advertiserDomains:o}};if(a.sbi_dozer&&(p.dealId=a.sbi_dozer),"video"===u)p.mediaType="video",p.vastUrl=l(r.sbi_dc,a.sbi_aid),delete p.ad,delete p.width,delete p.height;else if("outstream"===u&&d){delete p.ad,p.mediaType="video",p.vastUrl=l(r.sbi_dc,a.sbi_aid),p.renderer=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=s.Renderer.install({id:t.aid,url:"https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",config:r,loaded:!1,adUnitCode:e});try{n.setRender(v)}catch(e){(0,i.logWarn)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:()=>(0,i.logMessage)("Sonobi outstream video impression event"),loaded:()=>(0,i.logMessage)("Sonobi outstream video loaded event"),ended:()=>{(0,i.logMessage)("Sonobi outstream renderer video event")}}),n}(d.adUnitCode,p,(0,i.deepAccess)(d,"renderer.options"));let e=(0,i.deepAccess)(d,"params.sizes");Array.isArray(e)&&Array.isArray(e[0])&&(e=e[0]),e&&(p.width=e[0],p.height=e[1])}n.push(p)}}),n},getUserSyncs:(e,t,r,n)=>{const i=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach(e=>{i.push({type:e.type,url:e.url})})}catch(e){}return i}};function l(e){return(0,i.deepAccess)(e,"mediaTypes.video")?"":e.params.sizes?(0,i.parseSizesInput)(e.params.sizes).join(","):(0,i.deepAccess)(e,"mediaTypes.banner.sizes")?(0,i.parseSizesInput)((0,i.deepAccess)(e,"mediaTypes.banner.sizes")).join(","):e.sizes?(0,i.parseSizesInput)(e.sizes).join(","):void 0}function p(e){const t=function(e){if(!(0,i.isFn)(e.getFloor))return e.params.floor?e.params.floor:null;let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,i.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:""}(e);return t?"f=".concat(t,","):""}function f(e){const t=(0,i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot")||(0,i.deepAccess)((0,i.getGptSlotInfoForAdUnitCode)(e.adUnitCode),"gptSlot")||e.params.ad_unit;return t?"gpid=".concat(t,","):""}function g(e){let t="";return"video"===e?t="c=v,":"display"===e&&(t="c=d,"),t}t.spec=u;const m=(e,t)=>(r,n)=>"video"===e||"outstream"===e?function(e,t,r){return"https://".concat(e,"apex.go.sonobi.com/vast.xml?vid=").concat(t,"&ref=").concat(encodeURIComponent(r))}(r,n,t):'<script type="text/javascript" src="'+"https://".concat(r,"apex.go.sonobi.com/sbi.js?aid=").concat(n,"&as=null&ref=").concat(encodeURIComponent(t))+'"><\/script>',h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return e.innerWidth>=t&&e.innerWidth<r}};function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=h(e),r={lt:768},n={lt:992,ge:768};return t(0,r.lt)?"mobile":t(n.ge,n.lt)?"tablet":"desktop"}function v(e){e.renderer.push(()=>{const[t,r]=e.getSize().split("x"),n=new window.SbiOutstreamRenderer;n.init({vastUrl:e.vastUrl,height:r,width:t}),n.setRootElement(e.adUnitCode)})}t._isInbounds=h,(0,n.registerBidder)(u),window.pbjs.installedModules.push("sonobiBidAdapter")},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["OPX","OPX_BM"],"openx")},function(e,t,r){"use strict";r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=t.USER_ID_CODE_TO_QUERY_ARG=void 0,r(4),r(1),r(13),r(30),r(16),r(197),r(24);var n=r(0),i=r(8),o=r(32),a=r(20),s=r(12);const c=[a.BANNER,a.VIDEO],d=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],u={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",hadronId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",admixerId:"admixerid",deepintentId:"deepintentid",dmdId:"dmdid",nextrollId:"nextrollid",novatiq:"novatiqid",mwOpenLinkId:"mwopenlinkid",dapId:"dapid",amxId:"amxid",kpuid:"kpuid",publinkId:"publinkid",naveggId:"naveggid",imuid:"imuid",adtelligentId:"adtelligentid"};t.USER_ID_CODE_TO_QUERY_ARG=u;const l={code:"openx",gvlid:69,supportedMediaTypes:c,isBidRequestValid:function(e){const t=e.params.delDomain||e.params.platform;return(0,n.deepAccess)(e,"mediaTypes.banner")&&t?!!e.params.unit||(0,n.deepAccess)(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];let r=[],[o,c]=function(e){return e.reduce((function(e,t){var r;return r=t,(0,n.deepAccess)(r,"mediaTypes.video")&&!(0,n.deepAccess)(r,"mediaTypes.banner")||r.mediaType===a.VIDEO?e[0].push(t):e[1].push(t),e}),[[],[]])}(e);return c.length>0&&r.push(function(e,t){let r=[],o=!1,s=f(e,t),c=(0,n._map)(e,e=>e.params.unit);return s.aus=(0,n._map)(e,e=>(0,n.parseSizesInput)(e.mediaTypes.banner.sizes).join(",")).join("|"),s.divids=(0,n._map)(e,e=>encodeURIComponent(e.adUnitCode)).join(","),s.aucs=(0,n._map)(e,(function(e){let t=(0,n.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(t||"")})).join(","),c.some(e=>e)&&(s.auid=c.join(",")),e.some(e=>e.params.doNotTrack)&&(s.ns=1),(!0===i.config.getConfig("coppa")||e.some(e=>e.params.coppa))&&(s.tfcd=1),e.forEach((function(e){if(e.params.customParams){let t=(0,n._map)(Object.keys(e.params.customParams),t=>function(e,t){let r=t[e];return(0,n.isArray)(r)&&(r=r.join(",")),(e.toLowerCase()+"="+r.toLowerCase()).replace("+",".").replace("/","_")}(t,e.params.customParams)),i=window.btoa(t.join("&"));o=!0,r.push(i)}else r.push("")})),o&&(s.tps=r.join(",")),m(s,a.BANNER,e),{method:"GET",url:s.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:s,payload:{bids:e,startTime:new Date}}}(c,t)),o.length>0&&o.forEach(e=>{r.push(function(e,t){let r=function(e,t){const r=(0,n.deepAccess)(e,"mediaTypes.video");let i,o,c=f([e],t),u=(0,n.deepAccess)(e,"params.video")||{},l=(0,n.deepAccess)(e,"mediaTypes.video.context"),p=(0,n.deepAccess)(e,"mediaTypes.video.playerSize");(0,n.isArray)(e.sizes)&&2===e.sizes.length&&!(0,n.isArray)(e.sizes[0])?(i=parseInt(e.sizes[0],10),o=parseInt(e.sizes[1],10)):(0,n.isArray)(e.sizes)&&(0,n.isArray)(e.sizes[0])&&2===e.sizes[0].length?(i=parseInt(e.sizes[0][0],10),o=parseInt(e.sizes[0][1],10)):(0,n.isArray)(p)&&2===p.length&&(i=parseInt(p[0],10),o=parseInt(p[1],10));let g={w:i,h:o},h=e.params.video||e.params.openrtb||{};h.openrtb&&(h=h.openrtb),(0,n.isArray)(h.imp)&&(h=h.imp[0].video),Object.keys(h).filter(e=>(0,s.includes)(d,e)).forEach(e=>g[e]=h[e]),Object.keys(r).filter(e=>(0,s.includes)(d,e)).forEach(e=>g[e]=r[e]);let y={imp:[{video:g}]};c.openrtb=JSON.stringify(y),c.auid=e.params.unit,c.vwd=i||u.vwd,c.vht=o||u.vht,"outstream"===l&&(c.vos="101"),u.mimes&&(c.vmimes=u.mimes),e.params.test&&(c.vtest=1);let v=(0,n.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");return v&&(c.aucs=encodeURIComponent(v)),m(c,a.VIDEO,[e]),c}(e,t);return{method:"GET",url:r.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:r,payload:{bid:e,startTime:new Date}}}(e,t))}),r},interpretResponse:function(e,t){let{body:r}=e;return function(e){return/avjp$/.test(e.url)?a.VIDEO:a.BANNER}(t)===a.VIDEO?function(e,t){let{bid:r,startTime:i}=t,o=[];if(void 0!==e&&""!==e.vastUrl&&e.pub_rev>0){let t=(0,n.parseUrl)(e.vastUrl).search||{},i={};i.requestId=r.bidId,e.deal_id&&(i.dealId=e.deal_id),i.ttl=300,i.netRevenue=!0,i.currency=e.currency,i.cpm=parseInt(e.pub_rev,10)/1e3,i.width=parseInt(e.width,10),i.height=parseInt(e.height,10),i.creativeId=e.adid,i.vastUrl=e.vastUrl,i.mediaType=a.VIDEO,e.ph=t.ph,e.colo=t.colo,e.ts=t.ts,o.push(i)}return o}(r,t.payload):function(e,t){let{bids:r,startTime:n}=t,i=e.ads.ad,o=[];for(let e=0;e<i.length;e++){let t=i[e],n=parseInt(t.idx,10),a={};if(a.requestId=r[n].bidId,!t.pub_rev)continue;a.cpm=Number(t.pub_rev)/1e3;let s=t.creative[0];s&&(a.width=s.width,a.height=s.height),a.creativeId=s.id,a.ad=t.html,t.deal_id&&(a.dealId=t.deal_id),a.ttl=300,a.netRevenue=!0,a.currency=t.currency,t.tbd&&(a.tbd=t.tbd),a.ts=t.ts,a.meta={},t.brand_id&&(a.meta.brandId=t.brand_id),t.adomain&&length(t.adomain)>0?a.meta.advertiserDomains=t.adomain:a.meta.advertiserDomains=[],t.adv_id&&(a.meta.dspid=t.adv_id),o.push(a)}return o}(r,t.payload)},getUserSyncs:function(e,t,r,i){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:(0,n.deepAccess)(t,"0.body.ads.pixels")||(0,n.deepAccess)(t,"0.body.pixels")||function(e,t){let r=[];return e&&(r.push("gdpr="+(e.gdprApplies?1:0)),r.push("gdpr_consent="+encodeURIComponent(e.consentString||""))),t&&r.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(r.length>0?"?"+r.join("&"):"")}(r,i)}]},transformBidParams:function(e,t){return(0,n.convertTypes)({unit:"string",customFloor:"number"},e)}};function p(e){let t,r,n,i=window,o=document,a=o.documentElement;if(e){try{i=window.top,o=window.top.document}catch(e){return}n=o.body,t=i.innerWidth||a.clientWidth||n.clientWidth,r=i.innerHeight||a.clientHeight||n.clientHeight}else t=i.innerWidth||a.clientWidth,r=i.innerHeight||a.clientHeight;return"".concat(t,"x").concat(r)}function f(e,t){const r=(0,n.inIframe)();let o;o={ju:t.refererInfo.page,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:r,tz:(new Date).getTimezoneOffset(),tws:p(r),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:(0,n._map)(e,e=>e.transactionId).join(","),nocache:(new Date).getTime()};const a=g("user.data",t.ortb2);a.length>0&&(o.sm=a);const s=g("site.content.data",t.ortb2);if(s.length>0&&(o.scsm=s),e[0].params.platform&&(o.ph=e[0].params.platform),t.gdprConsent){let e=t.gdprConsent;void 0!==e.consentString&&(o.gdpr_consent=e.consentString),void 0!==e.gdprApplies&&(o.gdpr=e.gdprApplies?1:0),"iab"===i.config.getConfig("consentManagement.cmpApi")&&(o.x_gdpr_f=1)}var c,d,l;return t&&t.uspConsent&&(o.us_privacy=t.uspConsent),(0,n.deepAccess)(e[0],"crumbs.pubcid")&&(0,n.deepSetValue)(e[0],"userId.pubcid",(0,n.deepAccess)(e[0],"crumbs.pubcid")),c=o,d=e[0].userId,(0,n._each)(d,(e,t)=>{const r=u[t];if(u.hasOwnProperty(t))switch(t){case"merkleId":case"uid2":c[r]=e.id;break;case"lipb":if(c[r]=e.lipbid,Array.isArray(e.segments)&&e.segments.length>0){const t="liveintent:"+e.segments.join("|");c.sm="".concat(c.sm?c.sm+",":"").concat(t)}break;case"parrableId":c[r]=e.eid;break;case"id5id":c[r]=e.uid;break;case"novatiq":c[r]=e.snowflake;break;default:c[r]=e}}),o=c,e[0].schain&&(o.schain=(l=e[0].schain,"".concat(l.ver,",").concat(l.complete,"!").concat(function(e){const t=["asi","sid","hp","rid","name","domain"];return e.map(e=>t.map(t=>e[t]||"").join(",")).join("!")}(l.nodes)))),o}function g(e,t){const r=(0,n.deepAccess)(t,e);if(!Array.isArray(r)||!r.length)return"";const i=r.filter(e=>Array.isArray(e.segment)&&e.segment.length>0&&void 0!==e.name&&e.name.length>0).reduce((e,t)=>{const r="object"==typeof t.ext&&t.ext.segtax?"".concat(t.name,"/").concat(t.ext.segtax):t.name;return e[r]=(e[r]||[]).concat(t.segment.map(e=>e.id)),e},{});return Object.keys(i).map((e,t)=>e+":"+i[e].join("|")).join(",")}function m(e,t,r){let n=[],o=!1;r.forEach((function(e){let r=function(e,t){let r={};const n=i.config.getConfig("currency.adServerCurrency")||"USD";"function"==typeof e.getFloor&&(r=e.getFloor({currency:n,mediaType:t,size:"*"}));let o=r.floor||e.params.customFloor||0;return Math.round(1e3*o)}(e,t);r?(n.push(r),o=!0):n.push(0)})),o&&(e.aumfs=n.join(","))}t.spec=l,(0,o.registerBidder)(l),window.pbjs.installedModules.push("openxBidAdapter")},function(e,t,r){"use strict";(0,r(22).registerAliasesForPrebidAdapter)(["GRID"],"grid")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSyncUrl=function(){return u},t.resetUserSync=function(){m=!1},t.storage=t.spec=void 0,r(1),r(4),r(13),r(30),r(24);var n=r(0),i=r(32),o=r(43),a=r(20),s=r(8),c=r(52),d=r(12);const u="https://x.bidswitch.net/sync?ssp=themediagrid",l=(0,c.getStorageManager)({gvlid:686,bidderCode:"grid"});t.storage=l;const p="Response is empty",f="Response has empty seatbid array",g={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}}};let m=!1;const h={code:"grid",gvlid:686,aliases:["playwire","adlivetech",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[a.BANNER,a.VIDEO],isBidRequestValid:function(e){return e&&Boolean(e.params.uid||e.params.secid)},buildRequests:function(e,t){if(!e.length)return null;let r=null,i=null,o=null,c=null,d=null,u=null,p=null,f=null,m=!1,{bidderRequestId:h,auctionId:y,gdprConsent:v,uspConsent:E,timeout:A,refererInfo:T}=t||{};const _=T?encodeURIComponent(T.page):"",S=A||s.config.getConfig("bidderTimeout"),w=[],O={},C=[],R={},x=[],P=[],k=[];e.forEach(e=>{const t={bid:e,savedPrebidBid:null};if(e.params.withCriteo&&I.isBidRequestValid(e)&&(R[e.bidId]=t,x.push(e)),!e.params.uid&&!e.params.secid)return;h||(h=e.bidderRequestId),y||(y=e.auctionId),c||(c=e.schain),d||(d=e.userIdAsEids),f||(f=g[e.bidder]&&g[e.bidder].endpoint);const{params:{uid:s,keywords:u,forceBidder:l,multiRequest:p},mediaTypes:v,bidId:E,adUnitCode:A,rtd:T,ortb2Imp:D}=e,{pubdata:N,secid:B,pubid:U,source:j,content:M}=e.params,q=function(e,t){const r=e.video?"video":"banner";let n=t.params.bidFloor||t.params.floorcpm||0;if("function"==typeof t.getFloor){const e=t.getFloor({currency:"USD",mediaType:r,size:t.sizes.map(e=>{let[t,r]=e;return{w:t,h:r}})});"object"!=typeof e||"USD"!==e.currency||isNaN(parseFloat(e.floor))||(n=Math.max(n,parseFloat(e.floor)))}return n}(v||{},e),L=T&&T.jwplayer&&T.jwplayer.targeting;L&&(!i&&L.segments&&(i=L.segments),!o&&L.content&&(o=L.content));let V={id:E.toString(),tagid:(B||s).toString(),ext:{divid:A.toString()}};if(D&&(D.instl&&(V.instl=D.instl),D.ext&&D.ext.data&&(V.ext.data=D.ext.data,V.ext.data.adserver&&V.ext.data.adserver.adslot?V.ext.gpid=V.ext.data.adserver.adslot.toString():V.ext.gpid=D.ext.data.pbadslot&&D.ext.data.pbadslot.toString())),(0,n.isEmpty)(u)||(r||(r=u),V.ext.bidder={keywords:u}),q&&(V.bidfloor=q),!v||v[a.BANNER]){const t=function(e,t){const r=t.sizes||e.sizes;if(!r||!r.length)return;let i=r.map(e=>(0,n.parseGPTSingleSizeArrayToRtbSize)(e)),o=(0,n.parseGPTSingleSizeArrayToRtbSize)(r[0]);return i.length&&(o.format=i),o}(e,v?v[a.BANNER]:{});t&&(V.banner=t)}if(v&&v[a.VIDEO]){const t=function(e,t){const{playerSize:r,mimes:i,durationRangeSec:o,protocols:a}=t,s=(r||e.sizes||[])[0];if(!s)return;let c=(0,n.parseGPTSingleSizeArrayToRtbSize)(s);return i&&(c.mimes=i),o&&2===o.length&&(c.minduration=o[0],c.maxduration=o[1]),a&&a.length&&(c.protocols=a),c}(e,v[a.VIDEO]);t&&(V.video=t)}if(V.banner||V.video)if(p){const r={tid:e.auctionId&&e.auctionId.toString(),ext:{wrapper:"Prebid_js",wrapper_version:"7.33.0"}};e.schain&&(r.ext.schain=e.schain);const n={id:e.bidderRequestId&&e.bidderRequestId.toString(),site:{page:_},tmax:S,source:r,imp:[V]};U&&(n.site.publisher={id:U});const i=N&&N.jwpseg||L&&L.segments,o=M||L&&L.content;o&&(n.site.content=o),i&&i.length&&(n.user={data:[{name:"iow_labs_pub_data",segment:b(i,"jwpseg")}]}),C.push(n),P.push(j),k.push(t)}else O[E]=t,w.push(V);!m&&l&&g[l]&&(m=l)}),m=s.config.getConfig("forceBidderName")||m,m&&g[m]&&(f=g[m].endpoint,this.forceBidderName=m);const D={tid:y&&y.toString(),ext:{wrapper:"Prebid_js",wrapper_version:"7.33.0"}};c&&(D.ext.schain=c);const N=w.length||!C.length?{id:h&&h.toString(),site:{page:_},tmax:S,source:D,imp:w}:null;o&&(N.site.content=o),i&&i.length&&(N.user={data:[{name:"iow_labs_pub_data",segment:b(i,"jwpseg")}]}),[...C,N].forEach(e=>{if(!e)return;const i=(0,n.deepAccess)(t,"ortb2.user.data");i&&i.length&&(u=e.user||{data:[]},u=(0,n.mergeDeep)(u,{data:[...i]})),v&&v.consentString&&(p={consent:v.consentString});const o=(0,n.deepAccess)(t,"ortb2.user.ext.device");o&&(p=p||{},p.device={...o}),d&&d.length&&(p=p||{},p.eids=[...d]),p&&Object.keys(p).length&&(u=u||{},u.ext=p);const a=l.getDataFromLocalStorage("tmguid")||function(){if(s.config.getConfig("localStorageWriteAllowed")){const e=(0,n.generateUUID)().replace(/-/g,"");return l.setDataInLocalStorage("tmguid",e),e}return null}();a&&(u=u||{},u.id=a.toString()),u&&(e.user=u);const c=(0,n.deepAccess)(t,"ortb2.user.keywords")||null,f=(0,n.deepAccess)(t,"ortb2.site.keywords")||null;c&&(r=r||{},r.user=r.user||{},r.user.ortb2=[{name:"keywords",keywords:c.split(",")}]),f&&(r=r||{},r.site=r.site||{},r.site.ortb2=[{name:"keywords",keywords:f.split(",")}]),r&&(r=function(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(n)if("site"===r||"user"===r){const e={};Object.keys(n).forEach(t=>{if(Array.isArray(n[t])){const r=[];n[t].forEach(e=>{if("object"==typeof e&&e.name){const t={name:e.name,segments:[]};Object.keys(e).forEach(r=>{Array.isArray(e[r])&&e[r].forEach(e=>{e&&("string"==typeof e?t.segments.push({name:r,value:e}):"segments"===r&&"string"==typeof e.name&&"string"==typeof e.value&&t.segments.push(e))})}),t.segments.length&&r.push(t)}}),r.length&&(e[t]=r)}}),t[r]=e}else t[r]=n}),Object.keys(t).length&&t}(r),r&&(e.ext={keywords:r})),v&&v.gdprApplies&&(e.regs={ext:{gdpr:v.gdprApplies?1:0}}),E&&(e.regs||(e.regs={ext:{}}),e.regs.ext.us_privacy=E),!0===s.config.getConfig("coppa")&&(e.regs||(e.regs={}),e.regs.coppa=1);const g=(0,n.deepAccess)(t,"ortb2.site");if(g){const t=[...g.cat||[],...g.pagecat||[]].filter(e=>e&&"string"==typeof e);t.length&&(e.site.cat=t);const r=(0,n.deepAccess)(g,"content.genre");r&&"string"==typeof r&&(e.site.content={...e.site.content,genre:r});const i=(0,n.deepAccess)(g,"content.data");if(i&&i.length){const t=e.site.content||{};e.site.content=(0,n.mergeDeep)(t,{data:i})}const o=(0,n.deepAccess)(g,"content.id");o&&(e.site.content={...e.site.content,id:o})}});const B=x.length&&I.buildRequests(x,t);return B&&(B.criteoBidsMap=R),[...C.map((e,t)=>{let r;const n=(f||"https://grid.bidswitch.net/hbjson").replace(/[?&]sp=([^?&=]+)/,(e,t)=>(t&&(r=t),""));let i=P[t]||r;return{method:"POST",url:n+(n.indexOf("?")>-1?"&":"?")+"no_mapping=1"+(i?"&sp=".concat(i):""),data:JSON.stringify(e),bidObject:k[t]}}),...N?[{method:"POST",url:f||"https://grid.bidswitch.net/hbjson",data:JSON.stringify(N),bidsMap:O}]:[],...B?[B]:[]]},interpretResponse:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Renderer;if(t.criteoBidsMap&&t.bidRequests)return I.interpretResponse(e,t).filter(e=>{const{savedPrebidBid:r}=t.criteoBidsMap[e.requestId]||{};return E(e.cpm,r&&r.cpm)});{e=e&&e.body;const i=[];let o;e?e.seatbid&&!e.seatbid.length&&(o=f):o=p;const a=this.forceBidderName||this.code;return!o&&e.seatbid&&e.seatbid.forEach(e=>{v(y(e),t,i,r,a)}),o&&(0,n.logError)(o),i}},getUserSyncs:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[n,,i,o]=t;if(!m&&n.pixelEnabled){let e="";i&&("boolean"==typeof i.gdprApplies&&(e+="&gdpr=".concat(Number(i.gdprApplies))),"string"==typeof i.consentString&&(e+="&gdpr_consent=".concat(i.consentString))),o&&(e+="&us_privacy=".concat(o));const t=this.forceBidderName||this.code,r=g[t]&&g[t].syncurl||u;return m=!0,{type:"image",url:r+e}}}};function y(e){return e?e.bid?e.bid[0]||(0,n.logError)("Array of bid objects is empty"):(0,n.logError)("Seatbid from response has no array of bid objects - "+JSON.stringify(e)):(0,n.logError)("Seatbid array from response has empty item"),e&&e.bid&&e.bid[0]}function v(e,t,r,i,o){if(!e)return;let s;if(e.auid||(s="Bid from response has no auid parameter - "+JSON.stringify(e)),s||e.adm||e.nurl){const s=t.bidsMap?t.bidsMap[e.impid]:t.bidObject,{bid:c,savedPrebidBid:d}=s||{};if(c&&E(e.price,d&&d.cpm)){const t={requestId:c.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain?e.adomain:[]},dealId:e.dealid};s.savedPrebidBid=t,e.ext&&e.ext.bidder&&e.ext.bidder.grid&&e.ext.bidder.grid.demandSource&&(t.adserverTargeting={hb_ds:e.ext.bidder.grid.demandSource},t.meta.demandSource=e.ext.bidder.grid.demandSource),"video"===e.content_type?(e.adm?(t.vastXml=e.adm,t.adResponse={content:t.vastXml}):e.nurl&&(t.vastUrl=e.nurl),t.mediaType=a.VIDEO,c.renderer||c.mediaTypes&&c.mediaTypes.video&&"outstream"!==c.mediaTypes.video.context||(t.renderer=function(e,t,r){const i=r.install({id:t.id,url:t.url,loaded:!1});try{i.setRender(A)}catch(e){(0,n.logWarn)("Prebid Error calling setRender on renderer",e)}return i}(0,{id:c.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"},i))):(t.ad=e.adm,t.mediaType=a.BANNER);const d=g[o]&&g[o].bidResponseExternal||{};r.push((0,n.mergeDeep)(t,d))}}else s="Bid from response has no adm parameter - "+JSON.stringify(e);s&&(0,n.logError)(s)}function b(e,t){return e.map(e=>{const r=e&&(e.id||e);return"string"==typeof r||"number"==typeof r?{value:r.toString(),...t&&{name:t},...e.name&&{name:e.name}}:null}).filter(e=>!!e)}function E(e,t){return!(0,n.isNumber)(t)||e>t||e===t&&Math.random()>.5}function A(e){e.renderer.push(()=>{window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})})}t.spec=h;const I={isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||w(e)&&!function(e){let t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(r){void 0===(0,n.deepAccess)(e,"mediaTypes.video."+r)&&void 0===(0,n.deepAccess)(e,"params.video."+r)&&(t=!1,(0,n.logError)("TheMediaGrid Bid Adapter (withCriteo mode): mediaTypes.video."+r+" is required"))})),t){const t=e.mediaTypes.video.placement||e.params.video.placement;if("instream"===e.mediaTypes.video.context&&1===t)return!0;if("outstream"===e.mediaTypes.video.context&&1!==t)return!0}return!1}(e)),buildRequests:(e,t)=>{var r,i;let o,c,d=t.ortb2||{};Object.assign(t,{publisherExt:null===(r=d.site)||void 0===r?void 0:r.ext,userExt:null===(i=d.user)||void 0===i?void 0:i.ext,ceh:s.config.getConfig("criteo.ceh"),coppa:s.config.getConfig("coppa")});const u=function(e,t){var r;let i="";t&&t.refererInfo&&(i=t.refererInfo.page);const o=(0,n.parseUrl)(null==t||null===(r=t.refererInfo)||void 0===r?void 0:r.topmostLocation).search,a={url:i,debug:"1"===o.pbt_debug,noLog:"1"===o.pbt_nolog,amp:!1};return e.forEach(e=>{"amp"===e.params.integrationMode&&(a.amp=!0)}),a}(e,t);if(o=function(e){let t="https://bidder.criteo.com/cdb";t+="?profileId=207",t+="&av="+String(34),t+="&wv="+encodeURIComponent("7.33.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),l.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");const r=T("cto_bundle");r&&(t+="&bundle=".concat(r)),T("cto_optout")&&(t+="&optout=1");const n=T("cto_sid");n&&(t+="&sid=".concat(n));const i=T("cto_idcpy");return i&&(t+="&idcpy=".concat(i)),t}(u),c=function(e,t,r){let i,o;const s={publisher:{url:e.url,ext:r.publisherExt},regs:{coppa:!0===r.coppa?1:!1===r.coppa?0:void 0},slots:t.map(e=>{i=e.params.networkId||i,o=e.schain||o;const t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,n.deepAccess)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),function(e){return void 0!==(0,n.deepAccess)(e,"mediaTypes.banner")}(e)?t.sizes=_((0,n.deepAccess)(e,"mediaTypes.banner.sizes"),S):t.sizes=[],w(e)){const r={playersizes:_((0,n.deepAccess)(e,"mediaTypes.video.playerSize"),S),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay},i=e.params.video;void 0!==i&&(r.skip=r.skip||i.skip||0,r.placement=r.placement||i.placement,r.minduration=r.minduration||i.minduration,r.playbackmethod=r.playbackmethod||i.playbackmethod,r.startdelay=r.startdelay||i.startdelay||0),t.video=r}return function(e,t){try{const o={};var r,i;if(t.getFloor)null!==(r=t.mediaTypes)&&void 0!==r&&r.banner&&(o.banner={},_((0,n.deepAccess)(t,"mediaTypes.banner.sizes")).forEach(e=>o.banner[S(e).toString()]=t.getFloor({size:e,mediaType:a.BANNER}))),null!==(i=t.mediaTypes)&&void 0!==i&&i.video&&(o.video={},_((0,n.deepAccess)(t,"mediaTypes.video.playerSize")).forEach(e=>o.video[S(e).toString()]=t.getFloor({size:e,mediaType:a.VIDEO}))),Object.keys(o).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:o}))}catch(e){(0,n.logError)("Could not parse floors from Prebid: "+e)}}(t,e),t})};return i&&(s.publisher.networkid=i),o&&(s.source={ext:{schain:o}}),s.user={ext:r.userExt},r&&r.ceh&&(s.user.ceh=r.ceh),r&&r.gdprConsent&&(s.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(s.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),s.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(s.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(s.user.uspIab=r.uspConsent),s}(u,e,t),c)return{method:"POST",url:o,data:c,bidRequests:e}},interpretResponse:(e,t)=>{const r=e.body||e,i=[];return r&&r.slots&&(0,n.isArray)(r.slots)&&r.slots.forEach(n=>{var o,s,c,u;const l={requestId:(0,d.find)(t.bidRequests,e=>e.adUnitCode===n.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===n.zoneid)).bidId,cpm:n.cpm,currency:n.currency,netRevenue:!0,ttl:n.ttl||60,creativeId:n.creativecode,width:n.width,height:n.height,dealId:n.dealCode};if(null!==(o=r.ext)&&void 0!==o&&null!==(s=o.paf)&&void 0!==s&&s.transmission&&null!==(c=n.ext)&&void 0!==c&&null!==(u=c.paf)&&void 0!==u&&u.content_id){const t={content_id:n.ext.paf.content_id,transmission:e.ext.paf.transmission};l.meta=Object.assign({},l.meta,{paf:t})}n.adomain&&(l.meta=Object.assign({},l.meta,{advertiserDomains:n.adomain})),n.video?(l.vastUrl=n.displayurl,l.mediaType=a.VIDEO):l.ad=n.creative,i.push(l)}),i}};function T(e){const t=l.getCookie(e),r=l.getDataFromLocalStorage(e);return t||r||void 0}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return void 0===e?[]:Array.isArray(e[0])?e.map(e=>t(e)):[t(e)]}function S(e){return e[0]+"x"+e[1]}function w(e){return void 0!==(0,n.deepAccess)(e,"mediaTypes.video")}(0,i.registerBidder)(h),window.pbjs.installedModules.push("gridBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getBids=l,r(4);var n=c(r(71)),i=c(r(92)),o=c(r(93)),a=c(r(117)),s=c(r(22));function c(e){return e&&e.__esModule?e:{default:e}}const d="TEST_BID";function u(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(e=>{const[t,r]=e.sizes[0],n="".concat(t,"x").concat(r),o=e.bids[0];return{ad:"HB CREATIVE",bidId:o.id,mediaType:"d",value:.5,id:o.id,size:n,status:i.default.SUCCESS,request:e}})}function l(e,t,r,i,s,c,l){if(!e)return void c({code:d,error:{code:n.default.WRONG_PARAMS,msg:"slots"}});const p=new a.default(o.default.LOAD);setTimeout((function(){c({code:d,stats:p.stop(),success:!0,response:u([],e)})}),1e3)}const p={code:d,getBids:l,formatResponse:u,renderAd:function(e,t){t.open(),t.write(e.ad)}};s.default.registerAdapter(d,p);var f=p;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AdapterError",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"BidMediaType",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BidStatus",{enumerable:!0,get:function(){return s.default}}),t.setPrebidConfig=t.renderAd=t.logAd=t.getCreativeByBidId=t.getBids=void 0,Object.defineProperty(t,"stats",{enumerable:!0,get:function(){return o.default}});var n=d(r(22)),i=d(r(71)),o=d(r(93)),a=d(r(124)),s=d(r(92)),c=r(74);function d(e){return e&&e.__esModule?e:{default:e}}d(r(183)).default.processQueue();const u=n.default.renderAd;t.renderAd=u;const l=n.default.logAd;t.logAd=l,t.getBids=(e,t)=>{n.default.getBids(e,e=>{c.userSync.triggerUserSyncs(),t(e)})},t.setPrebidConfig=e=>{pbjs.setConfig(e)};const p=n.default.getCreativeByBidId;t.getCreativeByBidId=p}])}}]);